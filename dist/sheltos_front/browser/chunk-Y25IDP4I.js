import{c as rt,d as Ne,f as oe,g as jt,h as Fe}from"./chunk-ACCN7XIB.js";import{$a as Si,A as yi,Aa as de,B as le,Ba as Ot,Bb as U,Bc as Ii,Ca as T,Da as Pt,Db as xi,E as Dt,Ea as At,Eb as O,Ec as Se,Fa as Ke,Fb as Ei,Fc as Q,Ga as wi,Gc as et,Hb as g,Hc as tt,I as ce,Ib as Ft,Ic as Ri,Ja as K,Jb as Lt,K as vi,Ka as Te,Kb as Pe,Kc as it,L as bi,La as Mt,Lb as re,Lc as Ti,M as It,Mb as j,Nb as W,O as Ci,Oc as q,P as Ze,Pa as m,Pc as nt,Qb as Ce,Ra as w,Rb as qe,Sa as k,Sb as Ae,Ua as be,V as Rt,Va as te,Vb as Vt,Vc as xe,W as ye,Wb as Di,X as Z,Xa as ue,Y as Tt,Ya as Qe,Z as Y,Za as f,a as V,ab as D,bb as ge,c as _e,cb as X,d as S,e as xt,ea as _,fa as he,ga as B,gb as C,gc as Me,ha as $,ia as u,j as Et,jb as ke,k as De,kb as L,kc as Bt,lc as Ht,ma as ve,oa as z,oc as we,p as Ue,pa as N,q as Ie,qb as c,rb as v,sa as H,sb as b,t as mi,ta as E,tb as I,u as _i,ub as zt,vb as Nt,wa as kt,wc as ze,xb as ie,y as Re,yb as ne,zb as Oe,zc as Je}from"./chunk-NXIMDZUX.js";import{a as y,b as ae}from"./chunk-RA2WU32H.js";var Wt;try{Wt=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wt=!1}var A=(()=>{class i{_platformId=u(Ke);isBrowser=this._platformId?nt(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Wt)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ee=(function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i})(Ee||{}),ot,fe;function Gt(){if(fe==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return fe=!1,fe;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)fe=!0;else{let i=Element.prototype.scrollTo;i?fe=!/\{\s*\[native code\]\s*\}/.test(i.toString()):fe=!1}}return fe}function Yt(){if(typeof document!="object"||!document)return Ee.NORMAL;if(ot==null){let i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let n=document.createElement("div"),t=n.style;t.width="2px",t.height="1px",i.appendChild(n),document.body.appendChild(i),ot=Ee.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,ot=i.scrollLeft===0?Ee.NEGATED:Ee.INVERTED),i.remove()}return ot}function $t(i){return i.composedPath?i.composedPath()[0]:i.target}function Xt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Le(i){return i instanceof T?i.nativeElement:i}function Ut(i){return Array.isArray(i)?i:[i]}function x(i){return i==null?"":typeof i=="string"?i:`${i}px`}function xn(i,e){if(i&1){let n=U();v(0,"div",1),O("click",function(){let r=z(n).index,o=g();return N(o.gallery.ref(o.galleryId).set(r))}),I(1,"div",2),b()}if(i&2){let n=e.index,t=g();qe("width",t.config==null?null:t.config.dotsSize,"px")("height",t.config==null?null:t.config.dotsSize,"px"),Ae("g-dot-active",n===t.state.currIndex)}}function En(i,e){if(i&1){let n=U();v(0,"i",2),O("click",function(){z(n);let r=g();return N(r.gallery.ref(r.galleryId).prev(r.config.navScrollBehavior))}),b()}if(i&2){let n=g();c("innerHtml",n.navIcon,K)}}function Dn(i,e){if(i&1){let n=U();v(0,"i",3),O("click",function(){z(n);let r=g();return N(r.gallery.ref(r.galleryId).next(r.config.navScrollBehavior))}),b()}if(i&2){let n=g();c("innerHtml",n.navIcon,K)}}var In=["iframe"];function Rn(i,e){if(i&1&&I(0,"iframe",3,1),i&2){let n=g();c("src",n.iframeSrc,Mt),L("loading",n.loadingAttr)}}function Tn(i,e){if(i&1&&I(0,"iframe",4,1),i&2){let n=g();c("src",n.iframeSrc,Mt),L("loading",n.loadingAttr)}}var kn=["video"];function On(i,e){if(i&1&&I(0,"source",5),i&2){let n=g().$implicit;c("src",n==null?null:n.url,Te)("type",n.type)}}function Pn(i,e){if(i&1&&I(0,"source",6),i&2){let n=g().$implicit;c("src",n==null?null:n.url,Te)}}function An(i,e){if(i&1&&(ie(0),C(1,On,1,2,"source",4)(2,Pn,1,1,"ng-template",null,1,we),ne()),i&2){let n=e.$implicit,t=Ce(3);m(),c("ngIf",n==null?null:n.type)("ngIfElse",t)}}function Mn(i,e){if(i&1&&I(0,"div",9),i&2){let n=g(2);c("innerHTML",n.errorTemplate,K)}}function zn(i,e){if(i&1&&(ie(0),v(1,"h4"),I(2,"div",11),b(),ne()),i&2){let n=g(3);m(2),c("innerHTML",n.errorSvg,K)}}function Nn(i,e){if(i&1&&(v(0,"h2"),I(1,"div",12),b(),v(2,"p"),Vt(3,"Unable to load the image!"),b()),i&2){let n=g(3);m(),c("innerHTML",n.errorSvg,K)}}function Fn(i,e){if(i&1&&C(0,zn,3,1,"ng-container",10)(1,Nn,4,1,"ng-template",null,1,we),i&2){let n=Ce(2),t=g(2);c("ngIf",t.isThumbnail)("ngIfElse",n)}}function Ln(i,e){if(i&1&&(v(0,"div",7),C(1,Mn,1,1,"div",8)(2,Fn,3,2,"ng-template",null,0,we),b()),i&2){let n=Ce(3),t=g();m(),c("ngIf",t.errorTemplate)("ngIfElse",n)}}function Vn(i,e){if(i&1&&I(0,"div",14),i&2){let n=g(2);c("innerHTML",n.loaderTemplate,K)}}function Bn(i,e){i&1&&I(0,"div",16)}function Hn(i,e){if(i&1&&C(0,Bn,1,0,"div",15),i&2){let n=g(2);c("ngIf",n.isThumbnail)}}function jn(i,e){if(i&1&&(ie(0),C(1,Vn,1,1,"div",13)(2,Hn,1,1,"ng-template",null,2,we),ne()),i&2){let n=Ce(3),t=g();m(),c("ngIf",t.loaderTemplate)("ngIfElse",n)}}function Wn(i,e){i&1&&Oe(0)}function Gn(i,e){if(i&1&&(v(0,"div",9),C(1,Wn,1,0,"ng-container",10),b()),i&2){let n=g(3);m(),c("ngTemplateOutlet",n.config.imageTemplate)("ngTemplateOutletContext",n.imageContext)}}function Yn(i,e){if(i&1){let n=U();ie(0),v(1,"gallery-image",7),O("loaded",function(){z(n);let r=g(2);return N(r.onItemLoaded())})("error",function(r){z(n);let o=g(2);return N(o.error.emit(r))}),b(),C(2,Gn,2,2,"div",8),ne()}if(i&2){let n=g(2);m(),c("src",n.imageData.src)("alt",n.imageData.alt)("loadingAttr",n.config.loadingAttr)("loadingIcon",n.config.loadingIcon)("loadingError",n.config.loadingError),m(),c("ngIf",n.config.imageTemplate)}}function $n(i,e){if(i&1){let n=U();v(0,"gallery-video",11),O("error",function(r){z(n);let o=g(2);return N(o.error.emit(r))}),b()}if(i&2){let n=g(2);c("src",n.videoData.src)("mute",n.videoData.mute)("poster",n.videoData.poster)("controls",n.videoData.controls)("controlsList",n.videoData.controlsList)("disablePictureInPicture",n.videoData.disablePictureInPicture)("play",n.isAutoPlay)("pause",n.currIndex!==n.index)}}function Xn(i,e){if(i&1&&I(0,"gallery-iframe",12),i&2){let n=g(2);c("src",n.youtubeSrc)("autoplay",n.isAutoPlay)("loadingAttr",n.config.loadingAttr)("pause",n.currIndex!==n.index)}}function Un(i,e){if(i&1&&I(0,"gallery-iframe",13),i&2){let n=g(2);c("src",n.data.src)("loadingAttr",n.config.loadingAttr)}}function Zn(i,e){i&1&&Oe(0)}function Kn(i,e){if(i&1&&(v(0,"div",9),C(1,Zn,1,0,"ng-container",10),b()),i&2){let n=g(3);m(),c("ngTemplateOutlet",n.config.itemTemplate)("ngTemplateOutletContext",n.itemContext)}}function Qn(i,e){if(i&1&&(ie(0),C(1,Kn,2,2,"div",8),ne()),i&2){let n=g(2);m(),c("ngIf",n.config.itemTemplate)}}function qn(i,e){if(i&1&&(ie(0,1),C(1,Yn,3,6,"ng-container",2)(2,$n,1,8,"gallery-video",3)(3,Xn,1,4,"gallery-iframe",4)(4,Un,1,2,"gallery-iframe",5)(5,Qn,2,1,"ng-container",6),ne()),i&2){let n=g();c("ngSwitch",n.type),m(),c("ngSwitchCase",n.Types.Image),m(),c("ngSwitchCase",n.Types.Video),m(),c("ngSwitchCase",n.Types.Youtube),m(),c("ngSwitchCase",n.Types.Iframe)}}var Mi=["slider"],Jn=["*"];function er(i,e){if(i&1){let n=U();v(0,"gallery-item",4),O("click",function(){let r=z(n).index,o=g();return N(o.itemClick.emit(r))})("error",function(r){let o=z(n).index,s=g();return N(s.error.emit({itemIndex:o,error:r}))}),b()}if(i&2){let n=e.$implicit,t=e.index,r=g();c("type",n.type)("config",r.config)("data",n.data)("currIndex",r.state.currIndex)("index",t)("count",r.state.items.length),L("galleryId",r.galleryId)}}function tr(i,e){i&1&&Oe(0)}function ir(i,e){if(i&1&&(v(0,"div",2),C(1,tr,1,0,"ng-container",3),b()),i&2){let n=g();m(),c("ngTemplateOutlet",n.config.thumbTemplate)("ngTemplateOutletContext",n.imageContext)}}function nr(i,e){if(i&1){let n=U();v(0,"gallery-thumb",4),O("click",function(){let r=z(n).index,o=g();return N(o.config.disableThumb?null:o.thumbClick.emit(r))})("error",function(r){let o=z(n).index,s=g();return N(s.error.emit({itemIndex:o,error:r}))}),b()}if(i&2){let n=e.$implicit,t=e.index,r=g();c("type",n.type)("config",r.config)("data",n.data)("currIndex",r.state.currIndex)("index",t)("count",r.state.items.length)}}var rr=(i,e)=>({state:i,config:e});function or(i,e){if(i&1){let n=U();v(0,"gallery-thumbs",7),O("thumbClick",function(r){z(n);let o=g();return N(o.thumbClick.emit(r))})("error",function(r){z(n);let o=g();return N(o.error.emit(r))}),b()}if(i&2){let n=g();c("state",n.state)("config",n.config)}}function sr(i,e){if(i&1&&I(0,"gallery-nav",8),i&2){let n=g();c("state",n.state)("config",n.config)("galleryId",n.galleryId)}}function ar(i,e){if(i&1&&I(0,"gallery-dots",8),i&2){let n=g();c("state",n.state)("config",n.config)("galleryId",n.galleryId)}}function lr(i,e){if(i&1&&I(0,"gallery-counter",9),i&2){let n=g();c("state",n.state)}}function cr(i,e){i&1&&Oe(0)}var P=(function(i){return i.INITIALIZED="initialized",i.ITEMS_CHANGED="itemsChanged",i.INDEX_CHANGED="indexChanged",i.PLAY="play",i.STOP="stop",i})(P||{}),Zt=(function(i){return i.Cover="cover",i.Contain="contain",i})(Zt||{}),at=(function(i){return i.Preload="preload",i.Lazy="lazy",i.Default="default",i})(at||{}),zi=(function(i){return i.Eager="eager",i.Lazy="lazy",i})(zi||{}),se=(function(i){return i.Top="top",i.Left="left",i.Right="right",i.Bottom="bottom",i})(se||{}),Ni=(function(i){return i.Top="top",i.Bottom="bottom",i})(Ni||{}),Fi=(function(i){return i.Top="top",i.Bottom="bottom",i})(Fi||{}),lt=(function(i){return i.Horizontal="horizontal",i.Vertical="vertical",i})(lt||{}),ee=(function(i){return i.Image="image",i.Video="video",i.Youtube="youtube",i.Iframe="iframe",i})(ee||{}),je=(function(i){return i.Default="default",i.Contain="contain",i})(je||{}),ki={action:P.INITIALIZED,isPlaying:!1,hasNext:!1,hasPrev:!1,currIndex:0,items:[]},Oi={nav:!0,loop:!0,dots:!1,thumb:!0,debug:!1,dotsSize:6,counter:!0,autoPlay:!1,thumbWidth:120,thumbHeight:90,disableThumb:!1,slidingDisabled:!1,thumbSlidingDisabled:!1,mouseSlidingDisabled:!1,thumbMouseSlidingDisabled:!1,playerInterval:3e3,slidingDuration:468,slidingEase:{x1:.42,y1:0,x2:.58,y2:1},thumbAutosize:!1,itemAutosize:!1,autoHeight:!1,scrollBehavior:"smooth",navScrollBehavior:"smooth",resizeDebounceTime:50,loadingAttr:zi.Lazy,imageSize:Zt.Contain,thumbImageSize:Zt.Cover,thumbView:je.Default,dotsPosition:Ni.Bottom,counterPosition:Fi.Top,thumbPosition:se.Bottom,loadingStrategy:at.Preload,slidingDirection:lt.Horizontal,navIcon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z"/></svg>',loadingIcon:'<?xml version="1.0" encoding="UTF-8"?><svg stroke="#fff" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},He=class{constructor(e){this.data=e,this.type=ee.Image}},Kt=class{constructor(e){this.data=e,this.type=ee.Video}},Qt=class{constructor(e){this.data=e,this.type=ee.Iframe}},qt=class{constructor(e){this.data=ae(y({},e),{src:`https://youtube.com/embed/${e.src}`,thumb:e.thumb?e.thumb:`//img.youtube.com/vi/${e.src}/default.jpg`}),this.type=ee.Youtube}},Ve=i=>le(e=>i.indexOf(e.action)>-1),Jt=class{get stateSnapshot(){return this._state.value}get configSnapshot(){return this._config.value}get initialized(){return this.state.pipe(Ve([P.INITIALIZED]))}get itemsChanged(){return this.state.pipe(Ve([P.ITEMS_CHANGED]))}get indexChanged(){return this.state.pipe(Ve([P.INDEX_CHANGED]))}get playingChanged(){return this.state.pipe(Ve([P.PLAY,P.STOP]))}get playerActions(){return this.state.pipe(Ve([P.PLAY,P.STOP,P.INDEX_CHANGED]))}constructor(e,n){this.deleteInstance=n,this.itemClick=new S,this.thumbClick=new S,this.error=new S,this._state=new xt(ki),this._config=new xt(e),this.state=this._state.asObservable(),this.config=this._config.asObservable()}activatePlayer(){return this.playerActions.pipe(ye(e=>e.isPlaying?Ie({}).pipe(bi(this._config.value.playerInterval),Y(()=>this.next(this._config.value.scrollBehavior))):De))}setState(e){this._state.next(y(y({},this.stateSnapshot),e))}setConfig(e){this._config.next(y(y({},this._config.value),e))}add(e,n){let t=[...this.stateSnapshot.items,e];this.setState({action:P.ITEMS_CHANGED,items:t,hasNext:t.length>1,currIndex:n?t.length-1:this.stateSnapshot.currIndex})}addImage(e,n){this.add(new He(e),n)}addVideo(e,n){this.add(new Kt(e),n)}addIframe(e,n){this.add(new Qt(e),n)}addYoutube(e,n){this.add(new qt(e),n)}remove(e){let n=this.stateSnapshot,t=[...n.items.slice(0,e),...n.items.slice(e+1,n.items.length)];this.setState({action:P.ITEMS_CHANGED,currIndex:e<1?n.currIndex:e-1,items:t,hasNext:t.length>1,hasPrev:e>0})}load(e){e&&this.setState({action:P.ITEMS_CHANGED,items:e,hasNext:e.length>1,hasPrev:!1})}set(e,n=this._config.value.scrollBehavior){if(e<0||e>=this.stateSnapshot.items.length){console.error(`[NgGallery]: Unable to set the active item because the given index (${e}) is outside the items range!`);return}e!==this.stateSnapshot.currIndex&&this.setState({behavior:n,action:P.INDEX_CHANGED,currIndex:e,hasNext:e<this.stateSnapshot.items.length-1,hasPrev:e>0})}next(e=this._config.value.scrollBehavior,n=!0){this.stateSnapshot.hasNext?this.set(this.stateSnapshot.currIndex+1,e):n&&this._config.value.loop&&this.set(0,e)}prev(e=this._config.value.scrollBehavior,n=!0){this.stateSnapshot.hasPrev?this.set(this.stateSnapshot.currIndex-1,e):n&&this._config.value.loop&&this.set(this.stateSnapshot.items.length-1,e)}play(e){e&&this.setConfig({playerInterval:e}),this.setState({action:P.PLAY,isPlaying:!0})}stop(){this.setState({action:P.STOP,isPlaying:!1})}reset(){this.setState(ki)}destroy(){this._state.complete(),this._config.complete(),this.itemClick.complete(),this.thumbClick.complete(),this.deleteInstance()}},hr=new B("GALLERY_CONFIG"),pe=(()=>{let e=class e{constructor(t){this._instances=new Map,this.config=t?y(y({},Oi),t):Oi}ref(t="root",r){if(this._instances.has(t)){let o=this._instances.get(t);return r&&o.setConfig(y(y({},this.config),r)),o}else return this._instances.set(t,new Jt(y(y({},this.config),r),this.deleteInstance(t))).get(t)}destroyAll(){this._instances.forEach(t=>t.destroy())}resetAll(){this._instances.forEach(t=>t.reset())}debugConsole(...t){this.config.debug&&console.log(...t)}deleteInstance(t){return()=>{this._instances.has(t)&&this._instances.delete(t)}}};e.\u0275fac=function(r){return new(r||e)($(hr,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),dr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["gallery-counter"]],inputs:{state:"state"},decls:2,vars:1,consts:[[1,"g-counter"]],template:function(r,o){r&1&&(zt(0,"div",0),Vt(1),Nt()),r&2&&(m(),Di(o.state.currIndex+1+" / "+o.state.items.length))},encapsulation:2,changeDetection:0});let i=e;return i})(),ur=(()=>{let e=class e{constructor(t){this.gallery=t}};e.\u0275fac=function(r){return new(r||e)(f(pe))},e.\u0275cmp=D({type:e,selectors:[["gallery-dots"]],inputs:{galleryId:"galleryId",state:"state",config:"config"},decls:1,vars:1,consts:[["class","g-dot",3,"g-dot-active","width","height","click",4,"ngFor","ngForOf"],[1,"g-dot",3,"click"],[1,"g-dot-inner"]],template:function(r,o){r&1&&C(0,xn,2,6,"div",0),r&2&&c("ngForOf",o.state.items)},dependencies:[q,Se],encapsulation:2,changeDetection:0});let i=e;return i})(),gr=(()=>{let e=class e{constructor(t,r){this.gallery=t,this._sanitizer=r}ngOnInit(){this.navIcon=this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon)}};e.\u0275fac=function(r){return new(r||e)(f(pe),f(xe))},e.\u0275cmp=D({type:e,selectors:[["gallery-nav"]],inputs:{galleryId:"galleryId",state:"state",config:"config"},decls:2,vars:2,consts:[["class","g-nav-prev","aria-label","Previous","role","button",3,"innerHtml","click",4,"ngIf"],["class","g-nav-next","aria-label","Next","role","button",3,"innerHtml","click",4,"ngIf"],["aria-label","Previous","role","button",1,"g-nav-prev",3,"click","innerHtml"],["aria-label","Next","role","button",1,"g-nav-next",3,"click","innerHtml"]],template:function(r,o){r&1&&C(0,En,1,1,"i",0)(1,Dn,1,1,"i",1),r&2&&(c("ngIf",o.config.loop||o.state.hasPrev),m(),c("ngIf",o.config.loop||o.state.hasNext))},dependencies:[q,Q],encapsulation:2,changeDetection:0});let i=e;return i})(),fr=2,pr=4,mr=8,_r=16;var ct=class{get scrollValue(){return this.slider.scrollLeft}get clientSize(){return this.slider.clientWidth}constructor(e,n){this.slider=e,this.config=n,this.panDirection=fr|pr,this.scrollSnapType="x mandatory"}getPanValue(e,n,t){return{behavior:t,left:e-n.deltaX}}},ht=class{get scrollValue(){return this.slider.scrollTop}get clientSize(){return this.slider.clientHeight}constructor(e,n){this.slider=e,this.config=n,this.scrollSnapType="y mandatory",this.panDirection=mr|_r}getPanValue(e,n,t){return{behavior:t,top:e-n.deltaY}}},ei=class extends ct{get thumbSize(){return this.config.thumbWidth}get isContentLessThanContainer(){return this.slider.clientWidth>=this.slider.firstElementChild.clientWidth}constructor(e,n){super(e,n),this.slider=e,this.config=n}getCentralisedScrollToValue(e,n,t){let r=e.offsetLeft;return t===je.Default&&(r-=this.clientSize/2-e.clientWidth/2),{start:r,duration:n==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getScrollToValue(e,n){return{start:e.offsetLeft-(this.clientSize-e.clientWidth)/2,duration:n==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientWidth/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientWidth/2}},ti=class extends ht{get thumbSize(){return this.config.thumbHeight}get isContentLessThanContainer(){return this.slider.clientHeight>=this.slider.firstElementChild.clientHeight}constructor(e,n){super(e,n),this.slider=e,this.config=n}getCentralisedScrollToValue(e,n,t){let r=e.offsetTop;return t===je.Default&&(r-=this.clientSize/2-e.clientHeight/2),{top:r,duration:n==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getScrollToValue(e,n){return{top:e.offsetTop-(this.clientSize-e.clientHeight)/2,duration:n==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientHeight/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientHeight/2}},ii=class extends ct{get measureIndex(){return this.slider.scrollLeft/this.slider.clientWidth}get isContentLessThanContainer(){return this.slider.clientWidth>=this.slider.firstElementChild.clientWidth}constructor(e,n){super(e,n),this.slider=e,this.config=n}getClientSize(e){return e.clientWidth}getOffsetSize(e){return e.offsetLeft}getScrollToValue(e,n){return{start:e.offsetLeft-(this.clientSize-e.clientWidth)/2,duration:n==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getPanDelta(e){return e.deltaX}getPanVelocity(e){return e.velocityX}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientWidth/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientWidth/2}},ni=class extends ht{get measureIndex(){return this.slider.scrollTop/this.slider.clientHeight}get isContentLessThanContainer(){return this.slider.clientHeight>=this.slider.firstElementChild.clientHeight}constructor(e,n){super(e,n),this.slider=e,this.config=n}getClientSize(e){return e.clientHeight}getOffsetSize(e){return e.offsetTop}getScrollToValue(e,n){return{top:e.offsetTop-(this.clientSize-e.clientHeight)/2,duration:n==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getPanDelta(e){return e.deltaY}getPanVelocity(e){return e.velocityY}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientHeight/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientHeight/2}};function Li(i){return new _e(e=>{let n=new ResizeObserver(t=>e.next(t));return n.observe(i),function(){n.disconnect()}})}var yr=(()=>{let e=class e{set src(t){this.videoSrc=t,this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(t)}set pauseVideo(t){if(this.iframe?.nativeElement&&t){let r=this.iframe.nativeElement;r.src=null,!this.autoplay&&this.videoSrc&&(this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(this.videoSrc))}}constructor(t){this._sanitizer=t}};e.\u0275fac=function(r){return new(r||e)(f(xe))},e.\u0275cmp=D({type:e,selectors:[["gallery-iframe"]],viewQuery:function(r,o){if(r&1&&re(In,5),r&2){let s;j(s=W())&&(o.iframe=s.first)}},inputs:{src:"src",pauseVideo:[0,"pause","pauseVideo"],autoplay:"autoplay",loadingAttr:"loadingAttr"},decls:3,vars:2,consts:[["default",""],["iframe",""],["allowfullscreen","","allow","","style","border:none",3,"src",4,"ngIf","ngIfElse"],["allowfullscreen","","allow","",2,"border","none",3,"src"],["allowfullscreen","",2,"border","none",3,"src"]],template:function(r,o){if(r&1&&C(0,Rn,2,2,"iframe",2)(1,Tn,2,2,"ng-template",null,0,we),r&2){let s=Ce(2);c("ngIf",o.autoplay)("ngIfElse",s)}},dependencies:[Q],encapsulation:2,changeDetection:0});let i=e;return i})(),vr=(()=>{let e=class e{constructor(){this.error=new w}set pauseVideo(t){if(this.video.nativeElement){let r=this.video.nativeElement;t&&!r.paused&&r.pause()}}set playVideo(t){if(this.video.nativeElement){let r=this.video.nativeElement;t&&r.play()}}ngOnInit(){this.src instanceof Array?this.videoSources=[...this.src]:this.videoSources=[{url:this.src}]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["gallery-video"]],viewQuery:function(r,o){if(r&1&&re(kn,7),r&2){let s;j(s=W())&&(o.video=s.first)}},inputs:{src:"src",poster:"poster",mute:"mute",loop:"loop",controls:"controls",controlsList:"controlsList",disableRemotePlayback:"disableRemotePlayback",disablePictureInPicture:"disablePictureInPicture",pauseVideo:[0,"pause","pauseVideo"],playVideo:[0,"play","playVideo"]},outputs:{error:"error"},decls:3,vars:8,consts:[["video",""],["noType",""],[3,"error","disableRemotePlayback","controls","loop","poster"],[4,"ngFor","ngForOf"],[3,"src","type",4,"ngIf","ngIfElse"],[3,"src","type"],[3,"src"]],template:function(r,o){if(r&1){let s=U();v(0,"video",2,0),O("error",function(l){return z(s),N(o.error.emit(l))}),C(2,An,4,2,"ng-container",3),b()}r&2&&(c("disableRemotePlayback",o.disableRemotePlayback)("controls",o.controls)("loop",o.loop)("poster",o.poster,Te),L("mute",o.mute)("controlsList",o.controlsList)("disablePictureInPicture",o.disablePictureInPicture),m(2),c("ngForOf",o.videoSources))},dependencies:[Se,Q],encapsulation:2,changeDetection:0});let i=e;return i})(),br=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="100" height="100" version="1.1" viewBox="0 0 256 256" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
 <g transform="translate(1.4066 1.4066) scale(2.81)">
	<path d="m74.453 48.627c-5.538 0-11.075-2.107-15.291-6.324-6.11-6.11-7.768-14.99-5.024-22.629h-48.08c-3.346 1e-3 -6.058 2.713-6.058 6.059v16.322l23.834 20.315c2.278 1.942 5.573 2.119 8.047 0.434l14.382-9.801c2.33-1.588 5.408-1.531 7.677 0.141l27.15 20.001v-25.574c-2.156 0.692-4.394 1.056-6.637 1.056z" fill="#c1e5f4" stroke-linecap="round"/>
 <circle cx="27.942" cy="37.942" r="6.072" fill="#fff0a9"/>
 <path d="m85.446 16.02c-6.061-6.061-15.922-6.061-21.983 0s-6.061 15.923 0 21.984c3.031 3.031 7.011 4.546 10.992 4.546 3.98 0 7.962-1.515 10.992-4.545 2.936-2.937 4.553-6.841 4.553-10.993s-1.617-8.056-4.554-10.992zm-3.555 3.555c1.987 1.986 3.081 4.627 3.081 7.436 0 1.95-0.538 3.813-1.525 5.438l-14.428-14.428c4.043-2.442 9.384-1.934 12.872 1.554zm-14.873 14.874c-3.486-3.487-3.997-8.829-1.554-12.873l14.426 14.427c-4.043 2.443-9.385 1.932-12.872-1.554z" fill="#e29393" stroke-linecap="round"/>
 <path d="m0 40.043v32.425c0 3.346 2.712 6.058 6.058 6.058h68.974c3.346 0 6.058-2.712 6.058-6.058v-1.335l-27.15-20.001c-2.27-1.672-5.348-1.729-7.677-0.141l-14.383 9.801c-2.473 1.686-5.769 1.508-8.047-0.434l-23.833-20.315z" fill="#96ea9c" stroke-linecap="round"/>
</g>
</svg>
`,Vi=(()=>{let e=class e{get imageState(){return this.state}constructor(t){this._sanitizer=t,this.state="loading",this.progress=0,this.errorIcon=br,this.error=new w,this.loaded=new w}ngOnInit(){this.loadingIcon&&(this.loaderTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon)),this.loadingError&&(this.errorTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingError)),this.errorIcon&&(this.errorSvg=this._sanitizer.bypassSecurityTrustHtml(this.errorIcon))}};e.\u0275fac=function(r){return new(r||e)(f(xe))},e.\u0275cmp=D({type:e,selectors:[["gallery-image"]],hostVars:1,hostBindings:function(r,o){r&2&&L("imageState",o.imageState)},inputs:{isThumbnail:"isThumbnail",loadingAttr:"loadingAttr",alt:"alt",src:"src",loadingIcon:"loadingIcon",loadingError:"loadingError",errorIcon:"errorIcon"},outputs:{error:"error",loaded:"loaded"},decls:4,vars:9,consts:[["defaultError",""],["isLarge",""],["defaultLoader",""],[3,"ngSwitch"],[1,"g-image-item",3,"load","error","src"],["class","g-image-error-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"g-image-error-message"],[3,"innerHTML",4,"ngIf","ngIfElse"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],[1,"gallery-thumb-error",3,"innerHTML"],[1,"gallery-image-error",3,"innerHTML"],["class","g-loading",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"g-loading",3,"innerHTML"],["class","g-thumb-loading",4,"ngIf"],[1,"g-thumb-loading"]],template:function(r,o){r&1&&(ie(0,3),v(1,"img",4),O("load",function(){return o.state="success",o.loaded.emit()})("error",function(a){return o.state="failed",o.error.emit(a)}),b(),C(2,Ln,4,2,"div",5)(3,jn,4,2,"ng-container",6),ne()),r&2&&(c("ngSwitch",o.state),m(),qe("visibility",o.state==="success"?"visible":"hidden"),c("@fadeIn",o.state)("src",o.src,Te),L("alt",o.alt)("loading",o.loadingAttr),m(),c("ngSwitchCase","failed"),m(),c("ngSwitchCase","loading"))},dependencies:[et,tt,Q],encapsulation:2,data:{animation:[rt("fadeIn",[Fe("* => success",[oe({opacity:0}),Ne("300ms ease-in",oe({opacity:1}))])])]},changeDetection:0});let i=e;return i})(),Pi=(()=>{let e=class e{get isActive(){return this.index===this.currIndex}get isIndexAttr(){return this.index}get imageState(){return this.imageLoadingState}get imageContext(){return{$implicit:this.imageData,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}get itemContext(){return{$implicit:this.data,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}get element(){return this.el.nativeElement}get isAutoPlay(){if(this.isActive&&(this.type===ee.Video||this.type===ee.Youtube))return this.videoData.autoplay}get youtubeSrc(){let t=0;this.isActive&&this.type===ee.Youtube&&this.data.autoplay&&(t=1);let r=new URL(this.data.src);return r.search=new URLSearchParams(ae(y({wmode:"transparent"},this.data.params),{autoplay:t})).toString(),r.href}get load(){switch(this.config.loadingStrategy){case at.Preload:return!0;case at.Lazy:return this.currIndex===this.index;default:return this.currIndex===this.index||this.currIndex===this.index-1||this.currIndex===this.index+1}}get imageData(){return this.data}get videoData(){return this.data}constructor(t,r,o){this.el=t,this.cd=r,this._platform=o,this.Types=ee,this.imageLoadingState="IN_PROGRESS",this.error=new w}ngAfterViewChecked(){let t=this.getHeight();if(this._platform.isBrowser&&(this.element.style.setProperty("--g-item-width",`${this.getWidth()}px`),this.element.style.setProperty("--g-item-height",`${t}px`)),this.currIndex===this.index){let r=this.config.thumbPosition===se.Top||this.config.thumbPosition===se.Bottom;this.config.autoHeight&&t&&r&&(this.element.parentElement.parentElement.style.height=`${t}px`)}}onItemLoaded(){this.imageLoadingState==="IN_PROGRESS"&&(this.imageLoadingState="DONE",this.cd.detectChanges())}getWidth(){if(this.config.slidingDirection==="horizontal"){let t=this.element?.firstElementChild;if(this.config.itemAutosize&&this.imageLoadingState==="DONE"&&t?.clientWidth)return t.clientWidth}return this.element.parentElement.parentElement.clientWidth}getHeight(){let t=this.element.firstElementChild;return t&&(this.config.autoHeight&&this.imageLoadingState==="DONE"&&t.clientHeight||this.config.slidingDirection==="vertical"&&this.config.itemAutosize&&this.imageLoadingState==="DONE"&&t.clientHeight)?t.clientHeight:this.element.parentElement.parentElement.clientHeight}};e.\u0275fac=function(r){return new(r||e)(f(T),f(ze),f(A))},e.\u0275cmp=D({type:e,selectors:[["gallery-item"]],hostVars:4,hostBindings:function(r,o){r&2&&(L("galleryIndex",o.isIndexAttr)("imageState",o.imageState),Ae("g-active-item",o.isActive))},inputs:{config:"config",index:"index",count:"count",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"src","mute","poster","controls","controlsList","disablePictureInPicture","play","pause","error",4,"ngSwitchCase"],[3,"src","autoplay","loadingAttr","pause",4,"ngSwitchCase"],[3,"src","loadingAttr",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"loaded","error","src","alt","loadingAttr","loadingIcon","loadingError"],["class","g-template g-item-template",4,"ngIf"],[1,"g-template","g-item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"error","src","mute","poster","controls","controlsList","disablePictureInPicture","play","pause"],[3,"src","autoplay","loadingAttr","pause"],[3,"src","loadingAttr"]],template:function(r,o){r&1&&C(0,qn,6,5,"ng-container",0),r&2&&c("ngIf",o.load)},dependencies:[q,Q,it,et,tt,Ri,Vi,vr,yr],encapsulation:2,changeDetection:0});let i=e;return i})(),Cr=4,wr=.001,Sr=1e-7,xr=10,Be=11,st=1/(Be-1),Er=typeof Float32Array=="function";function Bi(i,e){return 1-3*e+3*i}function Hi(i,e){return 3*e-6*i}function ji(i){return 3*i}function dt(i,e,n){return((Bi(e,n)*i+Hi(e,n))*i+ji(e))*i}function Wi(i,e,n){return 3*Bi(e,n)*i*i+2*Hi(e,n)*i+ji(e)}function Dr(i,e,n,t,r){let o,s,a=0;do s=e+(n-e)/2,o=dt(s,t,r)-i,o>0?n=s:e=s;while(Math.abs(o)>Sr&&++a<xr);return s}function Ir(i,e,n,t){for(let r=0;r<Cr;++r){let o=Wi(e,n,t);if(o===0)return e;let s=dt(e,n,t)-i;e-=s/o}return e}function Rr(i){return i}function Tr(i,e,n,t){if(!(0<=i&&i<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(i===e&&n===t)return Rr;let r=Er?new Float32Array(Be):new Array(Be);for(let s=0;s<Be;++s)r[s]=dt(s*st,i,n);function o(s){let a=0,l=1,d=Be-1;for(;l!==d&&r[l]<=s;++l)a+=st;--l;let h=(s-r[l])/(r[l+1]-r[l]),p=a+h*st,R=Wi(p,i,n);return R>=wr?Ir(s,p,i,n):R===0?p:Dr(s,a,a+st,i,n)}return function(a){return a===0?0:a===1?1:dt(o(a),e,t)}}var kr=new B("SMOOTH_SCROLL_OPTIONS"),Gi=(()=>{let e=class e{get _w(){return this._document.defaultView}get _now(){return this._w.performance?.now?.bind(this._w.performance)||Date.now}constructor(t,r,o){this._document=t,this._platform=o,this._onGoingScrolls=new Map,this._defaultOptions=y({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},r)}_scrollElement(t,r,o){t.scrollLeft=r,t.scrollTop=o}_getElement(t,r){return typeof t=="string"?(r||this._document).querySelector(t):Le(t)}_initSmoothScroll(t){return this._onGoingScrolls.has(t)&&this._onGoingScrolls.get(t).next(),this._onGoingScrolls.set(t,new S).get(t)}_isFinished(t,r,o){return t.currentX!==t.x||t.currentY!==t.y?!0:(r.next(),o(),!1)}_interrupted(t,r){return yi(Re(t,"wheel",{passive:!0,capture:!0}),Re(t,"touchmove",{passive:!0,capture:!0}),r).pipe(vi(1))}_destroy(t,r){r.complete(),this._onGoingScrolls.delete(t)}_step(t){return new _e(r=>{let o=(this._now()-t.startTime)/t.duration;o=o>1?1:o;let s=t.easing(o);t.currentX=t.startX+(t.x-t.startX)*s,t.currentY=t.startY+(t.y-t.startY)*s,this._scrollElement(t.scrollable,t.currentX,t.currentY),requestAnimationFrame(()=>r.next(t))})}_applyScrollToOptions(t,r){if(!r.duration)return this._scrollElement(t,r.left,r.top),Promise.resolve();let o=this._initSmoothScroll(t),s={scrollable:t,startTime:this._now(),startX:t.scrollLeft,startY:t.scrollTop,x:r.left==null?t.scrollLeft:~~r.left,y:r.top==null?t.scrollTop:~~r.top,duration:r.duration,easing:Tr(r.easing.x1,r.easing.y1,r.easing.x2,r.easing.y2)};return new Promise(a=>{Ie(null).pipe(Ci(()=>this._step(s).pipe(Tt(l=>this._isFinished(l,o,a)))),Z(this._interrupted(t,o)),Ze(()=>this._destroy(t,o))).subscribe()})}dismissOngoingScroll(t){this._onGoingScrolls.get(t)?.next()}scrollTo(t,r){if(this._platform.isBrowser){let o=this._getElement(t),s=getComputedStyle(o).direction==="rtl",a=Yt(),l=ae(y(y({},this._defaultOptions),r),{left:r.left==null?s?r.end:r.start:r.left,right:r.right==null?s?r.start:r.end:r.right});return l.bottom!=null&&(l.top=o.scrollHeight-o.clientHeight-l.bottom),s&&a!==0?(l.left!=null&&(l.right=o.scrollWidth-o.clientWidth-l.left),a===2?l.left=l.right:a===1&&(l.left=l.right?-l.right:l.right)):l.right!=null&&(l.left=o.scrollWidth-o.clientWidth-l.right),this._applyScrollToOptions(o,l)}return Promise.resolve()}scrollToElement(t,r,o={}){let s=this._getElement(t),a=this._getElement(r,s),l=ae(y({},o),{left:a.offsetLeft+(o.left||0),top:a.offsetTop+(o.top||0)});return a?this.scrollTo(s,l):Promise.resolve()}};e.\u0275fac=function(r){return new(r||e)($(E),$(kr,8),$(A))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Or=(()=>{let e=class e{get slider(){return this.sliderEl.nativeElement}constructor(t,r,o,s,a,l){this._el=t,this._cd=r,this._zone=o,this._platform=s,this._smoothScroll=a,this._gallery=l,this.scrollHandler$=new S,this.visibleElements=new Map,this._destroyed$=new S,this.itemClick=new w,this.error=new w,this.items=new Pt,this.scrollHandler$.pipe(ce(0,Et),ye(({value:d,behavior:h})=>{this._gallery.debugConsole("[Gallery scrollHandler$] ",this.slider.style.scrollSnapType),this.slider.style.scrollSnapType="unset";let p=this.items.get(d)?.element;if(this._gallery.debugConsole("\u{1F92F} [Gallery scrollHandler$] scrollSnapType = unset, scrollTo element",!!p),p){this.slider.classList.add("g-scrolling");let R=this.adapter.getScrollToValue(p,h||this.config.scrollBehavior),M=+this.items.get(d)?.element.getAttribute("galleryIndex");return this._gallery.debugConsole(`\u{1F680} [Gallery scrollHandler$] Scroll start ===> index: ${M}, position:`,R),this._gallery.debugConsole("\u{1F680} [Gallery scrollHandler$] slider scrollable",this.adapter.scrollValue),Ue(this._smoothScroll.scrollTo(this.slider,R)).pipe(Y(()=>{this._isPanning=!1,this.slider.classList.remove("g-scrolling"),this.slider.style.scrollSnapType=this.adapter.scrollSnapType,this._gallery.debugConsole("\u2705 [Gallery scrollHandler$] Scroll end")}))}return this._gallery.debugConsole("\u{1F621} [Gallery scrollHandler$] Scroll element was not found!"),De}),Z(this._destroyed$)).subscribe()}ngOnChanges(t){if(t.config){if(t.config.currentValue?.slidingDirection!==t.config.previousValue?.slidingDirection){switch(this.config.slidingDirection){case lt.Horizontal:this.adapter=new ii(this.slider,this.config);break;case lt.Vertical:this.adapter=new ni(this.slider,this.config);break}this._platform.isBrowser&&(t.config.firstChange||requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,"auto")}),this.enableDisableGestures())}this._platform.isBrowser&&!t.config.firstChange&&t.config.currentValue?.mouseSlidingDisabled!==t.config.previousValue?.mouseSlidingDisabled&&this.enableDisableGestures()}this._platform.isBrowser&&t.state&&t.state.currentValue?.currIndex!==t.state.previousValue?.currIndex&&requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,t.state.firstChange?"auto":this.state.behavior)})}ngOnInit(){this._platform.isBrowser&&this._zone.runOutsideAngular(()=>{this.createIntersectionObserver(this.slider).pipe(Y(t=>{t.target.classList.toggle("g-item-visible",t.isIntersecting),t.isIntersecting?this.visibleElements.set(t.target,t):this.visibleElements.delete(t.target)}),Z(this._destroyed$)).subscribe(),Re(this.slider,"scroll",{passive:!0}).pipe(ce(50),le(()=>!this._isPanning),Y(()=>this.onViewportScroll()),Z(this._destroyed$)).subscribe(),Li(this._el.nativeElement).pipe(ce(this.config.resizeDebounceTime),Y(([t])=>this.onHostResize(t)),Z(this._destroyed$)).subscribe()})}ngAfterViewInit(){this._platform.isBrowser&&(this.items.notifyOnChanges(),this.items.changes.pipe(Rt(null),Y(()=>{this.visibleElements.forEach(t=>{this.intersectionObserver.unobserve(t.target)}),this.items.toArray().map(t=>{this.intersectionObserver.observe(t.element)})}),Z(this._destroyed$)).subscribe())}ngAfterViewChecked(){this.config.itemAutosize&&this._platform.isBrowser&&(this.slider.style.setProperty("--slider-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--slider-centralize-end-size",this.adapter.getCentralizerEndSize()+"px"))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.deactivateGestures()}trackByFn(t,r){return r.type}onHostResize(t){let r=Math.ceil(t.contentRect.width),o=Math.ceil(t.contentRect.height);this.slider.style.width=`${r}px`,this.slider.style.height=`${o}px`,this.scrollToIndex(this.state.currIndex,"auto"),this._cd.detectChanges(),this._gallery.debugConsole("\u{1F990} [Gallery OnHostResize]: set viewport width to absolute number")}onViewportScroll(){let t=this.items.get(this.state.currIndex)?.element,r=this.getElementFromViewportCenter();r?r!==t&&this.tryScrollToElement(r):(this._gallery.debugConsole("\u2049 [Gallery onViewportScroll]: No center element was found"),this.visibleElements.forEach(o=>{this.tryScrollToElement(o.target)}))}tryScrollToElement(t){let o=(this.adapter.clientSize-this.adapter.getClientSize(t))/2,s=this.adapter.scrollValue+o,a=this.adapter.scrollValue+this.adapter.clientSize-o,l=this.adapter.getOffsetSize(t),d=l+this.adapter.getClientSize(t),h=s+10>=l&&s-10<=l,p=a+10>=d&&a-10<=d;if(this.slider.style.scrollSnapType=this.adapter.scrollSnapType,h&&p){this._gallery.debugConsole("\u{1F344} [Gallery onViewportScroll]: Set active gallery item");let R=+t.getAttribute("galleryIndex");this._zone.run(()=>this._gallery.ref(this.galleryId).set(R,"smooth"))}}scrollToIndex(t,r,o){this.scrollHandler$.next({value:t,behavior:r,onEnd:o})}enableDisableGestures(){!this._platform.IOS&&!this._platform.ANDROID&&(this.config.mouseSlidingDisabled?this.deactivateGestures():this.activateGestures())}activateGestures(){if(typeof Hammer<"u"){this.deactivateGestures();let t=this.adapter.panDirection;this._zone.runOutsideAngular(()=>{this._hammer=new Hammer(this._el.nativeElement,{inputClass:Hammer.MouseInput}),this._hammer.get("pan").set({direction:t});let r;this._hammer.on("panstart",()=>{this._smoothScroll.dismissOngoingScroll(this.slider),r=this.adapter.scrollValue,this.slider.style.scrollSnapType="unset",this.slider.classList.add("g-sliding"),this._isPanning=!0}),this._hammer.on("panmove",o=>this.slider.scrollTo(this.adapter.getPanValue(r,o,"auto"))),this._hammer.on("panend",o=>this.onPanEnd(o))})}}deactivateGestures(){this._hammer?.destroy()}onPanEnd(t){this._gallery.debugConsole("\u{1F5B1}\uFE0F [Gallery]: onPanEnd",t),this.slider.classList.remove("g-sliding");let r=this.adapter.getPanDelta(t),o=this.adapter.getPanVelocity(t),s=this._gallery.ref(this.galleryId);this._zone.run(()=>{let a=this.items.get(this.state.currIndex)?.element,l=this.getElementFromViewportCenter();if(l&&l!==a){let d=+l.getAttribute("galleryIndex");this.scrollToIndex(d,"smooth");return}if(Math.abs(r)>(a.clientWidth||this.adapter.clientSize)/2)return r>0?s.prev("smooth",!1):s.next("smooth",!1);if(Math.abs(o)>.3)return o>0?s.prev("smooth",!1):s.next("smooth",!1);this.scrollToIndex(this.state.currIndex,"smooth")})}getElementFromViewportCenter(){let t=this.slider.getBoundingClientRect(),o=document.elementsFromPoint(t.x+t.width/2,t.y+t.height/2).find(s=>s.localName==="gallery-item"&&s.getAttribute("galleryId")===this.galleryId);return this._gallery.debugConsole("\u{1FA9F} [Gallery]: getElementFromViewportCenter",o),o}createIntersectionObserver(t){return new _e(r=>(this.intersectionObserver=new IntersectionObserver(o=>r.next(o),{root:t}),()=>this.intersectionObserver.disconnect())).pipe(_i(r=>r),It())}};e.\u0275fac=function(r){return new(r||e)(f(T),f(ze),f(k),f(A),f(Gi),f(pe))},e.\u0275cmp=D({type:e,selectors:[["gallery-slider"]],viewQuery:function(r,o){if(r&1&&(re(Mi,7),re(Pi,5)),r&2){let s;j(s=W())&&(o.sliderEl=s.first),j(s=W())&&(o.items=s)}},inputs:{galleryId:"galleryId",state:"state",config:"config"},outputs:{itemClick:"itemClick",error:"error"},features:[de],ngContentSelectors:Jn,decls:5,vars:3,consts:[["slider",""],[1,"g-slider"],[1,"g-slider-content"],[3,"type","config","data","currIndex","index","count","click","error",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","error","type","config","data","currIndex","index","count"]],template:function(r,o){r&1&&(Ft(),v(0,"div",1,0)(2,"div",2),C(3,er,1,7,"gallery-item",3),b()(),Lt(4)),r&2&&(L("centralised",o.config.itemAutosize),m(3),c("ngForOf",o.state.items)("ngForTrackBy",o.trackByFn))},dependencies:[q,Se,Pi],encapsulation:2,changeDetection:0});let i=e;return i})(),Ai=(()=>{let e=class e{constructor(){this.error=new w}get isActive(){return this.index===this.currIndex}get imageContext(){return{$implicit:this.data,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["gallery-thumb"]],hostVars:2,hostBindings:function(r,o){r&2&&Ae("g-active-thumb",o.isActive)},inputs:{config:"config",index:"index",count:"count",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:2,vars:6,consts:[[3,"error","src","alt","isThumbnail","loadingIcon","loadingError"],["class","g-template g-thumb-template",4,"ngIf"],[1,"g-template","g-thumb-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,o){r&1&&(v(0,"gallery-image",0),O("error",function(a){return o.error.emit(a)}),b(),C(1,ir,2,2,"div",1)),r&2&&(c("src",o.data.thumb)("alt",o.data.alt+"-thumbnail")("isThumbnail",!0)("loadingIcon",o.config.thumbLoadingIcon)("loadingError",o.config.thumbLoadingError),m(),c("ngIf",o.config.thumbTemplate))},dependencies:[q,Q,it,Vi],encapsulation:2,changeDetection:0});let i=e;return i})(),Pr=(()=>{let e=class e{get slider(){return this.sliderEl.nativeElement}constructor(t,r,o,s,a){this._el=t,this._zone=r,this._smoothScroll=o,this._cd=s,this._platform=a,this.thumbnailsView=je,this._destroyed$=new S,this.thumbClick=new w,this.error=new w,this.items=new Pt}ngOnChanges(t){if(t.config){if(t.config.currentValue?.thumbPosition!==t.config.previousValue?.thumbPosition){switch(this.config.thumbPosition){case se.Right:case se.Left:this.adapter=new ti(this.slider,this.config);break;case se.Top:case se.Bottom:this.adapter=new ei(this.slider,this.config);break}this._platform.isBrowser&&(t.config.firstChange||requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,"auto")}),this.enableDisableGestures())}this._platform.isBrowser&&(!t.config.firstChange&&t.config.currentValue?.thumbMouseSlidingDisabled!==t.config.previousValue?.thumbMouseSlidingDisabled&&this.enableDisableGestures(),this.slider.style.setProperty("--thumb-height",`${this.config.thumbHeight}px`),this.slider.style.setProperty("--thumb-width",`${this.config.thumbWidth}px`))}this._platform.isBrowser&&t.state&&(t.state.firstChange||!this.config.thumbDetached)&&t.state.currentValue?.currIndex!==t.state.previousValue?.currIndex&&requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,t.state?.firstChange?"auto":"smooth")})}ngAfterViewInit(){this._platform.isBrowser&&(setTimeout(()=>this.scrollToIndex(this.state.currIndex,"auto"),200),this._zone.runOutsideAngular(()=>{Li(this._el.nativeElement).pipe(ce(this.config.resizeDebounceTime),Y(()=>{this.items.get(this.state.currIndex)?.nativeElement&&(this.slider.style.setProperty("--thumb-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--thumb-centralize-end-size",this.adapter.getCentralizerEndSize()+"px")),this._cd.detectChanges(),this.scrollToIndex(this.state.currIndex,"auto")}),Z(this._destroyed$)).subscribe()}))}ngAfterViewChecked(){this.items.get(this.state.currIndex)?.nativeElement&&this._platform.isBrowser&&(this.slider.style.setProperty("--thumb-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--thumb-centralize-end-size",this.adapter.getCentralizerEndSize()+"px"))}ngOnDestroy(){this.deactivateGestures(),this._destroyed$.next(),this._destroyed$.complete()}trackByFn(t,r){return r.type}scrollToIndex(t,r){this._zone.runOutsideAngular(()=>{this.slider.style.scrollSnapType="unset";let o=this.items.get(t)?.nativeElement;o&&this._smoothScroll.scrollTo(this.slider,this.adapter.getScrollToValue(o,r)).then(()=>{this.slider.style.scrollSnapType=this.adapter.scrollSnapType})})}enableDisableGestures(){!this._platform.IOS&&!this._platform.ANDROID&&(this.config.thumbMouseSlidingDisabled?this.deactivateGestures():this.activateGestures())}activateGestures(){if(typeof Hammer<"u"&&!this.config.disableThumb){let t=this.adapter.panDirection;this._zone.runOutsideAngular(()=>{this._hammer=new Hammer(this._el.nativeElement,{inputClass:Hammer.MouseInput}),this._hammer.get("pan").set({direction:t});let r=0;this._hammer.on("panstart",()=>{r=this.adapter.scrollValue,this.slider.style.scrollSnapType="unset",this.slider.classList.add("g-sliding")}),this._hammer.on("panmove",o=>this.slider.scrollTo(this.adapter.getPanValue(r,o,"auto"))),this._hammer.on("panend",()=>{this.slider.style.scrollSnapType=this.adapter.scrollSnapType,this.slider.classList.remove("g-sliding")})})}}deactivateGestures(){this._hammer?.destroy()}};e.\u0275fac=function(r){return new(r||e)(f(T),f(k),f(Gi),f(ze),f(A))},e.\u0275cmp=D({type:e,selectors:[["gallery-thumbs"]],viewQuery:function(r,o){if(r&1&&(re(Mi,7),re(Ai,5,T)),r&2){let s;j(s=W())&&(o.sliderEl=s.first),j(s=W())&&(o.items=s)}},inputs:{state:"state",config:"config"},outputs:{thumbClick:"thumbClick",error:"error"},features:[de],decls:4,vars:3,consts:[["slider",""],[1,"g-slider"],[1,"g-slider-content"],[3,"type","config","data","currIndex","index","count","click","error",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","error","type","config","data","currIndex","index","count"]],template:function(r,o){r&1&&(v(0,"div",1,0)(2,"div",2),C(3,nr,1,6,"gallery-thumb",3),b()()),r&2&&(L("centralised",o.config.thumbView===o.thumbnailsView.Contain||o.adapter.isContentLessThanContainer),m(3),c("ngForOf",o.state.items)("ngForTrackBy",o.trackByFn))},dependencies:[q,Se,Ai],encapsulation:2,changeDetection:0});let i=e;return i})(),Ar=(()=>{let e=class e{constructor(){this.itemClick=new w,this.thumbClick=new w,this.error=new w}get thumbPosition(){return this.config.thumbPosition}get slidingDirection(){return this.config.slidingDirection}get disableThumb(){return this.config.disableThumb}get imageSize(){return this.config.imageSize}get thumbImageSize(){return this.config.thumbImageSize}get dotsPosition(){return this.config.dotsPosition}get counterPosition(){return this.config.counterPosition}get slidingDisabled(){return this.config.slidingDisabled}get thumbSlidingDisabled(){return this.config.thumbSlidingDisabled}get itemAutosize(){return this.config.itemAutosize}get autoHeight(){return this.config.autoHeight}get thumbAutosize(){return this.config.thumbAutosize}get debug(){return this.config.debug}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["gallery-core"]],hostVars:13,hostBindings:function(r,o){r&2&&L("thumbPosition",o.thumbPosition)("slidingDirection",o.slidingDirection)("disableThumb",o.disableThumb)("imageSize",o.imageSize)("thumbImageSize",o.thumbImageSize)("dotsPosition",o.dotsPosition)("counterPosition",o.counterPosition)("slidingDisabled",o.slidingDisabled)("thumbSlidingDisabled",o.thumbSlidingDisabled)("itemAutosize",o.itemAutosize)("autoHeight",o.autoHeight)("thumbAutosize",o.thumbAutosize)("debug",o.debug)},inputs:{galleryId:"galleryId",state:"state",config:"config"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",error:"error"},decls:8,vars:12,consts:[[3,"state","config","thumbClick","error",4,"ngIf"],[1,"g-box"],[3,"itemClick","error","state","config","galleryId"],[3,"state","config","galleryId",4,"ngIf"],[3,"state",4,"ngIf"],[1,"g-box-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"thumbClick","error","state","config"],[3,"state","config","galleryId"],[3,"state"]],template:function(r,o){r&1&&(C(0,or,1,2,"gallery-thumbs",0),v(1,"div",1)(2,"gallery-slider",2),O("itemClick",function(a){return o.itemClick.emit(a)})("error",function(a){return o.error.emit(a)}),C(3,sr,1,3,"gallery-nav",3),b(),C(4,ar,1,3,"gallery-dots",3)(5,lr,1,1,"gallery-counter",4),v(6,"div",5),C(7,cr,1,0,"ng-container",6),b()()),r&2&&(c("ngIf",o.config.thumb),m(2),c("state",o.state)("config",o.config)("galleryId",o.galleryId),m(),c("ngIf",o.config.nav&&o.state.items.length>1),m(),c("ngIf",o.config.dots),m(),c("ngIf",o.config.counter),m(2),c("ngTemplateOutlet",o.config.boxTemplate)("ngTemplateOutletContext",Me(9,rr,o.state,o.config)))},dependencies:[q,Q,it,Pr,Or,gr,ur,dr],encapsulation:2,changeDetection:0});let i=e;return i})(),Mr=(()=>{let e=class e{constructor(t){this.templateRef=t}static ngTemplateContextGuard(t,r){return!0}};e.\u0275fac=function(r){return new(r||e)(f(te))},e.\u0275dir=X({type:e,selectors:[["","galleryImageDef",""]]});let i=e;return i})(),zr=(()=>{let e=class e{constructor(t){this.templateRef=t}static ngTemplateContextGuard(t,r){return!0}};e.\u0275fac=function(r){return new(r||e)(f(te))},e.\u0275dir=X({type:e,selectors:[["","galleryThumbDef",""]]});let i=e;return i})(),Nr=(()=>{let e=class e{constructor(t){this.templateRef=t}static ngTemplateContextGuard(t,r){return!0}};e.\u0275fac=function(r){return new(r||e)(f(te))},e.\u0275dir=X({type:e,selectors:[["","galleryItemDef",""]]});let i=e;return i})(),Fr=(()=>{let e=class e{constructor(t){this.templateRef=t}static ngTemplateContextGuard(t,r){return!0}};e.\u0275fac=function(r){return new(r||e)(f(te))},e.\u0275dir=X({type:e,selectors:[["","galleryBoxDef",""]]});let i=e;return i})(),We=(()=>{let e=class e{constructor(t){this._gallery=t,this.nav=this._gallery.config.nav,this.dots=this._gallery.config.dots,this.loop=this._gallery.config.loop,this.debug=this._gallery.config.debug,this.thumb=this._gallery.config.thumb,this.counter=this._gallery.config.counter,this.dotsSize=this._gallery.config.dotsSize,this.autoPlay=this._gallery.config.autoPlay,this.thumbWidth=this._gallery.config.thumbWidth,this.thumbHeight=this._gallery.config.thumbHeight,this.disableThumb=this._gallery.config.disableThumb,this.scrollBehavior=this._gallery.config.scrollBehavior,this.navScrollBehavior=this._gallery.config.navScrollBehavior,this.slidingDisabled=this._gallery.config.slidingDisabled,this.thumbSlidingDisabled=this._gallery.config.thumbSlidingDisabled,this.mouseSlidingDisabled=this._gallery.config.mouseSlidingDisabled,this.thumbMouseSlidingDisabled=this._gallery.config.thumbMouseSlidingDisabled,this.playerInterval=this._gallery.config.playerInterval,this.slidingDuration=this._gallery.config.slidingDuration,this.slidingEase=this._gallery.config.slidingEase,this.resizeDebounceTime=this._gallery.config.resizeDebounceTime,this.imageSize=this._gallery.config.imageSize,this.thumbImageSize=this._gallery.config.thumbImageSize,this.dotsPosition=this._gallery.config.dotsPosition,this.counterPosition=this._gallery.config.counterPosition,this.slidingDirection=this._gallery.config.slidingDirection,this.loadingAttr=this._gallery.config.loadingAttr,this.loadingStrategy=this._gallery.config.loadingStrategy,this.thumbPosition=this._gallery.config.thumbPosition,this.thumbView=this._gallery.config.thumbView,this.thumbDetached=this._gallery.config.thumbDetached,this.thumbAutosize=this._gallery.config.thumbAutosize,this.itemAutosize=this._gallery.config.itemAutosize,this.autoHeight=this._gallery.config.autoHeight,this.destroyRef=!0,this.skipInitConfig=!1,this.itemClick=new w,this.thumbClick=new w,this.playingChange=new w,this.indexChange=new w,this.itemsChange=new w,this.error=new w,this._itemClick$=V.EMPTY,this._thumbClick$=V.EMPTY,this._itemChange$=V.EMPTY,this._indexChange$=V.EMPTY,this._playingChange$=V.EMPTY,this._playerListener$=V.EMPTY}getConfig(){return{nav:this.nav,dots:this.dots,loop:this.loop,debug:this.debug,thumb:this.thumb,counter:this.counter,autoPlay:this.autoPlay,dotsSize:this.dotsSize,imageSize:this.imageSize,thumbImageSize:this.thumbImageSize,scrollBehavior:this.scrollBehavior,navScrollBehavior:this.navScrollBehavior,thumbView:this.thumbView,thumbWidth:this.thumbWidth,thumbHeight:this.thumbHeight,slidingEase:this.slidingEase,disableThumb:this.disableThumb,dotsPosition:this.dotsPosition,loadingAttr:this.loadingAttr,thumbDetached:this.thumbDetached,thumbPosition:this.thumbPosition,playerInterval:this.playerInterval,counterPosition:this.counterPosition,loadingStrategy:this.loadingStrategy,slidingDuration:this.slidingDuration,slidingDirection:this.slidingDirection,resizeDebounceTime:this.resizeDebounceTime,slidingDisabled:this.slidingDisabled,thumbSlidingDisabled:this.thumbSlidingDisabled,mouseSlidingDisabled:this.mouseSlidingDisabled,thumbMouseSlidingDisabled:this.thumbMouseSlidingDisabled,thumbAutosize:this.thumbAutosize,itemAutosize:this.itemAutosize,autoHeight:this.autoHeight}}ngOnChanges(t){this.galleryRef&&(this.galleryRef.setConfig(this.getConfig()),t.items&&t.items.currentValue!==t.items.previousValue&&this.load(this.items))}ngOnInit(){this.skipInitConfig?this.galleryRef=this._gallery.ref(this.id):this.galleryRef=this._gallery.ref(this.id,this.getConfig()),this.load(this.items),this._playerListener$=this.galleryRef.activatePlayer().subscribe(),this.indexChange.observed&&(this._indexChange$=this.galleryRef.indexChanged.subscribe(t=>this.indexChange.emit(t))),this.itemsChange.observed&&(this._itemChange$=this.galleryRef.itemsChanged.subscribe(t=>this.itemsChange.emit(t))),this.playingChange.observed&&(this._playingChange$=this.galleryRef.playingChanged.subscribe(t=>this.playingChange.emit(t))),this.autoPlay&&this.play()}ngAfterContentInit(){let t={};this.galleryItemDef&&(t.itemTemplate=this.galleryItemDef.templateRef),this.galleryImageDef&&(t.imageTemplate=this.galleryImageDef.templateRef),this.galleryThumbDef&&(t.thumbTemplate=this.galleryThumbDef.templateRef),this.galleryBoxDef&&(t.boxTemplate=this.galleryBoxDef.templateRef),Object.keys(t).length&&this.galleryRef.setConfig(t)}ngOnDestroy(){this._itemClick$.unsubscribe(),this._thumbClick$.unsubscribe(),this._itemChange$.unsubscribe(),this._indexChange$.unsubscribe(),this._playingChange$.unsubscribe(),this._playerListener$.unsubscribe(),this.destroyRef&&this.galleryRef.destroy()}onItemClick(t){this.itemClick.emit(t),this.galleryRef.itemClick.next(t)}onThumbClick(t){this.galleryRef.set(t),this.thumbClick.emit(t),this.galleryRef.thumbClick.next(t)}onError(t){this.error.emit(t),this.galleryRef.error.next(t)}load(t){this.galleryRef.load(t)}add(t,r){this.galleryRef.add(t,r)}addImage(t,r){this.galleryRef.addImage(t,r)}addVideo(t,r){this.galleryRef.addVideo(t,r)}addIframe(t,r){this.galleryRef.addIframe(t,r)}addYoutube(t,r){this.galleryRef.addYoutube(t,r)}remove(t){this.galleryRef.remove(t)}next(t,r){this.galleryRef.next(t,r)}prev(t,r){this.galleryRef.prev(t,r)}set(t,r){this.galleryRef.set(t,r)}reset(){this.galleryRef.reset()}play(t){this.galleryRef.play(t)}stop(){this.galleryRef.stop()}};e.\u0275fac=function(r){return new(r||e)(f(pe))},e.\u0275cmp=D({type:e,selectors:[["gallery"]],contentQueries:function(r,o,s){if(r&1&&(Pe(s,Nr,5),Pe(s,Mr,5),Pe(s,zr,5),Pe(s,Fr,5)),r&2){let a;j(a=W())&&(o.galleryItemDef=a.first),j(a=W())&&(o.galleryImageDef=a.first),j(a=W())&&(o.galleryThumbDef=a.first),j(a=W())&&(o.galleryBoxDef=a.first)}},inputs:{id:"id",items:"items",nav:"nav",dots:"dots",loop:"loop",debug:"debug",thumb:"thumb",counter:"counter",dotsSize:"dotsSize",autoPlay:"autoPlay",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",disableThumb:"disableThumb",scrollBehavior:"scrollBehavior",navScrollBehavior:"navScrollBehavior",slidingDisabled:"slidingDisabled",thumbSlidingDisabled:"thumbSlidingDisabled",mouseSlidingDisabled:"mouseSlidingDisabled",thumbMouseSlidingDisabled:"thumbMouseSlidingDisabled",playerInterval:"playerInterval",slidingDuration:"slidingDuration",slidingEase:"slidingEase",resizeDebounceTime:"resizeDebounceTime",imageSize:"imageSize",thumbImageSize:"thumbImageSize",dotsPosition:"dotsPosition",counterPosition:"counterPosition",slidingDirection:"slidingDirection",loadingAttr:"loadingAttr",loadingStrategy:"loadingStrategy",thumbPosition:"thumbPosition",thumbView:"thumbView",thumbDetached:"thumbDetached",thumbAutosize:"thumbAutosize",itemAutosize:"itemAutosize",autoHeight:"autoHeight",destroyRef:"destroyRef",skipInitConfig:"skipInitConfig"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",playingChange:"playingChange",indexChange:"indexChange",itemsChange:"itemsChange",error:"error"},features:[de],decls:3,vars:7,consts:[[3,"itemClick","thumbClick","error","galleryId","state","config"]],template:function(r,o){r&1&&(v(0,"gallery-core",0),Bt(1,"async"),Bt(2,"async"),O("itemClick",function(a){return o.onItemClick(a)})("thumbClick",function(a){return o.onThumbClick(a)})("error",function(a){return o.onError(a)}),b()),r&2&&c("galleryId",o.id)("state",Ht(1,3,o.galleryRef.state))("config",Ht(2,5,o.galleryRef.config))},dependencies:[q,Ti,Ar],styles:['gallery-core[dotsPosition=top] gallery-dots{top:15px}  gallery-core[dotsPosition=bottom] gallery-dots{bottom:15px}  gallery-dots{position:absolute;left:50%;z-index:99;transform:translate(-50%);display:flex;gap:6px}  .g-dot{cursor:pointer;z-index:20}  .g-dot:hover .g-dot-inner{opacity:1}  .g-dot-active .g-dot-inner{opacity:1}  .g-dot-inner{background-color:var(--g-overlay-color);opacity:.4;width:100%;height:100%;border-radius:50%;transition:opacity linear .15s}  gallery-dots,   .g-dot,   .g-dot-inner{display:flex;justify-content:center;align-items:center}  .g-nav-next,   .g-nav-prev{position:absolute;top:50%;display:flex;padding:16px 8px;cursor:pointer;z-index:999;opacity:.6;transition:opacity linear .15s,right linear .15s,left linear .15s}  .g-nav-next:hover,   .g-nav-prev:hover{opacity:1}  .g-nav-next svg,   .g-nav-prev svg{filter:var(--g-nav-drop-shadow);width:28px;height:28px;fill:#fff}  .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}  .g-nav-next:hover{right:.4em}  .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}  .g-nav-prev:hover{left:.4em}@media only screen and (max-width: 480px){  .g-nav-next{right:.2em}  .g-nav-prev{left:.2em}}  gallery-slider{position:relative;display:flex;align-items:center;justify-content:center}  gallery-slider .g-slider[centralised=true]:before,   gallery-slider .g-slider[centralised=true]:after{content:""}  gallery-slider .g-slider[centralised=true]:before{flex:0 0 var(--slider-centralize-start-size)}  gallery-slider .g-slider[centralised=true]:after{flex:0 0 var(--slider-centralize-end-size)}  .g-slider-content{flex:0 0 auto;display:flex;align-items:center;gap:1px}  gallery-core[slidingDirection=horizontal] gallery-slider .g-slider{overflow-x:auto;overflow-y:hidden;scroll-snap-type:x mandatory;flex-direction:row}  gallery-core[slidingDirection=horizontal] gallery-slider .g-slider-content{flex-direction:row;height:100%}  gallery-core[slidingDirection=vertical] gallery-slider .g-slider{overflow-x:hidden;overflow-y:auto;scroll-snap-type:y mandatory;flex-direction:column}  gallery-core[slidingDirection=vertical] gallery-slider .g-slider-content{flex-direction:column;width:100%}  gallery-core[slidingDisabled=true] .g-slider{overflow:hidden!important}  .g-slider{display:flex;align-items:center;width:100%;transition:var(--g-height-transition);scrollbar-width:none;-ms-overflow-style:none}  .g-slider::-webkit-scrollbar{display:none}  .g-slider.g-sliding .g-slider-content,   .g-slider.g-scrolling .g-slider-content{pointer-events:none}  .g-slider gallery-thumb,   .g-slider gallery-item{display:flex;flex-direction:column;flex:0 0 auto;scroll-snap-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}  .g-slider gallery-thumb gallery-image[imageState=success],   .g-slider gallery-item gallery-image[imageState=success]{align-self:center}  gallery-thumbs{max-height:100%;max-width:100%;display:block;z-index:100}  gallery-thumbs .g-slider[centralised=true]:before,   gallery-thumbs .g-slider[centralised=true]:after{content:""}  gallery-thumbs .g-slider[centralised=true]:before{flex:0 0 var(--thumb-centralize-start-size)}  gallery-thumbs .g-slider[centralised=true]:after{flex:0 0 var(--thumb-centralize-end-size)}  gallery-thumbs .g-slider gallery-thumb{background:black;height:var(--thumb-height);width:var(--thumb-width);max-height:var(--thumb-height);max-width:var(--thumb-width)}  gallery-thumbs .g-slider gallery-thumb gallery-image,   gallery-thumbs .g-slider gallery-thumb img{width:100%;height:100%}  gallery-core[disableThumb=true] gallery-thumb{cursor:default}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider{top:0;overflow-x:auto;flex-direction:row}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider-content,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider-content{flex-direction:row}  gallery-core[thumbPosition=top][thumbAutosize=true] gallery-thumb,   gallery-core[thumbPosition=bottom][thumbAutosize=true] gallery-thumb{width:initial;max-width:unset}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider{left:0;overflow-y:auto;flex-direction:column}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider-content,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider-content{flex-direction:column}  gallery-core[thumbPosition=left][thumbAutosize=true] gallery-thumb,   gallery-core[thumbPosition=right][thumbAutosize=true] gallery-thumb{height:initial;max-height:unset}  gallery-core[thumbSlidingDisabled=true] gallery-thumbs .g-slider{overflow:hidden!important}  gallery-core[thumbPosition=top]{flex-direction:column}  gallery-core[thumbPosition=left]{flex-direction:row}  gallery-core[thumbPosition=right]{flex-direction:row-reverse}  gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}  gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}  .g-thumb-loading{position:relative;overflow:hidden;width:100%;height:100%;background-color:#262626}  .g-thumb-loading:before{content:"";position:absolute;inset:0 0 0 50%;z-index:1;width:500%;margin-left:-250%;animation:_ngcontent-%COMP%_phAnimation .8s linear infinite;background:linear-gradient(to right,rgba(255,255,255,0) 46%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 54%) 50% 50%}@keyframes _ngcontent-%COMP%_phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}  gallery-core[counterPosition=top] .g-counter{top:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}  gallery-core[counterPosition=bottom] .g-counter{bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}  .g-counter{font-weight:700;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.6;transition:opacity linear .15s;z-index:50;position:absolute;left:50%;transform:translate(-50%) perspective(1px);font-size:12px;padding:4px 10px;color:var(--g-font-color);background-color:var(--g-overlay-color);box-shadow:var(--g-box-shadow)}  .g-counter:hover{opacity:.8}  gallery[gallerize] gallery-item{cursor:pointer}  gallery-core{gap:1px}  gallery-image img{width:100%!important}  .gallery-image-error svg,   .gallery-thumb-error svg{width:100%;height:100%}  .gallery-thumb-error{width:40px;height:40px}  .gallery-image-error{width:100px;height:100px}  gallery-item,   gallery-thumb{position:relative;display:block;overflow:hidden}  gallery-item h2,   gallery-item h4,   gallery-thumb h2,   gallery-thumb h4{color:coral;margin:0}  gallery-item h2,   gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}  gallery-item h4,   gallery-thumb h4{font-size:1.6em}  gallery-item gallery-image,   gallery-thumb gallery-image{transition:opacity .3s cubic-bezier(.5,0,.5,1)}  gallery-item{--g-item-width: "auto";--g-item-height: 100%;height:var(--g-item-height);width:var(--g-item-width);max-height:var(--g-item-height);max-width:100%;z-index:10}  gallery-item gallery-image{width:100%;height:100%}  gallery-item.g-active-item gallery-image{opacity:1}  gallery-item video,   gallery-item iframe{position:absolute;width:100%;height:100%}  gallery-thumb{align-self:center;cursor:pointer;max-height:100%}  gallery-thumb gallery-image{opacity:.5}  gallery-thumb.g-active-thumb gallery-image{opacity:1}  gallery-image{min-height:100%;display:flex}  .g-image-item{pointer-events:none;max-height:100%;max-width:100%}  .g-template,   .g-image-error-message{position:absolute;z-index:10;inset:0;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}  .g-loading{position:absolute;transform:translate3d(-50%,-50%,0);left:50%;top:50%;width:80px;height:80px}  gallery-core[imageSize=contain] gallery-item .g-image-item{-o-object-fit:contain;object-fit:contain}  gallery-core[imageSize=cover] gallery-item .g-image-item{-o-object-fit:cover;object-fit:cover}  gallery-core[thumbImageSize=cover] gallery-thumb .g-image-item{-o-object-fit:cover;object-fit:cover}  gallery{position:relative;z-index:1;overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:#000;--g-height-transition: height .4s linear;--g-nav-drop-shadow: drop-shadow(0 0 2px rgba(0, 0, 0, .6));--g-box-shadow: 0 0 3px rgba(0, 0, 0, .6);--g-font-color: #000;--g-overlay-color: #fff}  gallery *{box-sizing:border-box}  gallery,   gallery-core{position:relative;overflow:hidden}  gallery-core{max-height:100%;min-height:100%;height:500px}  gallery-core,   .g-box,   .g-slider{display:flex;width:100%;max-height:100%}  .g-box,   gallery-slider{overflow:hidden;position:relative;display:flex;flex-direction:column;order:1;flex:1}  gallery-core[autoHeight=true][thumbPosition=top],   gallery-core[autoHeight=true][thumbPosition=bottom]{height:-moz-fit-content!important;height:fit-content!important}  gallery-core[autoHeight=true][thumbPosition=top] .g-slider,   gallery-core[autoHeight=true][thumbPosition=bottom] .g-slider{height:100%}  gallery-core[autoHeight=true][thumbPosition=top] gallery-slider,   gallery-core[autoHeight=true][thumbPosition=top] gallery-core,   gallery-core[autoHeight=true][thumbPosition=bottom] gallery-slider,   gallery-core[autoHeight=true][thumbPosition=bottom] gallery-core{height:100%}  gallery-core[autoHeight=true] gallery-item{min-height:100%}  gallery-core[autoHeight=true][slidingDirection=horizontal] gallery-item{height:unset;max-height:unset;min-height:unset}  gallery-core[autoHeight=true][slidingDirection=horizontal] gallery-item gallery-image{height:100%;width:auto}  gallery-core[autoHeight=true][slidingDirection=vertical] gallery-item{height:unset;max-height:unset;min-height:unset}  gallery-core[autoHeight=true][slidingDirection=vertical] gallery-item gallery-image{width:100%;height:auto}  gallery-core[autoHeight=false][slidingDirection=horizontal] gallery-item,   gallery-core[autoHeight=false][slidingDirection=horizontal] .g-slider{height:100%}  gallery-core[itemAutoSize=true][slidingDirection=horizontal] gallery-item gallery-image{height:100%;width:auto}  gallery-core[itemAutoSize=true][slidingDirection=vertical] gallery-item{height:auto}  gallery-core[itemAutoSize=true][slidingDirection=vertical] gallery-item gallery-image{width:100%;height:auto}  gallery-core[debug=true] gallery-slider:after,   gallery-core[debug=true] gallery-slider:before{position:absolute;content:"";background:lime;box-shadow:0 0 5px #0f0;z-index:99999}  gallery-core[debug=true] gallery-slider:before{width:100%;height:1px}  gallery-core[debug=true] gallery-slider:after{height:100%;width:1px}  gallery-core[debug=true] gallery-slider gallery-item{outline:1px solid darkorange}  .g-box-template{position:absolute;z-index:10}'],changeDetection:0});let i=e;return i})(),ri=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=he({imports:[We]});let i=e;return i})();var ut=new WeakMap,oi=(()=>{class i{_appRef;_injector=u(H);_environmentInjector=u(ve);load(n){let t=this._appRef=this._appRef||this._injector.get(ke),r=ut.get(t);r||(r={loaders:new Set,refs:[]},ut.set(t,r),t.onDestroy(()=>{ut.get(t)?.refs.forEach(o=>o.destroy()),ut.delete(t)})),r.loaders.has(n)||(r.loaders.add(n),r.refs.push(Je(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Xi=(()=>{class i{_platform=u(A);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return Br(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let t=Vr(Ur(n));if(t&&(Yi(t)===-1||!this.isVisible(t)))return!1;let r=n.nodeName.toLowerCase(),o=Yi(n);return n.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!$r(n)?!1:r==="audio"?n.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,t){return Xr(n)&&!this.isDisabled(n)&&(t?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Vr(i){try{return i.frameElement}catch{return null}}function Br(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function Hr(i){let e=i.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function jr(i){return Gr(i)&&i.type=="hidden"}function Wr(i){return Yr(i)&&i.hasAttribute("href")}function Gr(i){return i.nodeName.toLowerCase()=="input"}function Yr(i){return i.nodeName.toLowerCase()=="a"}function Ui(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let e=i.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function Yi(i){if(!Ui(i))return null;let e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function $r(i){let e=i.nodeName.toLowerCase(),n=e==="input"&&i.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function Xr(i){return jr(i)?!1:Hr(i)||Wr(i)||i.hasAttribute("contenteditable")||Ui(i)}function Ur(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var gt=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,n,t,r,o=!1,s){this._element=e,this._checker=n,this._ngZone=t,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let t=this._getFirstTabbableElement(n);return t?.focus(e),!!t}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let t=0;t<n.length;t++){let r=n[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[t]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let t=n.length-1;t>=0;t--){let r=n[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[t]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?be(e,{injector:this._injector}):setTimeout(e)}};var si={},Zi=(()=>{class i{_appId=u(At);getId(n){return this._appId!=="ng"&&(n+=this._appId),si.hasOwnProperty(n)||(si[n]=0),`${n}${si[n]++}`}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ai=class extends gt{_focusTrapManager;_inertStrategy;get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(e,n,t,r,o,s,a,l){super(e,n,t,r,a.defer,l),this._focusTrapManager=o,this._inertStrategy=s,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},li=class{_listener=null;preventFocus(e){this._listener&&e._document.removeEventListener("focus",this._listener,!0),this._listener=n=>this._trapFocus(e,n),e._ngZone.runOutsideAngular(()=>{e._document.addEventListener("focus",this._listener,!0)})}allowFocus(e){this._listener&&(e._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(e,n){let t=n.target,r=e._element;t&&!r.contains(t)&&!t.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{e.enabled&&!r.contains(e._document.activeElement)&&e.focusFirstTabbableElement()})}},Zr=new B("FOCUS_TRAP_INERT_STRATEGY"),Kr=(()=>{class i{_focusTrapStack=[];register(n){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==n);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(n),n._enable()}deregister(n){n._disable();let t=this._focusTrapStack,r=t.indexOf(n);r!==-1&&(t.splice(r,1),t.length&&t[t.length-1]._enable())}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ki=(()=>{class i{_checker=u(Xi);_ngZone=u(k);_focusTrapManager=u(Kr);_document=u(E);_inertStrategy;_injector=u(H);constructor(){let n=u(Zr,{optional:!0});this._inertStrategy=n||new li}create(n,t={defer:!1}){let r;return typeof t=="boolean"?r={defer:t}:r=t,new ai(n,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,r,this._injector)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ge=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ye=class extends Ge{component;viewContainerRef;injector;projectableNodes;constructor(e,n,t,r){super(),this.component=e,this.viewContainerRef=n,this.injector=t,this.projectableNodes=r}},ft=class extends Ge{templateRef;viewContainerRef;context;injector;constructor(e,n,t,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=t,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ci=class extends Ge{element;constructor(e){super(),this.element=e instanceof T?e.nativeElement:e}},hi=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ye)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ft)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ci)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},pt=class extends hi{outletElement;_appRef;_defaultInjector;constructor(e,n,t){super(),this.outletElement=e,this._appRef=n,this._defaultInjector=t}attachComponentPortal(e){let n;if(e.viewContainerRef){let t=e.injector||e.viewContainerRef.injector,r=t.get(Si,null,{optional:!0})||void 0;n=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:t,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let t=this._appRef,r=e.injector||this._defaultInjector||H.NULL,o=r.get(ve,t.injector);n=Je(e.component,{elementInjector:r,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),t.attachView(n.hostView),this.setDisposeFn(()=>{t.viewCount>0&&t.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let n=e.viewContainerRef,t=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return t.rootNodes.forEach(r=>this.outletElement.appendChild(r)),t.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(t);r!==-1&&n.remove(r)}),this._attachedPortal=e,t}attachDomPortal=e=>{let n=e.element;n.parentNode;let t=this.outletElement.ownerDocument.createComment("dom-portal");n.parentNode.insertBefore(t,n),this.outletElement.appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{t.parentNode&&t.parentNode.replaceChild(n,t)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var qr=new B("cdk-dir-doc",{providedIn:"root",factory:Jr});function Jr(){return u(E)}var eo=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function to(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?eo.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var qi=(()=>{class i{get value(){return this.valueSignal()}valueSignal=kt("ltr");change=new w;constructor(){let n=u(qr,{optional:!0});if(n){let t=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(to(t||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var io=20,di=(()=>{class i{_ngZone=u(k);_platform=u(A);_renderer=u(ue).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new S;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let t=this.scrollContainers.get(n);t&&(t.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=io){return this._platform.isBrowser?new _e(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=n>0?this._scrolled.pipe(Dt(n)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ie()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(n,t){let r=this.getAncestorScrollContainers(n);return this.scrolled(t).pipe(le(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(n){let t=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,n)&&t.push(o)}),t}_scrollableContainsElement(n,t){let r=Le(t),o=n.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var no=20,$e=(()=>{class i{_platform=u(A);_listeners;_viewportSize;_change=new S;_document=u(E);constructor(){let n=u(k),t=u(ue).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[t.listen("window","resize",r),t.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:t,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+t,height:r,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,t=this._getWindow(),r=n.documentElement,o=r.getBoundingClientRect(),s=-o.top||n.body.scrollTop||t.scrollY||r.scrollTop||0,a=-o.left||n.body.scrollLeft||t.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(n=no){return n>0?this._change.pipe(Dt(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ji=Gt();function an(i){return new mt(i.get($e),i.get(E))}var mt=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,n){this._viewportRuler=e,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=x(-this._previousScrollPosition.left),e.style.top=x(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,t=e.style,r=n.style,o=t.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Ji&&(t.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ji&&(t.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.documentElement,t=this._viewportRuler.getViewportSize();return n.scrollHeight>t.height||n.scrollWidth>t.width}};function ln(i,e){return new _t(i.get(di),i.get(k),i.get($e),e)}var _t=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,n,t,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=t,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(le(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Xe=class{enable(){}disable(){}attach(){}};function ui(i,e){return e.some(n=>{let t=i.bottom<n.top,r=i.top>n.bottom,o=i.right<n.left,s=i.left>n.right;return t||r||o||s})}function en(i,e){return e.some(n=>{let t=i.top<n.top,r=i.bottom>n.bottom,o=i.left<n.left,s=i.right>n.right;return t||r||o||s})}function cn(i,e){return new yt(i.get(di),i.get($e),i.get(k),e)}var yt=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,n,t,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=t,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:r}=this._viewportRuler.getViewportSize();ui(n,[{width:t,height:r,bottom:r,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},hn=(()=>{class i{_injector=u(H);constructor(){}noop=()=>new Xe;close=n=>ln(this._injector,n);block=()=>an(this._injector);reposition=n=>cn(this._injector,n);static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),vt=class{positionStrategy;scrollStrategy=new Xe;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let n=Object.keys(e);for(let t of n)e[t]!==void 0&&(this[t]=e[t])}}};var bt=class{connectionPair;scrollableViewProperties;constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var dn=(()=>{class i{_attachedOverlays=[];_document=u(E);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let t=this._attachedOverlays.indexOf(n);t>-1&&this._attachedOverlays.splice(t,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),un=(()=>{class i extends dn{_ngZone=u(k);_renderer=u(ue).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let t=this._attachedOverlays;for(let r=t.length-1;r>-1;r--)if(t[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>t[r]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ot(i)))(r||i)}})();static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gn=(()=>{class i extends dn{_platform=u(A);_ngZone=u(k);_renderer=u(ue).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(n){if(super.add(n),!this._isAttached){let t=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(t,"pointerdown",this._pointerDownListener,r),o.listen(t,"click",this._clickListener,r),o.listen(t,"auxclick",this._clickListener,r),o.listen(t,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=$t(n)};_clickListener=n=>{let t=$t(n),r=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(tn(a.overlayElement,t)||tn(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n)}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ot(i)))(r||i)}})();static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function tn(i,e){let n=typeof ShadowRoot<"u"&&ShadowRoot,t=e;for(;t;){if(t===i)return!0;t=n&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var fn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=D({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(t,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return i})(),pn=(()=>{class i{_platform=u(A);_containerElement;_document=u(E);_styleLoader=u(oi);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Xt()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let t=this._document.createElement("div");t.classList.add(n),Xt()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}_loadStyles(){this._styleLoader.load(fn)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gi=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,n,t,r){this._renderer=n,this._ngZone=t,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Ct=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new S;_attachments=new S;_detachments=new S;_positionStrategy;_scrollStrategy;_locationChanges=V.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new S;_outsidePointerEvents=new S;_afterNextRenderRef;constructor(e,n,t,r,o,s,a,l,d,h=!1,p,R){this._portalOutlet=e,this._host=n,this._pane=t,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=p,this._renderer=R,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=be(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=y(y({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ae(y({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=x(this._config.width),e.height=x(this._config.height),e.minWidth=x(this._config.minWidth),e.minHeight=x(this._config.minHeight),e.maxWidth=x(this._config.maxWidth),e.maxHeight=x(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new gi(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,n,t){let r=Ut(n||[]).filter(o=>!!o);r.length&&(t?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=be(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(n){if(e)throw n;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},nn="cdk-overlay-connected-position-bounding-box",ro=/([A-Za-z%]+)$/;function mn(i,e){return new wt(e,i.get($e),i.get(E),i.get(A),i.get(pn))}var wt=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new S;_resizeSubscription=V.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,n,t,r,o){this._viewportRuler=n,this._document=t,this._platform=r,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(nn),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,t=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(l,n,a),h=this._getOverlayFit(d,n,t,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,d,t)){o.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:l,position:a,overlayRect:n})}if(o.length){let a=null,l=-1;for(let d of o){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>l&&(l=h,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&me(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,t){let r;if(t.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=t.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return t.originY=="center"?o=e.top+e.height/2:o=t.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,t){let r;t.overlayX=="center"?r=-n.width/2:t.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return t.overlayY=="center"?o=-n.height/2:o=t.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,t,r){let o=on(n),{x:s,y:a}=e,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(a+=d);let h=0-s,p=s+o.width-t.width,R=0-a,M=a+o.height-t.height,F=this._subtractOverflows(o.width,h,p),G=this._subtractOverflows(o.height,R,M),pi=F*G;return{visibleArea:pi,isCompletelyWithinViewport:o.width*o.height===pi,fitsInViewportVertically:G===o.height,fitsInViewportHorizontally:F==o.width}}_canFitWithFlexibleDimensions(e,n,t){if(this._hasFlexibleDimensions){let r=t.bottom-n.y,o=t.right-n.x,s=rn(this._overlayRef.getConfig().minHeight),a=rn(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,d=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&d}return!1}_pushOverlayOnScreen(e,n,t){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=on(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-t.top-e.y,0),d=Math.max(o.left-t.left-e.x,0),h=0,p=0;return r.width<=o.width?h=d||-s:h=e.x<this._viewportMargin?o.left-t.left-e.x:0,r.height<=o.height?p=l||-a:p=e.y<this._viewportMargin?o.top-t.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!oo(this._lastScrollVisibility,t)){let r=new bt(e,t);this._positionChanges.next(r)}this._lastScrollVisibility=t}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,r=e.overlayY;e.overlayX==="center"?t="center":this._isRtl()?t=e.overlayX==="start"?"right":"left":t=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${t} ${r}`}_calculateBoundingBoxRect(e,n){let t=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=t.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=t.height-e.y+this._viewportMargin*2,o=t.height-a+this._viewportMargin;else{let M=Math.min(t.bottom-e.y+t.top,e.y),F=this._lastBoundingBoxSize.height;o=M*2,s=e.y-M,o>F&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-F/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,d=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,h,p,R;if(d)R=t.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)p=e.x,h=t.right-e.x;else{let M=Math.min(t.right-e.x+t.left,e.x),F=this._lastBoundingBoxSize.width;h=M*2,p=e.x-M,h>F&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-F/2)}return{top:s,left:p,bottom:a,right:R,width:h,height:o}}_setBoundingBoxStyles(e,n){let t=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=x(t.height),r.top=x(t.top),r.bottom=x(t.bottom),r.width=x(t.width),r.left=x(t.left),r.right=x(t.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=x(o)),s&&(r.maxWidth=x(s))}this._lastBoundingBoxSize=t,me(this._boundingBox.style,r)}_resetBoundingBoxStyles(){me(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){me(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let t={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();me(t,this._getExactOverlayY(n,e,h)),me(t,this._getExactOverlayX(n,e,h))}else t.position="static";let a="",l=this._getOffset(n,"x"),d=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),t.transform=a.trim(),s.maxHeight&&(r?t.maxHeight=x(s.maxHeight):o&&(t.maxHeight="")),s.maxWidth&&(r?t.maxWidth=x(s.maxWidth):o&&(t.maxWidth="")),me(this._pane.style,t)}_getExactOverlayY(e,n,t){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,t)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=x(o.y);return r}_getExactOverlayX(e,n,t){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,t));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=x(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),t=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:en(e,t),isOriginOutsideView:ui(e,t),isOverlayClipped:en(n,t),isOverlayOutsideView:ui(n,t)}}_subtractOverflows(e,...n){return n.reduce((t,r)=>t-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+e-this._viewportMargin,bottom:t.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ut(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof T)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,t=e.height||0;return{top:e.y,bottom:e.y+t,left:e.x,right:e.x+n,height:t,width:n}}};function me(i,e){for(let n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}function rn(i){if(typeof i!="number"&&i!=null){let[e,n]=i.split(ro);return!n||n==="px"?parseFloat(e):null}return i||null}function on(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function oo(i,e){return i===e?!0:i.isOriginClipped===e.isOriginClipped&&i.isOriginOutsideView===e.isOriginOutsideView&&i.isOverlayClipped===e.isOverlayClipped&&i.isOverlayOutsideView===e.isOverlayOutsideView}var sn="cdk-global-overlay-wrapper";function _n(i){return new St}var St=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(sn),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=t,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,p=this._xOffset,R=this._overlayRef.getConfig().direction==="rtl",M="",F="",G="";l?G="flex-start":h==="center"?(G="center",R?F=p:M=p):R?h==="left"||h==="end"?(G="flex-end",M=p):(h==="right"||h==="start")&&(G="flex-start",F=p):h==="left"||h==="start"?(G="flex-start",M=p):(h==="right"||h==="end")&&(G="flex-end",F=p),e.position=this._cssPosition,e.marginLeft=l?"0":M,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":F,n.justifyContent=G,n.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,t=n.style;n.classList.remove(sn),t.justifyContent=t.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},yn=(()=>{class i{_injector=u(H);constructor(){}global(){return _n()}flexibleConnectedTo(n){return mn(this._injector,n)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function vn(i,e){i.get(oi).load(fn);let n=i.get(pn),t=i.get(E),r=i.get(Zi),o=i.get(ke),s=i.get(qi),a=t.createElement("div"),l=t.createElement("div");l.id=r.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),n.getContainerElement().appendChild(a);let d=new pt(l,o,i),h=new vt(e),p=i.get(Qe,null,{optional:!0})||i.get(ue).createRenderer(null,null);return h.direction=h.direction||s.value,new Ct(d,a,l,h,i.get(k),i.get(un),t,i.get(Ii),i.get(gn),e?.disableAnimations??i.get(wi,null,{optional:!0})==="NoopAnimations",i.get(ve),p)}var fi=(()=>{class i{scrollStrategies=u(hn);_positionBuilder=u(yn);_injector=u(H);constructor(){}create(n){return vn(this._injector,n)}position(){return this._positionBuilder}static \u0275fac=function(t){return new(t||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ao=(i,e)=>({startAnimationTime:i,exitAnimationTime:e}),lo=(i,e)=>({value:i,params:e}),co=new B("LIGHTBOX_CONFIG"),ho=rt("lightbox",[jt("void, exit",oe({opacity:0,transform:"scale(0.7)"})),jt("enter",oe({transform:"none"})),Fe("* => enter",Ne("{{startAnimationTime}}ms cubic-bezier(0, 0, 0.2, 1)",oe({transform:"none",opacity:1}))),Fe("* => void, * => exit",Ne("{{exitAnimationTime}}ms cubic-bezier(0.4, 0.0, 0.2, 1)",oe({opacity:0})))]),uo=(()=>{let e=class e{constructor(t,r,o){this._document=t,this._focusTrapFactory=r,this._elementRef=o,this.state="enter",this._savePreviouslyFocusedElement()}onAnimationDone(t){t.toState==="enter"?this._trapFocus():(this.overlayRef.dispose(),this._restoreFocus())}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._focusTrap.focusInitialElementWhenReady()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_restoreFocus(){let t=this._elementFocusedBeforeDialogWasOpened;t&&typeof t.focus=="function"&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}};e.\u0275fac=function(r){return new(r||e)(f(E,8),f(Ki),f(T))},e.\u0275cmp=D({type:e,selectors:[["lightbox"]],hostAttrs:["tabindex","-1","aria-modal","true"],hostVars:12,hostBindings:function(r,o){r&1&&Ei("@lightbox.done",function(a){return o.onAnimationDone(a)}),r&2&&(xi("@lightbox",Me(9,lo,o.state,Me(6,ao,o.startAnimationTime,o.exitAnimationTime))),L("id","lightbox-"+o.id)("role",o.role)("aria-labelledby",o.ariaLabel?null:o.ariaLabelledBy)("aria-label",o.ariaLabel)("aria-describedby",o.ariaDescribedBy||null))},decls:2,vars:4,consts:[["aria-label","Close",1,"g-btn-close",3,"click","innerHTML"],[3,"id","destroyRef","skipInitConfig"]],template:function(r,o){r&1&&(v(0,"i",0),O("click",function(){return o.overlayRef.detach()}),b(),I(1,"gallery",1)),r&2&&(c("innerHTML",o.closeIcon,K),m(),c("id",o.id)("destroyRef",!1)("skipInitConfig",!0))},dependencies:[We],styles:["lightbox{position:relative;display:block;width:1100px;height:800px;max-width:94vw;max-height:90vh;border-radius:4px;overflow:hidden;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}  lightbox:focus{outline:none}  lightbox gallery{height:100%;width:100%;overflow:hidden;margin:0}  lightbox gallery gallery-core{height:100%!important}  .g-backdrop{background-color:#00000052}  .fullscreen{width:100%}  .fullscreen   lightbox{max-width:unset;max-height:unset;position:fixed;inset:0;height:100%;width:100%;border-radius:0}  .g-overlay{margin:auto}@media only screen and (max-width: 480px){  .g-overlay{width:100%}  .g-overlay   lightbox{max-width:unset;max-height:unset;position:fixed;inset:0;height:100%;width:100%;border-radius:0}}  .g-btn-close{position:absolute;right:.9em;top:.9em;z-index:60;cursor:pointer;width:20px;height:20px}@media only screen and (max-width: 480px){  .g-btn-close{right:.7em;top:.7em}}  .g-btn-close svg{width:100%;height:100%;opacity:.6;transition:opacity linear .15s;filter:drop-shadow(0px 0px 2px rgba(0,0,0,.8))}  .g-btn-close svg:hover{opacity:1}"],data:{animation:[ho]},changeDetection:0});let i=e;return i})(),bn={backdropClass:"g-backdrop",panelClass:"g-overlay",hasBackdrop:!0,keyboardShortcuts:!0,role:"lightbox",startAnimationTime:150,exitAnimationTime:75,closeIcon:`<?xml version="1.0" encoding="UTF-8"?>
<svg width="512px" height="512px" enable-background="new 0 0 47.971 47.971" version="1.1" viewBox="0 0 47.971 47.971" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
	<path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z" fill="#fff"/>
</svg>
`},go=(()=>{let e=class e{constructor(t,r,o,s){this._gallery=r,this._overlay=o,this._sanitizer=s,this.opened=new S,this.closed=new S,this._config=t?y(y({},bn),t):bn}setConfig(t){this._config=y(y({},this._config),t)}open(t=0,r="lightbox",o){let s=o?y(y({},this._config),o):this._config,a={backdropClass:s.backdropClass,panelClass:s.panelClass,hasBackdrop:s.hasBackdrop,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:this._overlay.scrollStrategies.block(),disposeOnNavigation:!0},l=this._gallery.ref(r);l.set(t),this._overlayRef=this._overlay.create(a),this._overlayRef.attachments().subscribe(()=>this.opened.next(r)),this._overlayRef.detachments().subscribe(()=>this.closed.next(r));let d=new Ye(uo),h=this._overlayRef.attach(d);h.instance.id=r,h.instance.overlayRef=this._overlayRef,h.instance.closeIcon=this._sanitizer.bypassSecurityTrustHtml(this._config.closeIcon),h.instance.role=this._config.role,h.instance.ariaLabel=this._config.ariaLabel,h.instance.ariaLabelledBy=this._config.ariaLabelledBy,h.instance.ariaDescribedBy=this._config.ariaDescribedBy,h.instance.startAnimationTime=this._config.startAnimationTime,h.instance.exitAnimationTime=this._config.exitAnimationTime,s.hasBackdrop&&this._overlayRef.backdropClick().subscribe(()=>this.close()),s.keyboardShortcuts&&this._overlayRef.keydownEvents().subscribe(p=>{switch(p.keyCode){case 37:l.prev();break;case 39:l.next();break;case 27:this.close()}})}close(){this._overlayRef.hasAttached()&&this._overlayRef.detach()}};e.\u0275fac=function(r){return new(r||e)($(co,8),$(pe),$(fi),$(xe))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),el=(()=>{let e=class e{constructor(t,r,o,s,a,l,d){this._zone=t,this._el=r,this._gallery=o,this._lightbox=s,this._document=l,this._galleryCmp=d,this._galleryId="lightbox",this.selector="img",nt(a)&&(this._mode=d?"gallery":"detector")}ngOnInit(){this._zone.runOutsideAngular(()=>{this._galleryId=this.gallerize||this._galleryId;let t=this._gallery.ref(this._galleryId);switch(this._mode){case"detector":this.detectorMode(t);break;case"gallery":this.galleryMode(t)}})}ngOnDestroy(){switch(this._mode){case"detector":this._detector$.complete(),this._observer$.disconnect();break;case"gallery":this._itemClick$.unsubscribe(),this._itemChange$.unsubscribe()}}galleryMode(t){this._itemClick$=this._galleryCmp.galleryRef.itemClick.subscribe(r=>this._lightbox.open(r,this._galleryId)),this._itemChange$=this._galleryCmp.galleryRef.itemsChanged.subscribe(r=>t.load(r.items))}detectorMode(t){this._detector$=new S,this._detector$.pipe(ce(300),ye(()=>{let r=this._el.nativeElement.querySelectorAll(this.selector);if(r&&r.length){let o=[];return Ue(r).pipe(mi((s,a)=>{if(s.style.cursor="pointer",s.addEventListener("click",()=>{this._zone.run(()=>this._lightbox.open(a,this._galleryId))}),s instanceof HTMLImageElement)return{src:s.getAttribute("imageSrc")||s.src,thumb:s.getAttribute("thumbSrc")||s.src};{let d=this._document.defaultView.getComputedStyle(s,null).backgroundImage.slice(4,-1).replace(/"/g,"");return{src:s.getAttribute("imageSrc")||d,thumb:s.getAttribute("thumbSrc")||d}}}),Y(s=>o.push(new He(s))),Ze(()=>t.load(o)))}else return De})).subscribe(),this._observer$=new MutationObserver(()=>this._detector$.next()),this._observer$.observe(this._el.nativeElement,{childList:!0,subtree:!0})}};e.\u0275fac=function(r){return new(r||e)(f(k),f(T),f(pe),f(go),f(Ke),f(E),f(We,11))},e.\u0275dir=X({type:e,selectors:[["","gallerize",""]],inputs:{gallerize:"gallerize",selector:"selector"}});let i=e;return i})();var tl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=he({imports:[ri,ri]});let i=e;return i})();export{Zt as a,se as b,He as c,pe as d,go as e,el as f,tl as g};
