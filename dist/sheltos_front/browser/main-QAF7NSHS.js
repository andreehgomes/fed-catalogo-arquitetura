import{a as va,d as Ia}from"./chunk-AHQQIN5L.js";import{a as Ma,b as Fa}from"./chunk-QBL2TK6Z.js";import{b as Ea,d as Ta}from"./chunk-2BEIYH36.js";import{$ as ga,C as er,I as Is,J as Pt,K as Ce,L as tr,M as nr,N as pa,O as Ne,P as De,Q as rr,R as sr,S as ft,T as ne,U as Ct,V as Nt,W as Dt,X as kt,Y as Vt,Z as xt,_ as Ot,aa as ya,ba as ir,ea as or,f as Wn,fa as _a,h as Hn,i as Xn,ia as wa,j as Yn,k as Jn,m as da,na as ka,p as vs,q as fa,r as ma,s as it,t as Zn}from"./chunk-MTO2IKNZ.js";import{b as Da}from"./chunk-2ESJLUZC.js";import{b as Va}from"./chunk-7LTBQZNK.js";import{b as xa,d as Oa}from"./chunk-O2GZM7RP.js";import{a as Ss,b as cn,c as Sa,d as Aa,e as ba,f as Ra,g as Pa,h as As,m as Ca,n as Na}from"./chunk-JLKYV42Y.js";import"./chunk-O5W46BKE.js";import{a as F,b as Ae,e as ha,f as Ts,i as dt,j as Qn,k as un}from"./chunk-ACCN7XIB.js";import{Fa as _s,Ga as ws,Pc as Es,Qa as na,Rc as oa,Sa as st,Sc as aa,Tc as Gn,Uc as ua,Xa as ra,Xc as ca,Z as Zo,_c as la,ab as sa,ca as $,ea as Be,ga as Te,ha as et,ia as tt,ja as nt,la as ea,sa as rt,ta,tb as ia,ya as ye}from"./chunk-NXIMDZUX.js";import{a as qe,b as ys,c as Jo,g as x}from"./chunk-RA2WU32H.js";var La=(()=>{let e=class e{constructor(){this.title="sheltos-front"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=sa({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,a){i&1&&ia(0,"router-outlet")},dependencies:[ca],encapsulation:2});let r=e;return r})();function Ua(r){return new $(3e3,!1)}function hh(){return new $(3100,!1)}function dh(){return new $(3101,!1)}function fh(r){return new $(3001,!1)}function mh(r){return new $(3003,!1)}function ph(r){return new $(3004,!1)}function Ba(r,e){return new $(3005,!1)}function ja(){return new $(3006,!1)}function $a(){return new $(3007,!1)}function za(r,e){return new $(3008,!1)}function Ka(r){return new $(3002,!1)}function Ga(r,e,t,s,i){return new $(3010,!1)}function Qa(){return new $(3011,!1)}function Wa(){return new $(3012,!1)}function Ha(){return new $(3200,!1)}function Xa(){return new $(3202,!1)}function Ya(){return new $(3013,!1)}function Ja(r){return new $(3014,!1)}function Za(r){return new $(3015,!1)}function eu(r){return new $(3016,!1)}function tu(r,e){return new $(3404,!1)}function gh(r){return new $(3502,!1)}function nu(r){return new $(3503,!1)}function ru(){return new $(3300,!1)}function su(r){return new $(3504,!1)}function iu(r){return new $(3301,!1)}function ou(r,e){return new $(3302,!1)}function au(r){return new $(3303,!1)}function uu(r,e){return new $(3400,!1)}function cu(r){return new $(3401,!1)}function lu(r){return new $(3402,!1)}function hu(r,e){return new $(3505,!1)}function je(r){switch(r.length){case 0:return new dt;case 1:return r[0];default:return new Qn(r)}}function Cs(r,e,t=new Map,s=new Map){let i=[],a=[],c=-1,l=null;if(e.forEach(d=>{let y=d.get("offset"),S=y==c,I=S&&l||new Map;d.forEach((b,C)=>{let A=C,R=b;if(C!=="offset")switch(A=r.normalizePropertyName(A,i),R){case un:R=t.get(C);break;case Ae:R=s.get(C);break;default:R=r.normalizeStyleValue(C,A,R,i);break}I.set(A,R)}),S||a.push(I),l=I,c=y}),i.length)throw gh(i);return a}function ur(r,e,t,s){switch(e){case"start":r.onStart(()=>s(t&&bs(t,"start",r)));break;case"done":r.onDone(()=>s(t&&bs(t,"done",r)));break;case"destroy":r.onDestroy(()=>s(t&&bs(t,"destroy",r)));break}}function bs(r,e,t){let s=t.totalTime,i=!!t.disabled,a=cr(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,s??r.totalTime,i),c=r._data;return c!=null&&(a._data=c),a}function cr(r,e,t,s,i="",a=0,c){return{element:r,triggerName:e,fromState:t,toState:s,phaseName:i,totalTime:a,disabled:!!c}}function de(r,e,t){let s=r.get(e);return s||r.set(e,s=t),s}function Ns(r){let e=r.indexOf(":"),t=r.substring(1,e),s=r.slice(e+1);return[t,s]}var yh=typeof document>"u"?null:document.documentElement;function lr(r){let e=r.parentNode||r.host||null;return e===yh?null:e}function _h(r){return r.substring(1,6)=="ebkit"}var mt=null,qa=!1;function du(r){mt||(mt=wh()||{},qa=mt.style?"WebkitAppearance"in mt.style:!1);let e=!0;return mt.style&&!_h(r)&&(e=r in mt.style,!e&&qa&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in mt.style)),e}function wh(){return typeof document<"u"?document.body:null}function Ds(r,e){for(;e;){if(e===r)return!0;e=lr(e)}return!1}function ks(r,e,t){if(t)return Array.from(r.querySelectorAll(e));let s=r.querySelector(e);return s?[s]:[]}var Eh=1e3,Vs="{{",Th="}}",xs="ng-enter",hr="ng-leave",ln="ng-trigger",hn=".ng-trigger",Os="ng-animating",dr=".ng-animating";function ke(r){if(typeof r=="number")return r;let e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Rs(parseFloat(e[1]),e[2])}function Rs(r,e){switch(e){case"s":return r*Eh;default:return r}}function dn(r,e,t){return r.hasOwnProperty("duration")?r:Ih(r,e,t)}var vh=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Ih(r,e,t){let s,i=0,a="";if(typeof r=="string"){let c=r.match(vh);if(c===null)return e.push(Ua(r)),{duration:0,delay:0,easing:""};s=Rs(parseFloat(c[1]),c[2]);let l=c[3];l!=null&&(i=Rs(parseFloat(l),c[4]));let d=c[5];d&&(a=d)}else s=r;if(!t){let c=!1,l=e.length;s<0&&(e.push(hh()),c=!0),i<0&&(e.push(dh()),c=!0),c&&e.splice(l,0,Ua(r))}return{duration:s,delay:i,easing:a}}function fu(r){return r.length?r[0]instanceof Map?r:r.map(e=>new Map(Object.entries(e))):[]}function be(r,e,t){e.forEach((s,i)=>{let a=fr(i);t&&!t.has(i)&&t.set(i,r.style[a]),r.style[a]=s})}function ot(r,e){e.forEach((t,s)=>{let i=fr(s);r.style[i]=""})}function Mt(r){return Array.isArray(r)?r.length==1?r[0]:ha(r):r}function mu(r,e,t){let s=e.params||{},i=Ms(r);i.length&&i.forEach(a=>{s.hasOwnProperty(a)||t.push(fh(a))})}var Ps=new RegExp(`${Vs}\\s*(.+?)\\s*${Th}`,"g");function Ms(r){let e=[];if(typeof r=="string"){let t;for(;t=Ps.exec(r);)e.push(t[1]);Ps.lastIndex=0}return e}function Ft(r,e,t){let s=`${r}`,i=s.replace(Ps,(a,c)=>{let l=e[c];return l==null&&(t.push(mh(c)),l=""),l.toString()});return i==s?r:i}var Sh=/-+([a-z0-9])/g;function fr(r){return r.replace(Sh,(...e)=>e[1].toUpperCase())}function pu(r,e){return r===0||e===0}function gu(r,e,t){if(t.size&&e.length){let s=e[0],i=[];if(t.forEach((a,c)=>{s.has(c)||i.push(c),s.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(l=>c.set(l,mr(r,l)))}}return e}function fe(r,e,t){switch(e.type){case F.Trigger:return r.visitTrigger(e,t);case F.State:return r.visitState(e,t);case F.Transition:return r.visitTransition(e,t);case F.Sequence:return r.visitSequence(e,t);case F.Group:return r.visitGroup(e,t);case F.Animate:return r.visitAnimate(e,t);case F.Keyframes:return r.visitKeyframes(e,t);case F.Style:return r.visitStyle(e,t);case F.Reference:return r.visitReference(e,t);case F.AnimateChild:return r.visitAnimateChild(e,t);case F.AnimateRef:return r.visitAnimateRef(e,t);case F.Query:return r.visitQuery(e,t);case F.Stagger:return r.visitStagger(e,t);default:throw ph(e.type)}}function mr(r,e){return window.getComputedStyle(r)[e]}var Zs=(()=>{class r{validateStyleProperty(t){return du(t)}containsElement(t,s){return Ds(t,s)}getParentElement(t){return lr(t)}query(t,s,i){return ks(t,s,i)}computeStyle(t,s,i){return i||""}animate(t,s,i,a,c,l=[],d){return new dt(i,a)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=Be({token:r,factory:r.\u0275fac})}return r})(),gt=class{static NOOP=new Zs},yt=class{};var Ah=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),wr=class extends yt{normalizePropertyName(e,t){return fr(e)}normalizeStyleValue(e,t,s,i){let a="",c=s.toString().trim();if(Ah.has(t)&&s!==0&&s!=="0")if(typeof s=="number")a="px";else{let l=s.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&i.push(Ba(e,s))}return c+a}};var Er="*";function bh(r,e){let t=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(s=>Rh(s,t,e)):t.push(r),t}function Rh(r,e,t){if(r[0]==":"){let d=Ph(r,t);if(typeof d=="function"){e.push(d);return}r=d}let s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(s==null||s.length<4)return t.push(Za(r)),e;let i=s[1],a=s[2],c=s[3];e.push(yu(i,c));let l=i==Er&&c==Er;a[0]=="<"&&!l&&e.push(yu(c,i))}function Ph(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,s)=>parseFloat(s)>parseFloat(t);case":decrement":return(t,s)=>parseFloat(s)<parseFloat(t);default:return e.push(eu(r)),"* => *"}}var pr=new Set(["true","1"]),gr=new Set(["false","0"]);function yu(r,e){let t=pr.has(r)||gr.has(r),s=pr.has(e)||gr.has(e);return(i,a)=>{let c=r==Er||r==i,l=e==Er||e==a;return!c&&t&&typeof i=="boolean"&&(c=i?pr.has(r):gr.has(r)),!l&&s&&typeof a=="boolean"&&(l=a?pr.has(e):gr.has(e)),c&&l}}var Ru=":self",Ch=new RegExp(`s*${Ru}s*,?`,"g");function Pu(r,e,t,s){return new js(r).build(e,t,s)}var _u="",js=class{_driver;constructor(e){this._driver=e}build(e,t,s){let i=new $s(t);return this._resetContextStyleTimingState(i),fe(this,Mt(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=_u,e.collectedStyles=new Map,e.collectedStyles.set(_u,new Map),e.currentTime=0}visitTrigger(e,t){let s=t.queryCount=0,i=t.depCount=0,a=[],c=[];return e.name.charAt(0)=="@"&&t.errors.push(ja()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==F.State){let d=l,y=d.name;y.toString().split(/\s*,\s*/).forEach(S=>{d.name=S,a.push(this.visitState(d,t))}),d.name=y}else if(l.type==F.Transition){let d=this.visitTransition(l,t);s+=d.queryCount,i+=d.depCount,c.push(d)}else t.errors.push($a())}),{type:F.Trigger,name:e.name,states:a,transitions:c,queryCount:s,depCount:i,options:null}}visitState(e,t){let s=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(s.containsDynamicStyles){let a=new Set,c=i||{};s.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{Ms(d).forEach(y=>{c.hasOwnProperty(y)||a.add(y)})})}),a.size&&t.errors.push(za(e.name,[...a.values()]))}return{type:F.State,name:e.name,style:s,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let s=fe(this,Mt(e.animation),t),i=bh(e.expr,t.errors);return{type:F.Transition,matchers:i,animation:s,queryCount:t.queryCount,depCount:t.depCount,options:pt(e.options)}}visitSequence(e,t){return{type:F.Sequence,steps:e.steps.map(s=>fe(this,s,t)),options:pt(e.options)}}visitGroup(e,t){let s=t.currentTime,i=0,a=e.steps.map(c=>{t.currentTime=s;let l=fe(this,c,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:F.Group,steps:a,options:pt(e.options)}}visitAnimate(e,t){let s=Vh(e.timings,t.errors);t.currentAnimateTimings=s;let i,a=e.styles?e.styles:Ts({});if(a.type==F.Keyframes)i=this.visitKeyframes(a,t);else{let c=e.styles,l=!1;if(!c){l=!0;let y={};s.easing&&(y.easing=s.easing),c=Ts(y)}t.currentTime+=s.duration+s.delay;let d=this.visitStyle(c,t);d.isEmptyStep=l,i=d}return t.currentAnimateTimings=null,{type:F.Animate,timings:s,style:i,options:null}}visitStyle(e,t){let s=this._makeStyleAst(e,t);return this._validateStyleAst(s,t),s}_makeStyleAst(e,t){let s=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of i)typeof l=="string"?l===Ae?s.push(l):t.errors.push(Ka(l)):s.push(new Map(Object.entries(l)));let a=!1,c=null;return s.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(c=l.get("easing"),l.delete("easing")),!a)){for(let d of l.values())if(d.toString().indexOf(Vs)>=0){a=!0;break}}}),{type:F.Style,styles:s,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){let s=t.currentAnimateTimings,i=t.currentTime,a=t.currentTime;s&&a>0&&(a-=s.duration+s.delay),e.styles.forEach(c=>{typeof c!="string"&&c.forEach((l,d)=>{let y=t.collectedStyles.get(t.currentQuerySelector),S=y.get(d),I=!0;S&&(a!=i&&a>=S.startTime&&i<=S.endTime&&(t.errors.push(Ga(d,S.startTime,S.endTime,a,i)),I=!1),a=S.startTime),I&&y.set(d,{startTime:a,endTime:i}),t.options&&mu(l,t.options,t.errors)})})}visitKeyframes(e,t){let s={type:F.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Qa()),s;let i=1,a=0,c=[],l=!1,d=!1,y=0,S=e.steps.map(j=>{let K=this._makeStyleAst(j,t),U=K.offset!=null?K.offset:kh(K.styles),O=0;return U!=null&&(a++,O=K.offset=U),d=d||O<0||O>1,l=l||O<y,y=O,c.push(O),K});d&&t.errors.push(Wa()),l&&t.errors.push(Ha());let I=e.steps.length,b=0;a>0&&a<I?t.errors.push(Xa()):a==0&&(b=i/(I-1));let C=I-1,A=t.currentTime,R=t.currentAnimateTimings,D=R.duration;return S.forEach((j,K)=>{let U=b>0?K==C?1:b*K:c[K],O=U*D;t.currentTime=A+R.delay+O,R.duration=O,this._validateStyleAst(j,t),j.offset=U,s.styles.push(j)}),s}visitReference(e,t){return{type:F.Reference,animation:fe(this,Mt(e.animation),t),options:pt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:F.AnimateChild,options:pt(e.options)}}visitAnimateRef(e,t){return{type:F.AnimateRef,animation:this.visitReference(e.animation,t),options:pt(e.options)}}visitQuery(e,t){let s=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[a,c]=Nh(e.selector);t.currentQuerySelector=s.length?s+" "+a:a,de(t.collectedStyles,t.currentQuerySelector,new Map);let l=fe(this,Mt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=s,{type:F.Query,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:l,originalSelector:e.selector,options:pt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Ya());let s=e.timings==="full"?{duration:0,delay:0,easing:"full"}:dn(e.timings,t.errors,!0);return{type:F.Stagger,animation:fe(this,Mt(e.animation),t),timings:s,options:null}}};function Nh(r){let e=!!r.split(/\s*,\s*/).find(t=>t==Ru);return e&&(r=r.replace(Ch,"")),r=r.replace(/@\*/g,hn).replace(/@\w+/g,t=>hn+"-"+t.slice(1)).replace(/:animating/g,dr),[r,e]}function Dh(r){return r?qe({},r):null}var $s=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function kh(r){if(typeof r=="string")return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){let s=t;e=parseFloat(s.get("offset")),s.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Vh(r,e){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let a=dn(r,e).duration;return Fs(a,0,"")}let t=r;if(t.split(/\s+/).some(a=>a.charAt(0)=="{"&&a.charAt(1)=="{")){let a=Fs(0,0,"");return a.dynamic=!0,a.strValue=t,a}let i=dn(t,e);return Fs(i.duration,i.delay,i.easing)}function pt(r){return r?(r=qe({},r),r.params&&(r.params=Dh(r.params))):r={},r}function Fs(r,e,t){return{duration:r,delay:e,easing:t}}function ei(r,e,t,s,i,a,c=null,l=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:s,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:l}}var mn=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let s=this._map.get(e);s||this._map.set(e,s=[]),s.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},xh=1,Oh=":enter",Mh=new RegExp(Oh,"g"),Fh=":leave",Lh=new RegExp(Fh,"g");function Cu(r,e,t,s,i,a=new Map,c=new Map,l,d,y=[]){return new zs().buildKeyframes(r,e,t,s,i,a,c,l,d,y)}var zs=class{buildKeyframes(e,t,s,i,a,c,l,d,y,S=[]){y=y||new mn;let I=new Ks(e,t,y,i,a,S,[]);I.options=d;let b=d.delay?ke(d.delay):0;I.currentTimeline.delayNextStep(b),I.currentTimeline.setStyles([c],null,I.errors,d),fe(this,s,I);let C=I.timelines.filter(A=>A.containsAnimation());if(C.length&&l.size){let A;for(let R=C.length-1;R>=0;R--){let D=C[R];if(D.element===t){A=D;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([l],null,I.errors,d)}return C.length?C.map(A=>A.buildKeyframes()):[ei(t,[],[],[],0,b,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let s=t.subInstructions.get(t.element);if(s){let i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(s,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){let s=t.createSubContext(e.options);s.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,s),this.visitReference(e.animation,s),t.transformIntoNewTimeline(s.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,s){for(let i of e){let a=i?.delay;if(a){let c=typeof a=="number"?a:ke(Ft(a,i?.params??{},t.errors));s.delayNextStep(c)}}}_visitSubInstructions(e,t,s){let a=t.currentTimeline.currentTime,c=s.duration!=null?ke(s.duration):null,l=s.delay!=null?ke(s.delay):null;return c!==0&&e.forEach(d=>{let y=t.appendInstructionToTimeline(d,c,l);a=Math.max(a,y.duration+y.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),fe(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let s=t.subContextCount,i=t,a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),a.delay!=null)){i.previousNode.type==F.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Tr);let c=ke(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>fe(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>s&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let s=[],i=t.currentTimeline.currentTime,a=e.options&&e.options.delay?ke(e.options.delay):0;e.steps.forEach(c=>{let l=t.createSubContext(e.options);a&&l.delayNextStep(a),fe(this,c,l),i=Math.max(i,l.currentTimeline.currentTime),s.push(l.currentTimeline)}),s.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let s=e.strValue,i=t.params?Ft(s,t.params,t.errors):s;return dn(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let s=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;s.delay&&(t.incrementTime(s.delay),i.snapshotCurrentStyles());let a=e.style;a.type==F.Keyframes?this.visitKeyframes(a,t):(t.incrementTime(s.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let s=t.currentTimeline,i=t.currentAnimateTimings;!i&&s.hasCurrentStyleProperties()&&s.forwardFrame();let a=i&&i.easing||e.easing;e.isEmptyStep?s.applyEmptyStep(a):s.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let s=t.currentAnimateTimings,i=t.currentTimeline.duration,a=s.duration,l=t.createSubContext().currentTimeline;l.easing=s.easing,e.styles.forEach(d=>{let y=d.offset||0;l.forwardTime(y*a),l.setStyles(d.styles,d.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){let s=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?ke(i.delay):0;a&&(t.previousNode.type===F.Style||s==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Tr);let c=s,l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let d=null;l.forEach((y,S)=>{t.currentQueryIndex=S;let I=t.createSubContext(e.options,y);a&&I.delayNextStep(a),y===t.element&&(d=I.currentTimeline),fe(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe();let b=I.currentTimeline.currentTime;c=Math.max(c,b)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let s=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),l=c*(t.currentQueryTotal-1),d=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":d=l-d;break;case"full":d=s.currentStaggerTime;break}let S=t.currentTimeline;d&&S.delayNextStep(d);let I=S.currentTime;fe(this,e.animation,t),t.previousNode=e,s.currentStaggerTime=i.currentTime-I+(i.startTime-s.currentTimeline.startTime)}},Tr={},Ks=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Tr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,s,i,a,c,l,d){this._driver=e,this.element=t,this.subInstructions=s,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=l,this.currentTimeline=d||new vr(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let s=e,i=this.options;s.duration!=null&&(i.duration=ke(s.duration)),s.delay!=null&&(i.delay=ke(s.delay));let a=s.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(l=>{(!t||!c.hasOwnProperty(l))&&(c[l]=Ft(a[l],c,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let s=e.params={};Object.keys(t).forEach(i=>{s[i]=t[i]})}}return e}createSubContext(e=null,t,s){let i=t||this.element,a=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,s||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Tr,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,s){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(s??0)+e.delay,easing:""},a=new Gs(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,s,i,a,c){let l=[];if(i&&l.push(this.element),e.length>0){e=e.replace(Mh,"."+this._enterClassName),e=e.replace(Lh,"."+this._leaveClassName);let d=s!=1,y=this._driver.query(this.element,e,d);s!==0&&(y=s<0?y.slice(y.length+s,y.length):y.slice(0,s)),l.push(...y)}return!a&&l.length==0&&c.push(Ja(t)),l}},vr=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,s,i){this._driver=e,this.element=t,this.startTime=s,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new r(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xh,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,s]of this._globalTimelineStyles)this._backFill.set(t,s||Ae),this._currentKeyframe.set(t,Ae);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,s,i){t&&this._previousKeyframe.set("easing",t);let a=i&&i.params||{},c=Uh(e,this._globalTimelineStyles);for(let[l,d]of c){let y=Ft(d,a,s);this._pendingStyles.set(l,y),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Ae),this._updateStyle(l,y)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,s)=>{let i=this._styleSummary.get(s);(!i||t.time>i.time)&&this._updateStyle(s,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,s=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((l,d)=>{let y=new Map([...this._backFill,...l]);y.forEach((S,I)=>{S===un?e.add(I):S===Ae&&t.add(I)}),s||y.set("offset",d/this.duration),i.push(y)});let a=[...e.values()],c=[...t.values()];if(s){let l=i[0],d=new Map(l);l.set("offset",0),d.set("offset",1),i=[l,d]}return ei(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}},Gs=class extends vr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,s,i,a,c,l=!1){super(e,t,c.delay),this.keyframes=s,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=l,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:s,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let a=[],c=s+t,l=t/c,d=new Map(e[0]);d.set("offset",0),a.push(d);let y=new Map(e[0]);y.set("offset",wu(l)),a.push(y);let S=e.length-1;for(let I=1;I<=S;I++){let b=new Map(e[I]),C=b.get("offset"),A=t+C*s;b.set("offset",wu(A/c)),a.push(b)}s=c,t=0,i="",e=a}return ei(this.element,e,this.preStyleProps,this.postStyleProps,s,t,i,!0)}};function wu(r,e=3){let t=Math.pow(10,e-1);return Math.round(r*t)/t}function Uh(r,e){let t=new Map,s;return r.forEach(i=>{if(i==="*"){s??=e.keys();for(let a of s)t.set(a,Ae)}else for(let[a,c]of i)t.set(a,c)}),t}function Eu(r,e,t,s,i,a,c,l,d,y,S,I,b){return{type:0,element:r,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:s,toStyles:c,timelines:l,queriedElements:d,preStyleProps:y,postStyleProps:S,totalTime:I,errors:b}}var Ls={},Ir=class{_triggerName;ast;_stateStyles;constructor(e,t,s){this._triggerName=e,this.ast=t,this._stateStyles=s}match(e,t,s,i){return qh(this.ast.matchers,e,t,s,i)}buildStyles(e,t,s){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,s):new Map}build(e,t,s,i,a,c,l,d,y,S){let I=[],b=this.ast.options&&this.ast.options.params||Ls,C=l&&l.params||Ls,A=this.buildStyles(s,C,I),R=d&&d.params||Ls,D=this.buildStyles(i,R,I),j=new Set,K=new Map,U=new Map,O=i==="void",ie={params:Nu(R,b),delay:this.ast.options?.delay},Q=S?[]:Cu(e,t,this.ast.animation,a,c,A,D,ie,y,I),_=0;return Q.forEach(f=>{_=Math.max(f.duration+f.delay,_)}),I.length?Eu(t,this._triggerName,s,i,O,A,D,[],[],K,U,_,I):(Q.forEach(f=>{let p=f.element,g=de(K,p,new Set);f.preStyleProps.forEach(T=>g.add(T));let w=de(U,p,new Set);f.postStyleProps.forEach(T=>w.add(T)),p!==t&&j.add(p)}),Eu(t,this._triggerName,s,i,O,A,D,Q,[...j.values()],K,U,_))}};function qh(r,e,t,s,i){return r.some(a=>a(e,t,s,i))}function Nu(r,e){let t=qe({},e);return Object.entries(r).forEach(([s,i])=>{i!=null&&(t[s]=i)}),t}var Qs=class{styles;defaultParams;normalizer;constructor(e,t,s){this.styles=e,this.defaultParams=t,this.normalizer=s}buildStyles(e,t){let s=new Map,i=Nu(e,this.defaultParams);return this.styles.styles.forEach(a=>{typeof a!="string"&&a.forEach((c,l)=>{c&&(c=Ft(c,i,t));let d=this.normalizer.normalizePropertyName(l,t);c=this.normalizer.normalizeStyleValue(l,d,c,t),s.set(l,c)})}),s}};function Bh(r,e,t){return new Ws(r,e,t)}var Ws=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,s){this.name=e,this.ast=t,this._normalizer=s,t.states.forEach(i=>{let a=i.options&&i.options.params||{};this.states.set(i.name,new Qs(i.style,a,s))}),Tu(this.states,"true","1"),Tu(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ir(e,i,this.states))}),this.fallbackTransition=jh(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,s,i){return this.transitionFactories.find(c=>c.match(e,t,s,i))||null}matchStyles(e,t,s){return this.fallbackTransition.buildStyles(e,t,s)}};function jh(r,e,t){let s=[(c,l)=>!0],i={type:F.Sequence,steps:[],options:null},a={type:F.Transition,animation:i,matchers:s,options:null,queryCount:0,depCount:0};return new Ir(r,a,e)}function Tu(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}var $h=new mn,Hs=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,s){this.bodyNode=e,this._driver=t,this._normalizer=s}register(e,t){let s=[],i=[],a=Pu(this._driver,t,s,i);if(s.length)throw nu(s);this._animations.set(e,a)}_buildPlayer(e,t,s){let i=e.element,a=Cs(this._normalizer,e.keyframes,t,s);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,s={}){let i=[],a=this._animations.get(e),c,l=new Map;if(a?(c=Cu(this._driver,t,a,xs,hr,new Map,new Map,s,$h,i),c.forEach(S=>{let I=de(l,S.element,new Map);S.postStyleProps.forEach(b=>I.set(b,null))})):(i.push(ru()),c=[]),i.length)throw su(i);l.forEach((S,I)=>{S.forEach((b,C)=>{S.set(C,this._driver.computeStyle(I,C,Ae))})});let d=c.map(S=>{let I=l.get(S.element);return this._buildPlayer(S,new Map,I)}),y=je(d);return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let s=this.players.indexOf(t);s>=0&&this.players.splice(s,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw iu(e);return t}listen(e,t,s,i){let a=cr(t,"","","");return ur(this._getPlayer(e),s,a,i),()=>{}}command(e,t,s,i){if(s=="register"){this.register(e,i[0]);return}if(s=="create"){let c=i[0]||{};this.create(e,t,c);return}let a=this._getPlayer(e);switch(s){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},vu="ng-animate-queued",zh=".ng-animate-queued",Us="ng-animate-disabled",Kh=".ng-animate-disabled",Gh="ng-star-inserted",Qh=".ng-star-inserted",Wh=[],Du={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Re="__ng_removed",pn=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let s=e&&e.hasOwnProperty("value"),i=s?e.value:e;if(this.value=Yh(i),s){let a=e,{value:c}=a,l=Jo(a,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let s=this.options.params;Object.keys(t).forEach(i=>{s[i]==null&&(s[i]=t[i])})}}},fn="void",qs=new pn(fn),Xs=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,s){this.id=e,this.hostElement=t,this._engine=s,this._hostClassName="ng-tns-"+e,ve(t,this._hostClassName)}listen(e,t,s,i){if(!this._triggers.has(t))throw ou(s,t);if(s==null||s.length==0)throw au(t);if(!Jh(s))throw uu(s,t);let a=de(this._elementListeners,e,[]),c={name:t,phase:s,callback:i};a.push(c);let l=de(this._engine.statesByElement,e,new Map);return l.has(t)||(ve(e,ln),ve(e,ln+"-"+t),l.set(t,qs)),()=>{this._engine.afterFlush(()=>{let d=a.indexOf(c);d>=0&&a.splice(d,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw cu(e);return t}trigger(e,t,s,i=!0){let a=this._getTrigger(t),c=new gn(this.id,t,e),l=this._engine.statesByElement.get(e);l||(ve(e,ln),ve(e,ln+"-"+t),this._engine.statesByElement.set(e,l=new Map));let d=l.get(t),y=new pn(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&d&&y.absorbOptions(d.options),l.set(t,y),d||(d=qs),!(y.value===fn)&&d.value===y.value){if(!td(d.params,y.params)){let R=[],D=a.matchStyles(d.value,d.params,R),j=a.matchStyles(y.value,y.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{ot(e,D),be(e,j)})}return}let b=de(this._engine.playersByElement,e,[]);b.forEach(R=>{R.namespaceId==this.id&&R.triggerName==t&&R.queued&&R.destroy()});let C=a.matchTransition(d.value,y.value,e,y.params),A=!1;if(!C){if(!i)return;C=a.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:d,toState:y,player:c,isFallbackTransition:A}),A||(ve(e,vu),c.onStart(()=>{Lt(e,vu)})),c.onDone(()=>{let R=this.players.indexOf(c);R>=0&&this.players.splice(R,1);let D=this._engine.playersByElement.get(e);if(D){let j=D.indexOf(c);j>=0&&D.splice(j,1)}}),this.players.push(c),b.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,s)=>{this._elementListeners.set(s,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(s=>s.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let s=this._engine.driver.query(e,hn,!0);s.forEach(i=>{if(i[Re])return;let a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,s,i){let a=this._engine.statesByElement.get(e),c=new Map;if(a){let l=[];if(a.forEach((d,y)=>{if(c.set(y,d.value),this._triggers.has(y)){let S=this.trigger(e,y,fn,i);S&&l.push(S)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),s&&je(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),s=this._engine.statesByElement.get(e);if(t&&s){let i=new Set;t.forEach(a=>{let c=a.name;if(i.has(c))return;i.add(c);let d=this._triggers.get(c).fallbackTransition,y=s.get(c)||qs,S=new pn(fn),I=new gn(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:d,fromState:y,toState:S,player:I,isFallbackTransition:!0})})}}removeNode(e,t){let s=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(s.totalAnimations){let a=s.players.length?s.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(s.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)s.markElementAsRemoved(this.id,e,!1,t);else{let a=e[Re];(!a||a===Du)&&(s.afterFlush(()=>this.clearElementCache(e)),s.destroyInnerAnimations(e),s._onRemovalComplete(e,t))}}insertNode(e,t){ve(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(s=>{let i=s.player;if(i.destroyed)return;let a=s.element,c=this._elementListeners.get(a);c&&c.forEach(l=>{if(l.name==s.triggerName){let d=cr(a,s.triggerName,s.fromState.value,s.toState.value);d._data=e,ur(s.player,l.phase,d,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(s)}),this._queue=[],t.sort((s,i)=>{let a=s.transition.ast.depCount,c=i.transition.ast.depCount;return a==0||c==0?a-c:this._engine.driver.containsElement(s.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ys=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,s){this.bodyNode=e,this.driver=t,this._normalizer=s}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(s=>{s.queued&&e.push(s)})}),e}createNamespace(e,t){let s=new Xs(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(s,t):(this.newHostElements.set(t,s),this.collectEnterElement(t)),this._namespaceLookup[e]=s}_balanceNamespaceList(e,t){let s=this._namespaceList,i=this.namespacesByHostElement;if(s.length-1>=0){let c=!1,l=this.driver.getParentElement(t);for(;l;){let d=i.get(l);if(d){let y=s.indexOf(d);s.splice(y+1,0,e),c=!0;break}l=this.driver.getParentElement(l)}c||s.unshift(e)}else s.push(e);return i.set(t,e),e}register(e,t){let s=this._namespaceLookup[e];return s||(s=this.createNamespace(e,t)),s}registerTrigger(e,t,s){let i=this._namespaceLookup[e];i&&i.register(t,s)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let s=this._fetchNamespace(e);this.namespacesByHostElement.delete(s.hostElement);let i=this._namespaceList.indexOf(s);i>=0&&this._namespaceList.splice(i,1),s.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,s=this.statesByElement.get(e);if(s){for(let i of s.values())if(i.namespaceId){let a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}}return t}trigger(e,t,s,i){if(yr(t)){let a=this._fetchNamespace(e);if(a)return a.trigger(t,s,i),!0}return!1}insertNode(e,t,s,i){if(!yr(t))return;let a=t[Re];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;let c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){let c=this._fetchNamespace(e);c&&c.insertNode(t,s)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ve(e,Us)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Lt(e,Us))}removeNode(e,t,s){if(yr(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s);let a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,s)}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,s,i,a){this.collectedLeaveElements.push(t),t[Re]={namespaceId:e,setForRemoval:i,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,s,i,a){return yr(t)?this._fetchNamespace(e).listen(t,s,i,a):()=>{}}_buildInstruction(e,t,s,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,s,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,hn,!0);t.forEach(s=>this.destroyActiveAnimationsForElement(s)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,dr,!0),t.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return je(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Re];if(t&&t.setForRemoval){if(e[Re]=Du,t.namespaceId){this.destroyInnerAnimations(e);let s=this._fetchNamespace(t.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Us)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Kh,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,i)=>this._balanceNamespaceList(s,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++){let i=this.collectedEnterElements[s];ve(i,Gh)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let s=[];try{t=this._flushAnimations(s,e)}finally{for(let i=0;i<s.length;i++)s[i]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++){let i=this.collectedLeaveElements[s];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){let s=this._whenQuietFns;this._whenQuietFns=[],t.length?je(t).onDone(()=>{s.forEach(i=>i())}):s.forEach(i=>i())}}reportError(e){throw lu(e)}_flushAnimations(e,t){let s=new mn,i=[],a=new Map,c=[],l=new Map,d=new Map,y=new Map,S=new Set;this.disabledNodes.forEach(N=>{S.add(N);let k=this.driver.query(N,zh,!0);for(let V=0;V<k.length;V++)S.add(k[V])});let I=this.bodyNode,b=Array.from(this.statesByElement.keys()),C=Au(b,this.collectedEnterElements),A=new Map,R=0;C.forEach((N,k)=>{let V=xs+R++;A.set(k,V),N.forEach(M=>ve(M,V))});let D=[],j=new Set,K=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){let k=this.collectedLeaveElements[N],V=k[Re];V&&V.setForRemoval&&(D.push(k),j.add(k),V.hasAnimation?this.driver.query(k,Qh,!0).forEach(M=>j.add(M)):K.add(k))}let U=new Map,O=Au(b,Array.from(j));O.forEach((N,k)=>{let V=hr+R++;U.set(k,V),N.forEach(M=>ve(M,V))}),e.push(()=>{C.forEach((N,k)=>{let V=A.get(k);N.forEach(M=>Lt(M,V))}),O.forEach((N,k)=>{let V=U.get(k);N.forEach(M=>Lt(M,V))}),D.forEach(N=>{this.processLeaveNode(N)})});let ie=[],Q=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(t).forEach(V=>{let M=V.player,ee=V.element;if(ie.push(M),this.collectedEnterElements.length){let J=ee[Re];if(J&&J.setForMove){if(J.previousTriggersValues&&J.previousTriggersValues.has(V.triggerName)){let Me=J.previousTriggersValues.get(V.triggerName),he=this.statesByElement.get(V.element);if(he&&he.has(V.triggerName)){let Fe=he.get(V.triggerName);Fe.value=Me,he.set(V.triggerName,Fe)}}M.destroy();return}}let Ee=!I||!this.driver.containsElement(I,ee),Y=U.get(ee),W=A.get(ee),H=this._buildInstruction(V,s,W,Y,Ee);if(H.errors&&H.errors.length){Q.push(H);return}if(Ee){M.onStart(()=>ot(ee,H.fromStyles)),M.onDestroy(()=>be(ee,H.toStyles)),i.push(M);return}if(V.isFallbackTransition){M.onStart(()=>ot(ee,H.fromStyles)),M.onDestroy(()=>be(ee,H.toStyles)),i.push(M);return}let He=[];H.timelines.forEach(J=>{J.stretchStartingKeyframe=!0,this.disabledNodes.has(J.element)||He.push(J)}),H.timelines=He,s.append(ee,H.timelines);let Gr={instruction:H,player:M,element:ee};c.push(Gr),H.queriedElements.forEach(J=>de(l,J,[]).push(M)),H.preStyleProps.forEach((J,Me)=>{if(J.size){let he=d.get(Me);he||d.set(Me,he=new Set),J.forEach((Fe,Xe)=>he.add(Xe))}}),H.postStyleProps.forEach((J,Me)=>{let he=y.get(Me);he||y.set(Me,he=new Set),J.forEach((Fe,Xe)=>he.add(Xe))})});if(Q.length){let N=[];Q.forEach(k=>{N.push(hu(k.triggerName,k.errors))}),ie.forEach(k=>k.destroy()),this.reportError(N)}let _=new Map,f=new Map;c.forEach(N=>{let k=N.element;s.has(k)&&(f.set(k,k),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,_))}),i.forEach(N=>{let k=N.element;this._getPreviousPlayers(k,!1,N.namespaceId,N.triggerName,null).forEach(M=>{de(_,k,[]).push(M),M.destroy()})});let p=D.filter(N=>bu(N,d,y)),g=new Map;Su(g,this.driver,K,y,Ae).forEach(N=>{bu(N,d,y)&&p.push(N)});let T=new Map;C.forEach((N,k)=>{Su(T,this.driver,new Set(N),d,un)}),p.forEach(N=>{let k=g.get(N),V=T.get(N);g.set(N,new Map([...k?.entries()??[],...V?.entries()??[]]))});let m=[],we=[],We={};c.forEach(N=>{let{element:k,player:V,instruction:M}=N;if(s.has(k)){if(S.has(k)){V.onDestroy(()=>be(k,M.toStyles)),V.disabled=!0,V.overrideTotalTime(M.totalTime),i.push(V);return}let ee=We;if(f.size>1){let Y=k,W=[];for(;Y=Y.parentNode;){let H=f.get(Y);if(H){ee=H;break}W.push(Y)}W.forEach(H=>f.set(H,ee))}let Ee=this._buildAnimation(V.namespaceId,M,_,a,T,g);if(V.setRealPlayer(Ee),ee===We)m.push(V);else{let Y=this.playersByElement.get(ee);Y&&Y.length&&(V.parentPlayer=je(Y)),i.push(V)}}else ot(k,M.fromStyles),V.onDestroy(()=>be(k,M.toStyles)),we.push(V),S.has(k)&&i.push(V)}),we.forEach(N=>{let k=a.get(N.element);if(k&&k.length){let V=je(k);N.setRealPlayer(V)}}),i.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<D.length;N++){let k=D[N],V=k[Re];if(Lt(k,hr),V&&V.hasAnimation)continue;let M=[];if(l.size){let Ee=l.get(k);Ee&&Ee.length&&M.push(...Ee);let Y=this.driver.query(k,dr,!0);for(let W=0;W<Y.length;W++){let H=l.get(Y[W]);H&&H.length&&M.push(...H)}}let ee=M.filter(Ee=>!Ee.destroyed);ee.length?Zh(this,k,ee):this.processLeaveNode(k)}return D.length=0,m.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();let k=this.players.indexOf(N);this.players.splice(k,1)}),N.play()}),m}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,s,i,a){let c=[];if(t){let l=this.playersByQueriedElement.get(e);l&&(c=l)}else{let l=this.playersByElement.get(e);if(l){let d=!a||a==fn;l.forEach(y=>{y.queued||!d&&y.triggerName!=i||c.push(y)})}}return(s||i)&&(c=c.filter(l=>!(s&&s!=l.namespaceId||i&&i!=l.triggerName))),c}_beforeAnimationBuild(e,t,s){let i=t.triggerName,a=t.element,c=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:i;for(let d of t.timelines){let y=d.element,S=y!==a,I=de(s,y,[]);this._getPreviousPlayers(y,S,c,l,t.toState).forEach(C=>{let A=C.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),C.destroy(),I.push(C)})}ot(a,t.fromStyles)}_buildAnimation(e,t,s,i,a,c){let l=t.triggerName,d=t.element,y=[],S=new Set,I=new Set,b=t.timelines.map(A=>{let R=A.element;S.add(R);let D=R[Re];if(D&&D.removedBeforeQueried)return new dt(A.duration,A.delay);let j=R!==d,K=ed((s.get(R)||Wh).map(_=>_.getRealPlayer())).filter(_=>{let f=_;return f.element?f.element===R:!1}),U=a.get(R),O=c.get(R),ie=Cs(this._normalizer,A.keyframes,U,O),Q=this._buildPlayer(A,ie,K);if(A.subTimeline&&i&&I.add(R),j){let _=new gn(e,l,R);_.setRealPlayer(Q),y.push(_)}return Q});y.forEach(A=>{de(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>Xh(this.playersByQueriedElement,A.element,A))}),S.forEach(A=>ve(A,Os));let C=je(b);return C.onDestroy(()=>{S.forEach(A=>Lt(A,Os)),be(d,t.toStyles)}),I.forEach(A=>{de(i,A,[]).push(C)}),C}_buildPlayer(e,t,s){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,s):new dt(e.duration,e.delay)}},gn=class{namespaceId;triggerName;element;_player=new dt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,s){this.namespaceId=e,this.triggerName=t,this.element=s}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,s)=>{t.forEach(i=>ur(e,s,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){de(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Xh(r,e,t){let s=r.get(e);if(s){if(s.length){let i=s.indexOf(t);s.splice(i,1)}s.length==0&&r.delete(e)}return s}function Yh(r){return r??null}function yr(r){return r&&r.nodeType===1}function Jh(r){return r=="start"||r=="done"}function Iu(r,e){let t=r.style.display;return r.style.display=e??"none",t}function Su(r,e,t,s,i){let a=[];t.forEach(d=>a.push(Iu(d)));let c=[];s.forEach((d,y)=>{let S=new Map;d.forEach(I=>{let b=e.computeStyle(y,I,i);S.set(I,b),(!b||b.length==0)&&(y[Re]=Hh,c.push(y))}),r.set(y,S)});let l=0;return t.forEach(d=>Iu(d,a[l++])),c}function Au(r,e){let t=new Map;if(r.forEach(l=>t.set(l,[])),e.length==0)return t;let s=1,i=new Set(e),a=new Map;function c(l){if(!l)return s;let d=a.get(l);if(d)return d;let y=l.parentNode;return t.has(y)?d=y:i.has(y)?d=s:d=c(y),a.set(l,d),d}return e.forEach(l=>{let d=c(l);d!==s&&t.get(d).push(l)}),t}function ve(r,e){r.classList?.add(e)}function Lt(r,e){r.classList?.remove(e)}function Zh(r,e,t){je(t).onDone(()=>r.processLeaveNode(e))}function ed(r){let e=[];return ku(r,e),e}function ku(r,e){for(let t=0;t<r.length;t++){let s=r[t];s instanceof Qn?ku(s.players,e):e.push(s)}}function td(r,e){let t=Object.keys(r),s=Object.keys(e);if(t.length!=s.length)return!1;for(let i=0;i<t.length;i++){let a=t[i];if(!e.hasOwnProperty(a)||r[a]!==e[a])return!1}return!0}function bu(r,e,t){let s=t.get(r);if(!s)return!1;let i=e.get(r);return i?s.forEach(a=>i.add(a)):e.set(r,s),t.delete(r),!0}var Ut=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,s){this._driver=t,this._normalizer=s,this._transitionEngine=new Ys(e.body,t,s),this._timelineEngine=new Hs(e.body,t,s),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,s,i,a){let c=e+"-"+i,l=this._triggerCache[c];if(!l){let d=[],y=[],S=Pu(this._driver,a,d,y);if(d.length)throw tu(i,d);l=Bh(i,S,this._normalizer),this._triggerCache[c]=l}this._transitionEngine.registerTrigger(t,i,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,s,i){this._transitionEngine.insertNode(e,t,s,i)}onRemove(e,t,s){this._transitionEngine.removeNode(e,t,s)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,s,i){if(s.charAt(0)=="@"){let[a,c]=Ns(s),l=i;this._timelineEngine.command(a,t,c,l)}else this._transitionEngine.trigger(e,t,s,i)}listen(e,t,s,i,a){if(s.charAt(0)=="@"){let[c,l]=Ns(s);return this._timelineEngine.listen(c,t,l,a)}return this._transitionEngine.listen(e,t,s,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function nd(r,e){let t=null,s=null;return Array.isArray(e)&&e.length?(t=Bs(e[0]),e.length>1&&(s=Bs(e[e.length-1]))):e instanceof Map&&(t=Bs(e)),t||s?new rd(r,t,s):null}var rd=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,s,i){this._element=t,this._startStyles=s,this._endStyles=i;let a=r.initialStylesByElement.get(t);a||r.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(be(this._element,this._initialStyles),this._endStyles&&(be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(ot(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ot(this._element,this._endStyles),this._endStyles=null),be(this._element,this._initialStyles),this._state=3)}}return r})();function Bs(r){let e=null;return r.forEach((t,s)=>{sd(s)&&(e=e||new Map,e.set(s,t))}),e}function sd(r){return r==="display"||r==="position"}var Sr=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,s,i){this.element=e,this.keyframes=t,this.options=s,this._specialStyles=i,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let s=()=>this._onFinish();return t.addEventListener("finish",s),this.onDestroy(()=>{t.removeEventListener("finish",s)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(s=>{t.push(Object.fromEntries(s))}),t}_triggerWebAnimation(e,t,s){let i=this._convertKeyframesToObject(t);try{return e.animate(i,s)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,i)=>{i!=="offset"&&e.set(i,this._finished?s:mr(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}},Ar=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Ds(e,t)}getParentElement(e){return lr(e)}query(e,t,s){return ks(e,t,s)}computeStyle(e,t,s){return mr(e,t)}animate(e,t,s,i,a,c=[]){let l=i==0?"both":"forwards",d={duration:s,delay:i,fill:l};a&&(d.easing=a);let y=new Map,S=c.filter(C=>C instanceof Sr);pu(s,i)&&S.forEach(C=>{C.currentSnapshot.forEach((A,R)=>y.set(R,A))});let I=fu(t).map(C=>new Map(C));I=gu(e,I,y);let b=nd(e,I);return new Sr(e,I,d,b)}};var _r="@",Vu="@.disabled",br=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,s,i){this.namespaceId=e,this.delegate=t,this.engine=s,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,s,i=!0){this.delegate.insertBefore(e,t,s),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,s,i){if(i){this.delegate.removeChild(e,t,s,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,s,i){this.delegate.setAttribute(e,t,s,i)}removeAttribute(e,t,s){this.delegate.removeAttribute(e,t,s)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,s,i){this.delegate.setStyle(e,t,s,i)}removeStyle(e,t,s){this.delegate.removeStyle(e,t,s)}setProperty(e,t,s){t.charAt(0)==_r&&t==Vu?this.disableAnimations(e,!!s):this.delegate.setProperty(e,t,s)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,s,i){return this.delegate.listen(e,t,s,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Js=class extends br{factory;constructor(e,t,s,i,a){super(t,s,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,s){t.charAt(0)==_r?t.charAt(1)=="."&&t==Vu?(s=s===void 0?!0:!!s,this.disableAnimations(e,s)):this.engine.process(this.namespaceId,e,t.slice(1),s):this.delegate.setProperty(e,t,s)}listen(e,t,s,i){if(t.charAt(0)==_r){let a=id(e),c=t.slice(1),l="";return c.charAt(0)!=_r&&([c,l]=od(c)),this.engine.listen(this.namespaceId,a,c,l,d=>{let y=d._data||-1;this.factory.scheduleListenerCallback(y,s,d)})}return this.delegate.listen(e,t,s,i)}};function id(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function od(r){let e=r.indexOf("."),t=r.substring(0,e),s=r.slice(e+1);return[t,s]}var Rr=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,s){this.delegate=e,this.engine=t,this._zone=s,t.onRemovalComplete=(i,a)=>{a?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let y=this._rendererCache,S=y.get(i);if(!S){let I=()=>y.delete(i);S=new br("",i,this.engine,I),y.set(i,S)}return S}let a=t.id,c=t.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);let l=y=>{Array.isArray(y)?y.forEach(l):this.engine.registerTrigger(a,c,e,y.name,y)};return t.data.animation.forEach(l),new Js(this,c,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,s){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(s));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(a=>{let[c,l]=a;c(l)}),this._animationCallbacksBuffer=[]})}),i.push([t,s])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var ld=(()=>{class r extends Ut{constructor(t,s,i){super(t,s,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(s){return new(s||r)(et(ta),et(gt),et(yt))};static \u0275prov=Be({token:r,factory:r.\u0275fac})}return r})();function hd(){return new wr}function dd(r,e,t){return new Rr(r,e,t)}var xu=[{provide:yt,useFactory:hd},{provide:Ut,useClass:ld},{provide:ra,useFactory:dd,deps:[oa,Ut,st]}],wp=[{provide:gt,useClass:Zs},{provide:ws,useValue:"NoopAnimations"},...xu],fd=[{provide:gt,useFactory:()=>new Ar},{provide:ws,useFactory:()=>"BrowserAnimations"},...xu];function Ou(){return na("NgEagerAnimations"),[...fd]}var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fu={};var Pr,Lu;(function(){var r;function e(_,f){function p(){}p.prototype=f.prototype,_.D=f.prototype,_.prototype=new p,_.prototype.constructor=_,_.C=function(g,w,T){for(var m=Array(arguments.length-2),we=2;we<arguments.length;we++)m[we-2]=arguments[we];return f.prototype[w].apply(g,m)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,f,p){p||(p=0);var g=Array(16);if(typeof f=="string")for(var w=0;16>w;++w)g[w]=f.charCodeAt(p++)|f.charCodeAt(p++)<<8|f.charCodeAt(p++)<<16|f.charCodeAt(p++)<<24;else for(w=0;16>w;++w)g[w]=f[p++]|f[p++]<<8|f[p++]<<16|f[p++]<<24;f=_.g[0],p=_.g[1],w=_.g[2];var T=_.g[3],m=f+(T^p&(w^T))+g[0]+3614090360&4294967295;f=p+(m<<7&4294967295|m>>>25),m=T+(w^f&(p^w))+g[1]+3905402710&4294967295,T=f+(m<<12&4294967295|m>>>20),m=w+(p^T&(f^p))+g[2]+606105819&4294967295,w=T+(m<<17&4294967295|m>>>15),m=p+(f^w&(T^f))+g[3]+3250441966&4294967295,p=w+(m<<22&4294967295|m>>>10),m=f+(T^p&(w^T))+g[4]+4118548399&4294967295,f=p+(m<<7&4294967295|m>>>25),m=T+(w^f&(p^w))+g[5]+1200080426&4294967295,T=f+(m<<12&4294967295|m>>>20),m=w+(p^T&(f^p))+g[6]+2821735955&4294967295,w=T+(m<<17&4294967295|m>>>15),m=p+(f^w&(T^f))+g[7]+4249261313&4294967295,p=w+(m<<22&4294967295|m>>>10),m=f+(T^p&(w^T))+g[8]+1770035416&4294967295,f=p+(m<<7&4294967295|m>>>25),m=T+(w^f&(p^w))+g[9]+2336552879&4294967295,T=f+(m<<12&4294967295|m>>>20),m=w+(p^T&(f^p))+g[10]+4294925233&4294967295,w=T+(m<<17&4294967295|m>>>15),m=p+(f^w&(T^f))+g[11]+2304563134&4294967295,p=w+(m<<22&4294967295|m>>>10),m=f+(T^p&(w^T))+g[12]+1804603682&4294967295,f=p+(m<<7&4294967295|m>>>25),m=T+(w^f&(p^w))+g[13]+4254626195&4294967295,T=f+(m<<12&4294967295|m>>>20),m=w+(p^T&(f^p))+g[14]+2792965006&4294967295,w=T+(m<<17&4294967295|m>>>15),m=p+(f^w&(T^f))+g[15]+1236535329&4294967295,p=w+(m<<22&4294967295|m>>>10),m=f+(w^T&(p^w))+g[1]+4129170786&4294967295,f=p+(m<<5&4294967295|m>>>27),m=T+(p^w&(f^p))+g[6]+3225465664&4294967295,T=f+(m<<9&4294967295|m>>>23),m=w+(f^p&(T^f))+g[11]+643717713&4294967295,w=T+(m<<14&4294967295|m>>>18),m=p+(T^f&(w^T))+g[0]+3921069994&4294967295,p=w+(m<<20&4294967295|m>>>12),m=f+(w^T&(p^w))+g[5]+3593408605&4294967295,f=p+(m<<5&4294967295|m>>>27),m=T+(p^w&(f^p))+g[10]+38016083&4294967295,T=f+(m<<9&4294967295|m>>>23),m=w+(f^p&(T^f))+g[15]+3634488961&4294967295,w=T+(m<<14&4294967295|m>>>18),m=p+(T^f&(w^T))+g[4]+3889429448&4294967295,p=w+(m<<20&4294967295|m>>>12),m=f+(w^T&(p^w))+g[9]+568446438&4294967295,f=p+(m<<5&4294967295|m>>>27),m=T+(p^w&(f^p))+g[14]+3275163606&4294967295,T=f+(m<<9&4294967295|m>>>23),m=w+(f^p&(T^f))+g[3]+4107603335&4294967295,w=T+(m<<14&4294967295|m>>>18),m=p+(T^f&(w^T))+g[8]+1163531501&4294967295,p=w+(m<<20&4294967295|m>>>12),m=f+(w^T&(p^w))+g[13]+2850285829&4294967295,f=p+(m<<5&4294967295|m>>>27),m=T+(p^w&(f^p))+g[2]+4243563512&4294967295,T=f+(m<<9&4294967295|m>>>23),m=w+(f^p&(T^f))+g[7]+1735328473&4294967295,w=T+(m<<14&4294967295|m>>>18),m=p+(T^f&(w^T))+g[12]+2368359562&4294967295,p=w+(m<<20&4294967295|m>>>12),m=f+(p^w^T)+g[5]+4294588738&4294967295,f=p+(m<<4&4294967295|m>>>28),m=T+(f^p^w)+g[8]+2272392833&4294967295,T=f+(m<<11&4294967295|m>>>21),m=w+(T^f^p)+g[11]+1839030562&4294967295,w=T+(m<<16&4294967295|m>>>16),m=p+(w^T^f)+g[14]+4259657740&4294967295,p=w+(m<<23&4294967295|m>>>9),m=f+(p^w^T)+g[1]+2763975236&4294967295,f=p+(m<<4&4294967295|m>>>28),m=T+(f^p^w)+g[4]+1272893353&4294967295,T=f+(m<<11&4294967295|m>>>21),m=w+(T^f^p)+g[7]+4139469664&4294967295,w=T+(m<<16&4294967295|m>>>16),m=p+(w^T^f)+g[10]+3200236656&4294967295,p=w+(m<<23&4294967295|m>>>9),m=f+(p^w^T)+g[13]+681279174&4294967295,f=p+(m<<4&4294967295|m>>>28),m=T+(f^p^w)+g[0]+3936430074&4294967295,T=f+(m<<11&4294967295|m>>>21),m=w+(T^f^p)+g[3]+3572445317&4294967295,w=T+(m<<16&4294967295|m>>>16),m=p+(w^T^f)+g[6]+76029189&4294967295,p=w+(m<<23&4294967295|m>>>9),m=f+(p^w^T)+g[9]+3654602809&4294967295,f=p+(m<<4&4294967295|m>>>28),m=T+(f^p^w)+g[12]+3873151461&4294967295,T=f+(m<<11&4294967295|m>>>21),m=w+(T^f^p)+g[15]+530742520&4294967295,w=T+(m<<16&4294967295|m>>>16),m=p+(w^T^f)+g[2]+3299628645&4294967295,p=w+(m<<23&4294967295|m>>>9),m=f+(w^(p|~T))+g[0]+4096336452&4294967295,f=p+(m<<6&4294967295|m>>>26),m=T+(p^(f|~w))+g[7]+1126891415&4294967295,T=f+(m<<10&4294967295|m>>>22),m=w+(f^(T|~p))+g[14]+2878612391&4294967295,w=T+(m<<15&4294967295|m>>>17),m=p+(T^(w|~f))+g[5]+4237533241&4294967295,p=w+(m<<21&4294967295|m>>>11),m=f+(w^(p|~T))+g[12]+1700485571&4294967295,f=p+(m<<6&4294967295|m>>>26),m=T+(p^(f|~w))+g[3]+2399980690&4294967295,T=f+(m<<10&4294967295|m>>>22),m=w+(f^(T|~p))+g[10]+4293915773&4294967295,w=T+(m<<15&4294967295|m>>>17),m=p+(T^(w|~f))+g[1]+2240044497&4294967295,p=w+(m<<21&4294967295|m>>>11),m=f+(w^(p|~T))+g[8]+1873313359&4294967295,f=p+(m<<6&4294967295|m>>>26),m=T+(p^(f|~w))+g[15]+4264355552&4294967295,T=f+(m<<10&4294967295|m>>>22),m=w+(f^(T|~p))+g[6]+2734768916&4294967295,w=T+(m<<15&4294967295|m>>>17),m=p+(T^(w|~f))+g[13]+1309151649&4294967295,p=w+(m<<21&4294967295|m>>>11),m=f+(w^(p|~T))+g[4]+4149444226&4294967295,f=p+(m<<6&4294967295|m>>>26),m=T+(p^(f|~w))+g[11]+3174756917&4294967295,T=f+(m<<10&4294967295|m>>>22),m=w+(f^(T|~p))+g[2]+718787259&4294967295,w=T+(m<<15&4294967295|m>>>17),m=p+(T^(w|~f))+g[9]+3951481745&4294967295,_.g[0]=_.g[0]+f&4294967295,_.g[1]=_.g[1]+(w+(m<<21&4294967295|m>>>11))&4294967295,_.g[2]=_.g[2]+w&4294967295,_.g[3]=_.g[3]+T&4294967295}s.prototype.u=function(_,f){f===void 0&&(f=_.length);for(var p=f-this.blockSize,g=this.B,w=this.h,T=0;T<f;){if(w==0)for(;T<=p;)i(this,_,T),T+=this.blockSize;if(typeof _=="string"){for(;T<f;)if(g[w++]=_.charCodeAt(T++),w==this.blockSize){i(this,g),w=0;break}}else for(;T<f;)if(g[w++]=_[T++],w==this.blockSize){i(this,g),w=0;break}}this.h=w,this.o+=f},s.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var f=1;f<_.length-8;++f)_[f]=0;var p=8*this.o;for(f=_.length-8;f<_.length;++f)_[f]=p&255,p/=256;for(this.u(_),_=Array(16),f=p=0;4>f;++f)for(var g=0;32>g;g+=8)_[p++]=this.g[f]>>>g&255;return _};function a(_,f){var p=l;return Object.prototype.hasOwnProperty.call(p,_)?p[_]:p[_]=f(_)}function c(_,f){this.h=f;for(var p=[],g=!0,w=_.length-1;0<=w;w--){var T=_[w]|0;g&&T==f||(p[w]=T,g=!1)}this.g=p}var l={};function d(_){return-128<=_&&128>_?a(_,function(f){return new c([f|0],0>f?-1:0)}):new c([_|0],0>_?-1:0)}function y(_){if(isNaN(_)||!isFinite(_))return I;if(0>_)return D(y(-_));for(var f=[],p=1,g=0;_>=p;g++)f[g]=_/p|0,p*=4294967296;return new c(f,0)}function S(_,f){if(_.length==0)throw Error("number format error: empty string");if(f=f||10,2>f||36<f)throw Error("radix out of range: "+f);if(_.charAt(0)=="-")return D(S(_.substring(1),f));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var p=y(Math.pow(f,8)),g=I,w=0;w<_.length;w+=8){var T=Math.min(8,_.length-w),m=parseInt(_.substring(w,w+T),f);8>T?(T=y(Math.pow(f,T)),g=g.j(T).add(y(m))):(g=g.j(p),g=g.add(y(m)))}return g}var I=d(0),b=d(1),C=d(16777216);r=c.prototype,r.m=function(){if(R(this))return-D(this).m();for(var _=0,f=1,p=0;p<this.g.length;p++){var g=this.i(p);_+=(0<=g?g:4294967296+g)*f,f*=4294967296}return _},r.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(A(this))return"0";if(R(this))return"-"+D(this).toString(_);for(var f=y(Math.pow(_,6)),p=this,g="";;){var w=O(p,f).g;p=j(p,w.j(f));var T=((0<p.g.length?p.g[0]:p.h)>>>0).toString(_);if(p=w,A(p))return T+g;for(;6>T.length;)T="0"+T;g=T+g}},r.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function A(_){if(_.h!=0)return!1;for(var f=0;f<_.g.length;f++)if(_.g[f]!=0)return!1;return!0}function R(_){return _.h==-1}r.l=function(_){return _=j(this,_),R(_)?-1:A(_)?0:1};function D(_){for(var f=_.g.length,p=[],g=0;g<f;g++)p[g]=~_.g[g];return new c(p,~_.h).add(b)}r.abs=function(){return R(this)?D(this):this},r.add=function(_){for(var f=Math.max(this.g.length,_.g.length),p=[],g=0,w=0;w<=f;w++){var T=g+(this.i(w)&65535)+(_.i(w)&65535),m=(T>>>16)+(this.i(w)>>>16)+(_.i(w)>>>16);g=m>>>16,T&=65535,m&=65535,p[w]=m<<16|T}return new c(p,p[p.length-1]&-2147483648?-1:0)};function j(_,f){return _.add(D(f))}r.j=function(_){if(A(this)||A(_))return I;if(R(this))return R(_)?D(this).j(D(_)):D(D(this).j(_));if(R(_))return D(this.j(D(_)));if(0>this.l(C)&&0>_.l(C))return y(this.m()*_.m());for(var f=this.g.length+_.g.length,p=[],g=0;g<2*f;g++)p[g]=0;for(g=0;g<this.g.length;g++)for(var w=0;w<_.g.length;w++){var T=this.i(g)>>>16,m=this.i(g)&65535,we=_.i(w)>>>16,We=_.i(w)&65535;p[2*g+2*w]+=m*We,K(p,2*g+2*w),p[2*g+2*w+1]+=T*We,K(p,2*g+2*w+1),p[2*g+2*w+1]+=m*we,K(p,2*g+2*w+1),p[2*g+2*w+2]+=T*we,K(p,2*g+2*w+2)}for(g=0;g<f;g++)p[g]=p[2*g+1]<<16|p[2*g];for(g=f;g<2*f;g++)p[g]=0;return new c(p,0)};function K(_,f){for(;(_[f]&65535)!=_[f];)_[f+1]+=_[f]>>>16,_[f]&=65535,f++}function U(_,f){this.g=_,this.h=f}function O(_,f){if(A(f))throw Error("division by zero");if(A(_))return new U(I,I);if(R(_))return f=O(D(_),f),new U(D(f.g),D(f.h));if(R(f))return f=O(_,D(f)),new U(D(f.g),f.h);if(30<_.g.length){if(R(_)||R(f))throw Error("slowDivide_ only works with positive integers.");for(var p=b,g=f;0>=g.l(_);)p=ie(p),g=ie(g);var w=Q(p,1),T=Q(g,1);for(g=Q(g,2),p=Q(p,2);!A(g);){var m=T.add(g);0>=m.l(_)&&(w=w.add(p),T=m),g=Q(g,1),p=Q(p,1)}return f=j(_,w.j(f)),new U(w,f)}for(w=I;0<=_.l(f);){for(p=Math.max(1,Math.floor(_.m()/f.m())),g=Math.ceil(Math.log(p)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),T=y(p),m=T.j(f);R(m)||0<m.l(_);)p-=g,T=y(p),m=T.j(f);A(T)&&(T=b),w=w.add(T),_=j(_,m)}return new U(w,_)}r.A=function(_){return O(this,_).h},r.and=function(_){for(var f=Math.max(this.g.length,_.g.length),p=[],g=0;g<f;g++)p[g]=this.i(g)&_.i(g);return new c(p,this.h&_.h)},r.or=function(_){for(var f=Math.max(this.g.length,_.g.length),p=[],g=0;g<f;g++)p[g]=this.i(g)|_.i(g);return new c(p,this.h|_.h)},r.xor=function(_){for(var f=Math.max(this.g.length,_.g.length),p=[],g=0;g<f;g++)p[g]=this.i(g)^_.i(g);return new c(p,this.h^_.h)};function ie(_){for(var f=_.g.length+1,p=[],g=0;g<f;g++)p[g]=_.i(g)<<1|_.i(g-1)>>>31;return new c(p,_.h)}function Q(_,f){var p=f>>5;f%=32;for(var g=_.g.length-p,w=[],T=0;T<g;T++)w[T]=0<f?_.i(T+p)>>>f|_.i(T+p+1)<<32-f:_.i(T+p);return new c(w,_.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Lu=Fu.Md5=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=S,Pr=Fu.Integer=c}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={};var Uu,md,qu,Bu,ju,$u,zu,Ku,Gu;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(n,o,u){return n==Array.prototype||n==Object.prototype||(n[o]=u.value),n};function t(n){n=[typeof globalThis=="object"&&globalThis,n,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cr=="object"&&Cr];for(var o=0;o<n.length;++o){var u=n[o];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var s=t(this);function i(n,o){if(o)e:{var u=s;n=n.split(".");for(var h=0;h<n.length-1;h++){var E=n[h];if(!(E in u))break e;u=u[E]}n=n[n.length-1],h=u[n],o=o(h),o!=h&&o!=null&&e(u,n,{configurable:!0,writable:!0,value:o})}}function a(n,o){n instanceof String&&(n+="");var u=0,h=!1,E={next:function(){if(!h&&u<n.length){var v=u++;return{value:o(v,n[v]),done:!1}}return h=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}i("Array.prototype.values",function(n){return n||function(){return a(this,function(o,u){return u})}});var c=c||{},l=this||self;function d(n){var o=typeof n;return o=o!="object"?o:n?Array.isArray(n)?"array":o:"null",o=="array"||o=="object"&&typeof n.length=="number"}function y(n){var o=typeof n;return o=="object"&&n!=null||o=="function"}function S(n,o,u){return n.call.apply(n.bind,arguments)}function I(n,o,u){if(!n)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,h),n.apply(o,E)}}return function(){return n.apply(o,arguments)}}function b(n,o,u){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:I,b.apply(null,arguments)}function C(n,o){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),n.apply(this,h)}}function A(n,o){function u(){}u.prototype=o.prototype,n.aa=o.prototype,n.prototype=new u,n.prototype.constructor=n,n.Qb=function(h,E,v){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return o.prototype[E].apply(h,P)}}function R(n){let o=n.length;if(0<o){let u=Array(o);for(let h=0;h<o;h++)u[h]=n[h];return u}return[]}function D(n,o){for(let u=1;u<arguments.length;u++){let h=arguments[u];if(d(h)){let E=n.length||0,v=h.length||0;n.length=E+v;for(let P=0;P<v;P++)n[E+P]=h[P]}else n.push(h)}}class j{constructor(o,u){this.i=o,this.j=u,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}function K(n){return/^[\s\xa0]*$/.test(n)}function U(){var n=l.navigator;return n&&(n=n.userAgent)?n:""}function O(n){return O[" "](n),n}O[" "]=function(){};var ie=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Q(n,o,u){for(let h in n)o.call(u,n[h],h,n)}function _(n,o){for(let u in n)o.call(void 0,n[u],u,n)}function f(n){let o={};for(let u in n)o[u]=n[u];return o}let p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(n,o){let u,h;for(let E=1;E<arguments.length;E++){h=arguments[E];for(u in h)n[u]=h[u];for(let v=0;v<p.length;v++)u=p[v],Object.prototype.hasOwnProperty.call(h,u)&&(n[u]=h[u])}}function w(n){var o=1;n=n.split(":");let u=[];for(;0<o&&n.length;)u.push(n.shift()),o--;return n.length&&u.push(n.join(":")),u}function T(n){l.setTimeout(()=>{throw n},0)}function m(){var n=M;let o=null;return n.g&&(o=n.g,n.g=n.g.next,n.g||(n.h=null),o.next=null),o}class we{constructor(){this.h=this.g=null}add(o,u){let h=We.get();h.set(o,u),this.h?this.h.next=h:this.g=h,this.h=h}}var We=new j(()=>new N,n=>n.reset());class N{constructor(){this.next=this.g=this.h=null}set(o,u){this.h=o,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let k,V=!1,M=new we,ee=()=>{let n=l.Promise.resolve(void 0);k=()=>{n.then(Ee)}};var Ee=()=>{for(var n;n=m();){try{n.h.call(n.g)}catch(u){T(u)}var o=We;o.j(n),100>o.h&&(o.h++,n.next=o.g,o.g=n)}V=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(n,o){this.type=n,this.g=this.target=o,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var n=!1,o=Object.defineProperty({},"passive",{get:function(){n=!0}});try{let u=()=>{};l.addEventListener("test",u,o),l.removeEventListener("test",u,o)}catch{}return n})();function He(n,o){if(W.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var u=this.type=n.type,h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=o,o=n.relatedTarget){if(ie){e:{try{O(o.nodeName);var E=!0;break e}catch{}E=!1}E||(o=null)}}else u=="mouseover"?o=n.fromElement:u=="mouseout"&&(o=n.toElement);this.relatedTarget=o,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:Gr[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&He.aa.h.call(this)}}A(He,W);var Gr={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),Me=0;function he(n,o,u,h,E){this.listener=n,this.proxy=null,this.src=o,this.type=u,this.capture=!!h,this.ha=E,this.key=++Me,this.da=this.fa=!1}function Fe(n){n.da=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Xe(n){this.src=n,this.g={},this.h=0}Xe.prototype.add=function(n,o,u,h,E){var v=n.toString();n=this.g[v],n||(n=this.g[v]=[],this.h++);var P=Wr(n,o,h,E);return-1<P?(o=n[P],u||(o.fa=!1)):(o=new he(o,this.src,v,!!h,E),o.fa=u,n.push(o)),o};function Qr(n,o){var u=o.type;if(u in n.g){var h=n.g[u],E=Array.prototype.indexOf.call(h,o,void 0),v;(v=0<=E)&&Array.prototype.splice.call(h,E,1),v&&(Fe(o),n.g[u].length==0&&(delete n.g[u],n.h--))}}function Wr(n,o,u,h){for(var E=0;E<n.length;++E){var v=n[E];if(!v.da&&v.listener==o&&v.capture==!!u&&v.ha==h)return E}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),Xr={};function Yi(n,o,u,h,E){if(h&&h.once)return Zi(n,o,u,h,E);if(Array.isArray(o)){for(var v=0;v<o.length;v++)Yi(n,o[v],u,h,E);return null}return u=es(u),n&&n[J]?n.K(o,u,y(h)?!!h.capture:!!h,E):Ji(n,o,u,!1,h,E)}function Ji(n,o,u,h,E,v){if(!o)throw Error("Invalid event type");var P=y(E)?!!E.capture:!!E,G=Jr(n);if(G||(n[Hr]=G=new Xe(n)),u=G.add(o,u,h,P,v),u.proxy)return u;if(h=Fl(),u.proxy=h,h.src=n,h.listener=u,n.addEventListener)H||(E=P),E===void 0&&(E=!1),n.addEventListener(o.toString(),h,E);else if(n.attachEvent)n.attachEvent(to(o.toString()),h);else if(n.addListener&&n.removeListener)n.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return u}function Fl(){function n(u){return o.call(n.src,n.listener,u)}let o=Ll;return n}function Zi(n,o,u,h,E){if(Array.isArray(o)){for(var v=0;v<o.length;v++)Zi(n,o[v],u,h,E);return null}return u=es(u),n&&n[J]?n.L(o,u,y(h)?!!h.capture:!!h,E):Ji(n,o,u,!0,h,E)}function eo(n,o,u,h,E){if(Array.isArray(o))for(var v=0;v<o.length;v++)eo(n,o[v],u,h,E);else h=y(h)?!!h.capture:!!h,u=es(u),n&&n[J]?(n=n.i,o=String(o).toString(),o in n.g&&(v=n.g[o],u=Wr(v,u,h,E),-1<u&&(Fe(v[u]),Array.prototype.splice.call(v,u,1),v.length==0&&(delete n.g[o],n.h--)))):n&&(n=Jr(n))&&(o=n.g[o.toString()],n=-1,o&&(n=Wr(o,u,h,E)),(u=-1<n?o[n]:null)&&Yr(u))}function Yr(n){if(typeof n!="number"&&n&&!n.da){var o=n.src;if(o&&o[J])Qr(o.i,n);else{var u=n.type,h=n.proxy;o.removeEventListener?o.removeEventListener(u,h,n.capture):o.detachEvent?o.detachEvent(to(u),h):o.addListener&&o.removeListener&&o.removeListener(h),(u=Jr(o))?(Qr(u,n),u.h==0&&(u.src=null,o[Hr]=null)):Fe(n)}}}function to(n){return n in Xr?Xr[n]:Xr[n]="on"+n}function Ll(n,o){if(n.da)n=!0;else{o=new He(o,this);var u=n.listener,h=n.ha||n.src;n.fa&&Yr(n),n=u.call(h,o)}return n}function Jr(n){return n=n[Hr],n instanceof Xe?n:null}var Zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(n){return typeof n=="function"?n:(n[Zr]||(n[Zr]=function(o){return n.handleEvent(o)}),n[Zr])}function oe(){Y.call(this),this.i=new Xe(this),this.M=this,this.F=null}A(oe,Y),oe.prototype[J]=!0,oe.prototype.removeEventListener=function(n,o,u,h){eo(this,n,o,u,h)};function ce(n,o){var u,h=n.F;if(h)for(u=[];h;h=h.F)u.push(h);if(n=n.M,h=o.type||o,typeof o=="string")o=new W(o,n);else if(o instanceof W)o.target=o.target||n;else{var E=o;o=new W(h,n),g(o,E)}if(E=!0,u)for(var v=u.length-1;0<=v;v--){var P=o.g=u[v];E=Dn(P,h,!0,o)&&E}if(P=o.g=n,E=Dn(P,h,!0,o)&&E,E=Dn(P,h,!1,o)&&E,u)for(v=0;v<u.length;v++)P=o.g=u[v],E=Dn(P,h,!1,o)&&E}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var n=this.i,o;for(o in n.g){for(var u=n.g[o],h=0;h<u.length;h++)Fe(u[h]);delete n.g[o],n.h--}}this.F=null},oe.prototype.K=function(n,o,u,h){return this.i.add(String(n),o,!1,u,h)},oe.prototype.L=function(n,o,u,h){return this.i.add(String(n),o,!0,u,h)};function Dn(n,o,u,h){if(o=n.i.g[String(o)],!o)return!0;o=o.concat();for(var E=!0,v=0;v<o.length;++v){var P=o[v];if(P&&!P.da&&P.capture==u){var G=P.listener,re=P.ha||P.src;P.fa&&Qr(n.i,P),E=G.call(re,h)!==!1&&E}}return E&&!h.defaultPrevented}function no(n,o,u){if(typeof n=="function")u&&(n=b(n,u));else if(n&&typeof n.handleEvent=="function")n=b(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(o)?-1:l.setTimeout(n,o||0)}function ro(n){n.g=no(()=>{n.g=null,n.i&&(n.i=!1,ro(n))},n.l);let o=n.h;n.h=null,n.m.apply(null,o)}class Ul extends Y{constructor(o,u){super(),this.m=o,this.l=u,this.h=null,this.i=!1,this.g=null}j(o){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(n){Y.call(this),this.h=n,this.g={}}A(Qt,Y);var so=[];function io(n){Q(n.g,function(o,u){this.g.hasOwnProperty(u)&&Yr(o)},n),n.g={}}Qt.prototype.N=function(){Qt.aa.N.call(this),io(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ts=l.JSON.stringify,ql=l.JSON.parse,Bl=class{stringify(n){return l.JSON.stringify(n,void 0)}parse(n){return l.JSON.parse(n,void 0)}};function ns(){}ns.prototype.h=null;function oo(n){return n.h||(n.h=n.i())}function ao(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){W.call(this,"d")}A(rs,W);function ss(){W.call(this,"c")}A(ss,W);var ut={},uo=null;function kn(){return uo=uo||new oe}ut.La="serverreachability";function co(n){W.call(this,ut.La,n)}A(co,W);function Ht(n){let o=kn();ce(o,new co(o))}ut.STAT_EVENT="statevent";function lo(n,o){W.call(this,ut.STAT_EVENT,n),this.stat=o}A(lo,W);function le(n){let o=kn();ce(o,new lo(o,n))}ut.Ma="timingevent";function ho(n,o){W.call(this,ut.Ma,n),this.size=o}A(ho,W);function Xt(n,o){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){n()},o)}function Yt(){this.g=!0}Yt.prototype.xa=function(){this.g=!1};function jl(n,o,u,h,E,v){n.info(function(){if(n.g)if(v)for(var P="",G=v.split("&"),re=0;re<G.length;re++){var z=G[re].split("=");if(1<z.length){var ae=z[0];z=z[1];var ue=ae.split("_");P=2<=ue.length&&ue[1]=="type"?P+(ae+"="+z+"&"):P+(ae+"=redacted&")}}else P=null;else P=v;return"XMLHTTP REQ ("+h+") [attempt "+E+"]: "+o+`
`+u+`
`+P})}function $l(n,o,u,h,E,v,P){n.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+E+"]: "+o+`
`+u+`
`+v+" "+P})}function St(n,o,u,h){n.info(function(){return"XMLHTTP TEXT ("+o+"): "+Kl(n,u)+(h?" "+h:"")})}function zl(n,o){n.info(function(){return"TIMEOUT: "+o})}Yt.prototype.info=function(){};function Kl(n,o){if(!n.g)return o;if(!o)return null;try{var u=JSON.parse(o);if(u){for(n=0;n<u.length;n++)if(Array.isArray(u[n])){var h=u[n];if(!(2>h.length)){var E=h[1];if(Array.isArray(E)&&!(1>E.length)){var v=E[0];if(v!="noop"&&v!="stop"&&v!="close")for(var P=1;P<E.length;P++)E[P]=""}}}}return ts(u)}catch{return o}}var Vn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},is;function xn(){}A(xn,ns),xn.prototype.g=function(){return new XMLHttpRequest},xn.prototype.i=function(){return{}},is=new xn;function Ye(n,o,u,h){this.j=n,this.i=o,this.l=u,this.R=h||1,this.U=new Qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var po={},os={};function as(n,o,u){n.L=1,n.v=Ln(Le(o)),n.m=u,n.P=!0,go(n,null)}function go(n,o){n.F=Date.now(),On(n),n.A=Le(n.v);var u=n.A,h=n.R;Array.isArray(h)||(h=[String(h)]),No(u.i,"t",h),n.C=0,u=n.j.J,n.h=new mo,n.g=Wo(n.j,u?o:null,!n.m),0<n.O&&(n.M=new Ul(b(n.Y,n,n.g),n.O)),o=n.U,u=n.g,h=n.ca;var E="readystatechange";Array.isArray(E)||(E&&(so[0]=E.toString()),E=so);for(var v=0;v<E.length;v++){var P=Yi(u,E[v],h||o.handleEvent,!1,o.h||o);if(!P)break;o.g[P.key]=P}o=n.H?f(n.H):{},n.m?(n.u||(n.u="POST"),o["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.m,o)):(n.u="GET",n.g.ea(n.A,n.u,null,o)),Ht(),jl(n.i,n.u,n.A,n.l,n.R,n.m)}Ye.prototype.ca=function(n){n=n.target;let o=this.M;o&&Ue(n)==3?o.j():this.Y(n)},Ye.prototype.Y=function(n){try{if(n==this.g)e:{let ue=Ue(this.g);var o=this.g.Ba();let Rt=this.g.Z();if(!(3>ue)&&(ue!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||ue!=4||o==7||(o==8||0>=Rt?Ht(3):Ht(2)),us(this);var u=this.g.Z();this.X=u;t:if(yo(this)){var h=Fo(this.g);n="";var E=h.length,v=Ue(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ct(this),Jt(this);var P="";break t}this.h.i=new l.TextDecoder}for(o=0;o<E;o++)this.h.h=!0,n+=this.h.i.decode(h[o],{stream:!(v&&o==E-1)});h.length=0,this.h.g+=n,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=u==200,$l(this.i,this.u,this.A,this.l,this.R,ue,u),this.o){if(this.T&&!this.K){t:{if(this.g){var G,re=this.g;if((G=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(G)){var z=G;break t}}z=null}if(u=z)St(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,u);else{this.o=!1,this.s=3,le(12),ct(this),Jt(this);break e}}if(this.P){u=!0;let Se;for(;!this.J&&this.C<P.length;)if(Se=Gl(this,P),Se==os){ue==4&&(this.s=4,le(14),u=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(Se==po){this.s=4,le(15),St(this.i,this.l,P,"[Invalid Chunk]"),u=!1;break}else St(this.i,this.l,Se,null),cs(this,Se);if(yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ue!=4||P.length!=0||this.h.h||(this.s=1,le(16),u=!1),this.o=this.o&&u,!u)St(this.i,this.l,P,"[Invalid Chunked Response]"),ct(this),Jt(this);else if(0<P.length&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.ba&&!ae.M&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),ps(ae),ae.M=!0,le(11))}}else St(this.i,this.l,P,null),cs(this,P);ue==4&&ct(this),this.o&&!this.J&&(ue==4?zo(this.j,this):(this.o=!1,On(this)))}else ch(this.g),u==400&&0<P.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),ct(this),Jt(this)}}}catch{}finally{}};function yo(n){return n.g?n.u=="GET"&&n.L!=2&&n.j.Ca:!1}function Gl(n,o){var u=n.C,h=o.indexOf(`
`,u);return h==-1?os:(u=Number(o.substring(u,h)),isNaN(u)?po:(h+=1,h+u>o.length?os:(o=o.slice(h,h+u),n.C=h+u,o)))}Ye.prototype.cancel=function(){this.J=!0,ct(this)};function On(n){n.S=Date.now()+n.I,_o(n,n.I)}function _o(n,o){if(n.B!=null)throw Error("WatchDog timer not null");n.B=Xt(b(n.ba,n),o)}function us(n){n.B&&(l.clearTimeout(n.B),n.B=null)}Ye.prototype.ba=function(){this.B=null;let n=Date.now();0<=n-this.S?(zl(this.i,this.A),this.L!=2&&(Ht(),le(17)),ct(this),this.s=2,Jt(this)):_o(this,this.S-n)};function Jt(n){n.j.G==0||n.J||zo(n.j,n)}function ct(n){us(n);var o=n.M;o&&typeof o.ma=="function"&&o.ma(),n.M=null,io(n.U),n.g&&(o=n.g,n.g=null,o.abort(),o.ma())}function cs(n,o){try{var u=n.j;if(u.G!=0&&(u.g==n||ls(u.h,n))){if(!n.K&&ls(u.h,n)&&u.G==3){try{var h=u.Da.g.parse(o)}catch{h=null}if(Array.isArray(h)&&h.length==3){var E=h;if(E[0]==0){e:if(!u.u){if(u.g)if(u.g.F+3e3<n.F)$n(u),Bn(u);else break e;ms(u),le(18)}}else u.za=E[1],0<u.za-u.T&&37500>E[2]&&u.F&&u.v==0&&!u.C&&(u.C=Xt(b(u.Za,u),6e3));if(1>=To(u.h)&&u.ca){try{u.ca()}catch{}u.ca=void 0}}else ht(u,11)}else if((n.K||u.g==n)&&$n(u),!K(o))for(E=u.Da.g.parse(o),o=0;o<E.length;o++){let z=E[o];if(u.T=z[0],z=z[1],u.G==2)if(z[0]=="c"){u.K=z[1],u.ia=z[2];let ae=z[3];ae!=null&&(u.la=ae,u.j.info("VER="+u.la));let ue=z[4];ue!=null&&(u.Aa=ue,u.j.info("SVER="+u.Aa));let Rt=z[5];Rt!=null&&typeof Rt=="number"&&0<Rt&&(h=1.5*Rt,u.L=h,u.j.info("backChannelRequestTimeoutMs_="+h)),h=u;let Se=n.g;if(Se){let Kn=Se.g?Se.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var v=h.h;v.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(v.j=v.l,v.g=new Set,v.h&&(hs(v,v.h),v.h=null))}if(h.D){let gs=Se.g?Se.g.getResponseHeader("X-HTTP-Session-Id"):null;gs&&(h.ya=gs,X(h.I,h.D,gs))}}u.G=3,u.l&&u.l.ua(),u.ba&&(u.R=Date.now()-n.F,u.j.info("Handshake RTT: "+u.R+"ms")),h=u;var P=n;if(h.qa=Qo(h,h.J?h.ia:null,h.W),P.K){vo(h.h,P);var G=P,re=h.L;re&&(G.I=re),G.B&&(us(G),On(G)),h.g=P}else jo(h);0<u.i.length&&jn(u)}else z[0]!="stop"&&z[0]!="close"||ht(u,7);else u.G==3&&(z[0]=="stop"||z[0]=="close"?z[0]=="stop"?ht(u,7):fs(u):z[0]!="noop"&&u.l&&u.l.ta(z),u.v=0)}}Ht(4)}catch{}}var Ql=class{constructor(n,o){this.g=n,this.map=o}};function wo(n){this.l=n||10,l.PerformanceNavigationTiming?(n=l.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eo(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function To(n){return n.h?1:n.g?n.g.size:0}function ls(n,o){return n.h?n.h==o:n.g?n.g.has(o):!1}function hs(n,o){n.g?n.g.add(o):n.h=o}function vo(n,o){n.h&&n.h==o?n.h=null:n.g&&n.g.has(o)&&n.g.delete(o)}wo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function Io(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let o=n.i;for(let u of n.g.values())o=o.concat(u.D);return o}return R(n.i)}function Wl(n){if(n.V&&typeof n.V=="function")return n.V();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(d(n)){for(var o=[],u=n.length,h=0;h<u;h++)o.push(n[h]);return o}o=[],u=0;for(h in n)o[u++]=n[h];return o}function Hl(n){if(n.na&&typeof n.na=="function")return n.na();if(!n.V||typeof n.V!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(d(n)||typeof n=="string"){var o=[];n=n.length;for(var u=0;u<n;u++)o.push(u);return o}o=[],u=0;for(let h in n)o[u++]=h;return o}}}function So(n,o){if(n.forEach&&typeof n.forEach=="function")n.forEach(o,void 0);else if(d(n)||typeof n=="string")Array.prototype.forEach.call(n,o,void 0);else for(var u=Hl(n),h=Wl(n),E=h.length,v=0;v<E;v++)o.call(void 0,h[v],u&&u[v],n)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xl(n,o){if(n){n=n.split("&");for(var u=0;u<n.length;u++){var h=n[u].indexOf("="),E=null;if(0<=h){var v=n[u].substring(0,h);E=n[u].substring(h+1)}else v=n[u];o(v,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function lt(n){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,n instanceof lt){this.h=n.h,Mn(this,n.j),this.o=n.o,this.g=n.g,Fn(this,n.s),this.l=n.l;var o=n.i,u=new tn;u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),bo(this,u),this.m=n.m}else n&&(o=String(n).match(Ao))?(this.h=!1,Mn(this,o[1]||"",!0),this.o=Zt(o[2]||""),this.g=Zt(o[3]||"",!0),Fn(this,o[4]),this.l=Zt(o[5]||"",!0),bo(this,o[6]||"",!0),this.m=Zt(o[7]||"")):(this.h=!1,this.i=new tn(null,this.h))}lt.prototype.toString=function(){var n=[],o=this.j;o&&n.push(en(o,Ro,!0),":");var u=this.g;return(u||o=="file")&&(n.push("//"),(o=this.o)&&n.push(en(o,Ro,!0),"@"),n.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.s,u!=null&&n.push(":",String(u))),(u=this.l)&&(this.g&&u.charAt(0)!="/"&&n.push("/"),n.push(en(u,u.charAt(0)=="/"?Zl:Jl,!0))),(u=this.i.toString())&&n.push("?",u),(u=this.m)&&n.push("#",en(u,th)),n.join("")};function Le(n){return new lt(n)}function Mn(n,o,u){n.j=u?Zt(o,!0):o,n.j&&(n.j=n.j.replace(/:$/,""))}function Fn(n,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);n.s=o}else n.s=null}function bo(n,o,u){o instanceof tn?(n.i=o,nh(n.i,n.h)):(u||(o=en(o,eh)),n.i=new tn(o,n.h))}function X(n,o,u){n.i.set(o,u)}function Ln(n){return X(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Zt(n,o){return n?o?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function en(n,o,u){return typeof n=="string"?(n=encodeURI(n).replace(o,Yl),u&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Yl(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var Ro=/[#\/\?@]/g,Jl=/[#\?:]/g,Zl=/[#\?]/g,eh=/[#\?@]/g,th=/#/g;function tn(n,o){this.h=this.g=null,this.i=n||null,this.j=!!o}function Je(n){n.g||(n.g=new Map,n.h=0,n.i&&Xl(n.i,function(o,u){n.add(decodeURIComponent(o.replace(/\+/g," ")),u)}))}r=tn.prototype,r.add=function(n,o){Je(this),this.i=null,n=At(this,n);var u=this.g.get(n);return u||this.g.set(n,u=[]),u.push(o),this.h+=1,this};function Po(n,o){Je(n),o=At(n,o),n.g.has(o)&&(n.i=null,n.h-=n.g.get(o).length,n.g.delete(o))}function Co(n,o){return Je(n),o=At(n,o),n.g.has(o)}r.forEach=function(n,o){Je(this),this.g.forEach(function(u,h){u.forEach(function(E){n.call(o,E,h,this)},this)},this)},r.na=function(){Je(this);let n=Array.from(this.g.values()),o=Array.from(this.g.keys()),u=[];for(let h=0;h<o.length;h++){let E=n[h];for(let v=0;v<E.length;v++)u.push(o[h])}return u},r.V=function(n){Je(this);let o=[];if(typeof n=="string")Co(this,n)&&(o=o.concat(this.g.get(At(this,n))));else{n=Array.from(this.g.values());for(let u=0;u<n.length;u++)o=o.concat(n[u])}return o},r.set=function(n,o){return Je(this),this.i=null,n=At(this,n),Co(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[o]),this.h+=1,this},r.get=function(n,o){return n?(n=this.V(n),0<n.length?String(n[0]):o):o};function No(n,o,u){Po(n,o),0<u.length&&(n.i=null,n.g.set(At(n,o),R(u)),n.h+=u.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],o=Array.from(this.g.keys());for(var u=0;u<o.length;u++){var h=o[u];let v=encodeURIComponent(String(h)),P=this.V(h);for(h=0;h<P.length;h++){var E=v;P[h]!==""&&(E+="="+encodeURIComponent(String(P[h]))),n.push(E)}}return this.i=n.join("&")};function At(n,o){return o=String(o),n.j&&(o=o.toLowerCase()),o}function nh(n,o){o&&!n.j&&(Je(n),n.i=null,n.g.forEach(function(u,h){var E=h.toLowerCase();h!=E&&(Po(this,h),No(this,E,u))},n)),n.j=o}function rh(n,o){let u=new Yt;if(l.Image){let h=new Image;h.onload=C(Ze,u,"TestLoadImage: loaded",!0,o,h),h.onerror=C(Ze,u,"TestLoadImage: error",!1,o,h),h.onabort=C(Ze,u,"TestLoadImage: abort",!1,o,h),h.ontimeout=C(Ze,u,"TestLoadImage: timeout",!1,o,h),l.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=n}else o(!1)}function sh(n,o){let u=new Yt,h=new AbortController,E=setTimeout(()=>{h.abort(),Ze(u,"TestPingServer: timeout",!1,o)},1e4);fetch(n,{signal:h.signal}).then(v=>{clearTimeout(E),v.ok?Ze(u,"TestPingServer: ok",!0,o):Ze(u,"TestPingServer: server error",!1,o)}).catch(()=>{clearTimeout(E),Ze(u,"TestPingServer: error",!1,o)})}function Ze(n,o,u,h,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),h(u)}catch{}}function ih(){this.g=new Bl}function oh(n,o,u){let h=u||"";try{So(n,function(E,v){let P=E;y(E)&&(P=ts(E)),o.push(h+v+"="+encodeURIComponent(P))})}catch(E){throw o.push(h+"type="+encodeURIComponent("_badmap")),E}}function nn(n){this.l=n.Ub||null,this.j=n.eb||!1}A(nn,ns),nn.prototype.g=function(){return new Un(this.l,this.j)},nn.prototype.i=(function(n){return function(){return n}})({});function Un(n,o){oe.call(this),this.D=n,this.o=o,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Un,oe),r=Un.prototype,r.open=function(n,o){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=n,this.A=o,this.readyState=1,sn(this)},r.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let o={headers:this.u,method:this.B,credentials:this.m,cache:void 0};n&&(o.body=n),(this.D||l).fetch(new Request(this.A,o)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rn(this)),this.readyState=0},r.Sa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sn(this)),this.g&&(this.readyState=3,sn(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Do(this)}else n.text().then(this.Ra.bind(this),this.ga.bind(this))};function Do(n){n.j.read().then(n.Pa.bind(n)).catch(n.ga.bind(n))}r.Pa=function(n){if(this.g){if(this.o&&n.value)this.response.push(n.value);else if(!this.o){var o=n.value?n.value:new Uint8Array(0);(o=this.v.decode(o,{stream:!n.done}))&&(this.response=this.responseText+=o)}n.done?rn(this):sn(this),this.readyState==3&&Do(this)}},r.Ra=function(n){this.g&&(this.response=this.responseText=n,rn(this))},r.Qa=function(n){this.g&&(this.response=n,rn(this))},r.ga=function(){this.g&&rn(this)};function rn(n){n.readyState=4,n.l=null,n.j=null,n.v=null,sn(n)}r.setRequestHeader=function(n,o){this.u.append(n,o)},r.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],o=this.h.entries();for(var u=o.next();!u.done;)u=u.value,n.push(u[0]+": "+u[1]),u=o.next();return n.join(`\r
`)};function sn(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(Un.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});function ko(n){let o="";return Q(n,function(u,h){o+=h,o+=":",o+=u,o+=`\r
`}),o}function ds(n,o,u){e:{for(h in u){var h=!1;break e}h=!0}h||(u=ko(u),typeof n=="string"?u!=null&&encodeURIComponent(String(u)):X(n,o,u))}function Z(n){oe.call(this),this.headers=new Map,this.o=n||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Z,oe);var ah=/^https?$/i,uh=["POST","PUT"];r=Z.prototype,r.Ha=function(n){this.J=n},r.ea=function(n,o,u,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+n);o=o?o.toUpperCase():"GET",this.D=n,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():is.g(),this.v=this.o?oo(this.o):oo(is),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(o,String(n),!0),this.B=!1}catch(v){Vo(this,v);return}if(n=u||"",u=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var E in h)u.set(E,h[E]);else if(typeof h.keys=="function"&&typeof h.get=="function")for(let v of h.keys())u.set(v,h.get(v));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(u.keys()).find(v=>v.toLowerCase()=="content-type"),E=l.FormData&&n instanceof l.FormData,!(0<=Array.prototype.indexOf.call(uh,o,void 0))||h||E||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[v,P]of u)this.g.setRequestHeader(v,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(n),this.u=!1}catch(v){Vo(this,v)}};function Vo(n,o){n.h=!1,n.g&&(n.j=!0,n.g.abort(),n.j=!1),n.l=o,n.m=5,xo(n),qn(n)}function xo(n){n.A||(n.A=!0,ce(n,"complete"),ce(n,"error"))}r.abort=function(n){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=n||7,ce(this,"complete"),ce(this,"abort"),qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),Z.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oo(this):this.bb())},r.bb=function(){Oo(this)};function Oo(n){if(n.h&&typeof c<"u"&&(!n.v[1]||Ue(n)!=4||n.Z()!=2)){if(n.u&&Ue(n)==4)no(n.Ea,0,n);else if(ce(n,"readystatechange"),Ue(n)==4){n.h=!1;try{let P=n.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}var u;if(!(u=o)){var h;if(h=P===0){var E=String(n.D).match(Ao)[1]||null;!E&&l.self&&l.self.location&&(E=l.self.location.protocol.slice(0,-1)),h=!ah.test(E?E.toLowerCase():"")}u=h}if(u)ce(n,"complete"),ce(n,"success");else{n.m=6;try{var v=2<Ue(n)?n.g.statusText:""}catch{v=""}n.l=v+" ["+n.Z()+"]",xo(n)}}finally{qn(n)}}}}function qn(n,o){if(n.g){Mo(n);let u=n.g,h=n.v[0]?()=>{}:null;n.g=null,n.v=null,o||ce(n,"ready");try{u.onreadystatechange=h}catch{}}}function Mo(n){n.I&&(l.clearTimeout(n.I),n.I=null)}r.isActive=function(){return!!this.g};function Ue(n){return n.g?n.g.readyState:0}r.Z=function(){try{return 2<Ue(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(n){if(this.g){var o=this.g.responseText;return n&&o.indexOf(n)==0&&(o=o.substring(n.length)),ql(o)}};function Fo(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.H){case"":case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ch(n){let o={};n=(n.g&&2<=Ue(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let h=0;h<n.length;h++){if(K(n[h]))continue;var u=w(n[h]);let E=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();let v=o[E]||[];o[E]=v,v.push(u)}_(o,function(h){return h.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function on(n,o,u){return u&&u.internalChannelParams&&u.internalChannelParams[n]||o}function Lo(n){this.Aa=0,this.i=[],this.j=new Yt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=on("failFast",!1,n),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=on("baseRetryDelayMs",5e3,n),this.cb=on("retryDelaySeedMs",1e4,n),this.Wa=on("forwardChannelMaxRetries",2,n),this.wa=on("forwardChannelRequestTimeoutMs",2e4,n),this.pa=n&&n.xmlHttpFactory||void 0,this.Xa=n&&n.Tb||void 0,this.Ca=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(n&&n.concurrentRequestLimit),this.Da=new ih,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=n&&n.Rb||!1,n&&n.xa&&this.j.xa(),n&&n.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&n&&n.detectBufferingProxy||!1,this.ja=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.ja=n.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Lo.prototype,r.la=8,r.G=1,r.connect=function(n,o,u,h){le(0),this.W=n,this.H=o||{},u&&h!==void 0&&(this.H.OSID=u,this.H.OAID=h),this.F=this.X,this.I=Qo(this,null,this.W),jn(this)};function fs(n){if(Uo(n),n.G==3){var o=n.U++,u=Le(n.I);if(X(u,"SID",n.K),X(u,"RID",o),X(u,"TYPE","terminate"),an(n,u),o=new Ye(n,n.j,o),o.L=2,o.v=Ln(Le(u)),u=!1,l.navigator&&l.navigator.sendBeacon)try{u=l.navigator.sendBeacon(o.v.toString(),"")}catch{}!u&&l.Image&&(new Image().src=o.v,u=!0),u||(o.g=Wo(o.j,null),o.g.ea(o.v)),o.F=Date.now(),On(o)}Go(n)}function Bn(n){n.g&&(ps(n),n.g.cancel(),n.g=null)}function Uo(n){Bn(n),n.u&&(l.clearTimeout(n.u),n.u=null),$n(n),n.h.cancel(),n.s&&(typeof n.s=="number"&&l.clearTimeout(n.s),n.s=null)}function jn(n){if(!Eo(n.h)&&!n.s){n.s=!0;var o=n.Ga;k||ee(),V||(k(),V=!0),M.add(o,n),n.B=0}}function lh(n,o){return To(n.h)>=n.h.j-(n.s?1:0)?!1:n.s?(n.i=o.D.concat(n.i),!0):n.G==1||n.G==2||n.B>=(n.Va?0:n.Wa)?!1:(n.s=Xt(b(n.Ga,n,o),Ko(n,n.B)),n.B++,!0)}r.Ga=function(n){if(this.s)if(this.s=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;let E=new Ye(this,this.j,n),v=this.o;if(this.S&&(v?(v=f(v),g(v,this.S)):v=this.S),this.m!==null||this.O||(E.H=v,v=null),this.P)e:{for(var o=0,u=0;u<this.i.length;u++){t:{var h=this.i[u];if("__data__"in h.map&&(h=h.map.__data__,typeof h=="string")){h=h.length;break t}h=void 0}if(h===void 0)break;if(o+=h,4096<o){o=u;break e}if(o===4096||u===this.i.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=Bo(this,E,o),u=Le(this.I),X(u,"RID",n),X(u,"CVER",22),this.D&&X(u,"X-HTTP-Session-Id",this.D),an(this,u),v&&(this.O?o="headers="+encodeURIComponent(String(ko(v)))+"&"+o:this.m&&ds(u,this.m,v)),hs(this.h,E),this.Ua&&X(u,"TYPE","init"),this.P?(X(u,"$req",o),X(u,"SID","null"),E.T=!0,as(E,u,null)):as(E,u,o),this.G=2}}else this.G==3&&(n?qo(this,n):this.i.length==0||Eo(this.h)||qo(this))};function qo(n,o){var u;o?u=o.l:u=n.U++;let h=Le(n.I);X(h,"SID",n.K),X(h,"RID",u),X(h,"AID",n.T),an(n,h),n.m&&n.o&&ds(h,n.m,n.o),u=new Ye(n,n.j,u,n.B+1),n.m===null&&(u.H=n.o),o&&(n.i=o.D.concat(n.i)),o=Bo(n,u,1e3),u.I=Math.round(.5*n.wa)+Math.round(.5*n.wa*Math.random()),hs(n.h,u),as(u,h,o)}function an(n,o){n.H&&Q(n.H,function(u,h){X(o,h,u)}),n.l&&So({},function(u,h){X(o,h,u)})}function Bo(n,o,u){u=Math.min(n.i.length,u);var h=n.l?b(n.l.Na,n.l,n):null;e:{var E=n.i;let v=-1;for(;;){let P=["count="+u];v==-1?0<u?(v=E[0].g,P.push("ofs="+v)):v=0:P.push("ofs="+v);let G=!0;for(let re=0;re<u;re++){let z=E[re].g,ae=E[re].map;if(z-=v,0>z)v=Math.max(0,E[re].g-100),G=!1;else try{oh(ae,P,"req"+z+"_")}catch{h&&h(ae)}}if(G){h=P.join("&");break e}}}return n=n.i.splice(0,u),o.D=n,h}function jo(n){if(!n.g&&!n.u){n.Y=1;var o=n.Fa;k||ee(),V||(k(),V=!0),M.add(o,n),n.v=0}}function ms(n){return n.g||n.u||3<=n.v?!1:(n.Y++,n.u=Xt(b(n.Fa,n),Ko(n,n.v)),n.v++,!0)}r.Fa=function(){if(this.u=null,$o(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var n=2*this.R;this.j.info("BP detection timer enabled: "+n),this.A=Xt(b(this.ab,this),n)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Bn(this),$o(this))};function ps(n){n.A!=null&&(l.clearTimeout(n.A),n.A=null)}function $o(n){n.g=new Ye(n,n.j,"rpc",n.Y),n.m===null&&(n.g.H=n.o),n.g.O=0;var o=Le(n.qa);X(o,"RID","rpc"),X(o,"SID",n.K),X(o,"AID",n.T),X(o,"CI",n.F?"0":"1"),!n.F&&n.ja&&X(o,"TO",n.ja),X(o,"TYPE","xmlhttp"),an(n,o),n.m&&n.o&&ds(o,n.m,n.o),n.L&&(n.g.I=n.L);var u=n.g;n=n.ia,u.L=1,u.v=Ln(Le(o)),u.m=null,u.P=!0,go(u,n)}r.Za=function(){this.C!=null&&(this.C=null,Bn(this),ms(this),le(19))};function $n(n){n.C!=null&&(l.clearTimeout(n.C),n.C=null)}function zo(n,o){var u=null;if(n.g==o){$n(n),ps(n),n.g=null;var h=2}else if(ls(n.h,o))u=o.D,vo(n.h,o),h=1;else return;if(n.G!=0){if(o.o)if(h==1){u=o.m?o.m.length:0,o=Date.now()-o.F;var E=n.B;h=kn(),ce(h,new ho(h,u)),jn(n)}else jo(n);else if(E=o.s,E==3||E==0&&0<o.X||!(h==1&&lh(n,o)||h==2&&ms(n)))switch(u&&0<u.length&&(o=n.h,o.i=o.i.concat(u)),E){case 1:ht(n,5);break;case 4:ht(n,10);break;case 3:ht(n,6);break;default:ht(n,2)}}}function Ko(n,o){let u=n.Ta+Math.floor(Math.random()*n.cb);return n.isActive()||(u*=2),u*o}function ht(n,o){if(n.j.info("Error code "+o),o==2){var u=b(n.fb,n),h=n.Xa;let E=!h;h=new lt(h||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Mn(h,"https"),Ln(h),E?rh(h.toString(),u):sh(h.toString(),u)}else le(2);n.G=0,n.l&&n.l.sa(o),Go(n),Uo(n)}r.fb=function(n){n?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Go(n){if(n.G=0,n.ka=[],n.l){let o=Io(n.h);(o.length!=0||n.i.length!=0)&&(D(n.ka,o),D(n.ka,n.i),n.h.i.length=0,R(n.i),n.i.length=0),n.l.ra()}}function Qo(n,o,u){var h=u instanceof lt?Le(u):new lt(u);if(h.g!="")o&&(h.g=o+"."+h.g),Fn(h,h.s);else{var E=l.location;h=E.protocol,o=o?o+"."+E.hostname:E.hostname,E=+E.port;var v=new lt(null);h&&Mn(v,h),o&&(v.g=o),E&&Fn(v,E),u&&(v.l=u),h=v}return u=n.D,o=n.ya,u&&o&&X(h,u,o),X(h,"VER",n.la),an(n,h),h}function Wo(n,o,u){if(o&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return o=n.Ca&&!n.pa?new Z(new nn({eb:u})):new Z(n.pa),o.Ha(n.J),o}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}r=Ho.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function zn(){}zn.prototype.g=function(n,o){return new ge(n,o)};function ge(n,o){oe.call(this),this.g=new Lo(o),this.l=n,this.h=o&&o.messageUrlParams||null,n=o&&o.messageHeaders||null,o&&o.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.o=n,n=o&&o.initMessageHeaders||null,o&&o.messageContentType&&(n?n["X-WebChannel-Content-Type"]=o.messageContentType:n={"X-WebChannel-Content-Type":o.messageContentType}),o&&o.va&&(n?n["X-WebChannel-Client-Profile"]=o.va:n={"X-WebChannel-Client-Profile":o.va}),this.g.S=n,(n=o&&o.Sb)&&!K(n)&&(this.g.m=n),this.v=o&&o.supportsCrossDomainXhr||!1,this.u=o&&o.sendRawJson||!1,(o=o&&o.httpSessionIdParam)&&!K(o)&&(this.g.D=o,n=this.h,n!==null&&o in n&&(n=this.h,o in n&&delete n[o])),this.j=new bt(this)}A(ge,oe),ge.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ge.prototype.close=function(){fs(this.g)},ge.prototype.o=function(n){var o=this.g;if(typeof n=="string"){var u={};u.__data__=n,n=u}else this.u&&(u={},u.__data__=ts(n),n=u);o.i.push(new Ql(o.Ya++,n)),o.G==3&&jn(o)},ge.prototype.N=function(){this.g.l=null,delete this.j,fs(this.g),delete this.g,ge.aa.N.call(this)};function Xo(n){rs.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var o=n.__sm__;if(o){e:{for(let u in o){n=u;break e}n=void 0}(this.i=n)&&(n=this.i,o=o!==null&&n in o?o[n]:void 0),this.data=o}else this.data=n}A(Xo,rs);function Yo(){ss.call(this),this.status=1}A(Yo,ss);function bt(n){this.g=n}A(bt,Ho),bt.prototype.ua=function(){ce(this.g,"a")},bt.prototype.ta=function(n){ce(this.g,new Xo(n))},bt.prototype.sa=function(n){ce(this.g,new Yo)},bt.prototype.ra=function(){ce(this.g,"b")},zn.prototype.createWebChannel=zn.prototype.g,ge.prototype.send=ge.prototype.o,ge.prototype.open=ge.prototype.m,ge.prototype.close=ge.prototype.close,Gu=$e.createWebChannelTransport=function(){return new zn},Ku=$e.getStatEventTarget=function(){return kn()},zu=$e.Event=ut,$u=$e.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,ju=$e.ErrorCode=Vn,fo.COMPLETE="complete",Bu=$e.EventType=fo,ao.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",oe.prototype.listen=oe.prototype.K,qu=$e.WebChannel=ao,md=$e.FetchXmlHttpFactory=nn,Z.prototype.listenOnce=Z.prototype.L,Z.prototype.getLastError=Z.prototype.Ka,Z.prototype.getLastErrorCode=Z.prototype.Ba,Z.prototype.getStatus=Z.prototype.Z,Z.prototype.getResponseJson=Z.prototype.Oa,Z.prototype.getResponseText=Z.prototype.oa,Z.prototype.send=Z.prototype.ea,Z.prototype.setWithCredentials=Z.prototype.Ha,Uu=$e.XhrIo=Z}).apply(typeof Cr<"u"?Cr:typeof self<"u"?self:typeof window<"u"?window:{});var Qu="@firebase/firestore",Wu="4.8.0";var se=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};se.UNAUTHENTICATED=new se(null),se.GOOGLE_CREDENTIALS=new se("google-credentials-uid"),se.FIRST_PARTY=new se("first-party-uid"),se.MOCK_USER=new se("mock-user");var In="11.10.0";var zt=new nr("@firebase/firestore");function Pe(r,...e){if(zt.logLevel<=tr.DEBUG){let t=e.map(Ti);zt.debug(`Firestore (${In}): ${r}`,...t)}}function ac(r,...e){if(zt.logLevel<=tr.ERROR){let t=e.map(Ti);zt.error(`Firestore (${In}): ${r}`,...t)}}function pd(r,...e){if(zt.logLevel<=tr.WARN){let t=e.map(Ti);zt.warn(`Firestore (${In}): ${r}`,...t)}}function Ti(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function me(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,uc(r,s,t)}function uc(r,e,t){let s=`FIRESTORE (${In}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ac(s),new Error(s)}function _t(r,e,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,r||uc(e,i,s)}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends it{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Nr=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ni=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(se.UNAUTHENTICATED))}shutdown(){}},ri=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},si=class{constructor(e){this.t=e,this.currentUser=se.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_t(this.o===void 0,42304);let s=this.i,i=d=>this.i!==s?(s=this.i,t(d)):Promise.resolve(),a=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new wt,e.enqueueRetryable(()=>i(this.currentUser))};let c=()=>{let d=a;e.enqueueRetryable(()=>x(this,null,function*(){yield d.promise,yield i(this.currentUser)}))},l=d=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wt)}},0),c()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t(typeof s.accessToken=="string",31837,{l:s}),new Nr(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new se(e)}},ii=class{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=se.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},oi=class{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new ii(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(se.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dr=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ai=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_t(this.o===void 0,3512);let s=a=>{a.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let c=a.token!==this.m;return this.m=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};let i=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?i(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dr(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Dr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gd(r){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}function yd(){return new TextEncoder}var ui=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),s="";for(;s.length<20;){let i=gd(40);for(let a=0;a<i.length;++a)s.length<20&&i[a]<t&&(s+=e.charAt(i[a]%62))}return s}};function Ie(r,e){return r<e?-1:r>e?1:0}function _d(r,e){let t=0;for(;t<r.length&&t<e.length;){let s=r.codePointAt(t),i=e.codePointAt(t);if(s!==i){if(s<128&&i<128)return Ie(s,i);{let a=yd(),c=wd(a.encode(Hu(r,t)),a.encode(Hu(e,t)));return c!==0?c:Ie(s,i)}}t+=s>65535?2:1}return Ie(r.length,e.length)}function Hu(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function wd(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ie(r[t],e[t]);return Ie(r.length,e.length)}var Xu="__name__",kr=class r{constructor(e,t,s){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&me(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return r.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof r?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let s=Math.min(e.length,t.length);for(let i=0;i<s;i++){let a=r.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Ie(e.length,t.length)}static compareSegments(e,t){let s=r.isNumericId(e),i=r.isNumericId(t);return s&&!i?-1:!s&&i?1:s&&i?r.extractNumericId(e).compare(r.extractNumericId(t)):_d(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}},ze=class r extends kr{construct(e,t,s){return new r(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let s of e){if(s.indexOf("//")>=0)throw new L(B.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(i=>i.length>0))}return new r(t)}static emptyPath(){return new r([])}},Ed=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ci=class r extends kr{construct(e,t,s){return new r(e,t,s)}static isValidIdentifier(e){return Ed.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xu}static keyField(){return new r([Xu])}static fromServerFormat(e){let t=[],s="",i=0,a=()=>{if(s.length===0)throw new L(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""},c=!1;for(;i<e.length;){let l=e[i];if(l==="\\"){if(i+1===e.length)throw new L(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new L(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,i+=2}else l==="`"?(c=!c,i++):l!=="."||c?(s+=l,i++):(a(),i++)}if(a(),c)throw new L(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new r(t)}static emptyPath(){return new r([])}};var Ke=class r{constructor(e){this.path=e}static fromPath(e){return new r(ze.fromString(e))}static fromName(e){return new r(ze.fromString(e).popFirst(5))}static empty(){return new r(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new r(new ze(e.slice()))}};function Td(r,e,t,s){if(e===!0&&s===!0)throw new L(B.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function vd(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Id(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{let e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":me(12329,{type:typeof r})}function Sd(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new L(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Id(r);throw new L(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function te(r,e){let t={typeString:r};return e&&(t.value=e),t}function Sn(r,e){if(!vd(r))throw new L(B.INVALID_ARGUMENT,"JSON must be an object");let t;for(let s in e)if(e[s]){let i=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}let c=r[s];if(i&&typeof c!==i){t=`JSON field '${s}' must be a ${i}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${s}' field to equal '${a.value}'`;break}}if(t)throw new L(B.INVALID_ARGUMENT,t);return!0}var Yu=-62135596800,Ju=1e6,yn=class r{static now(){return r.fromMillis(Date.now())}static fromDate(e){return r.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Ju);return new r(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Yu)throw new L(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ju}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:r._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sn(e,r._jsonSchema))return new r(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Yu;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};yn._jsonSchemaVersion="firestore/timestamp/1.0",yn._jsonSchema={type:te("string",yn._jsonSchemaVersion),seconds:te("number"),nanoseconds:te("number")};var li=class{constructor(e,t,s,i){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=i}};li.UNKNOWN_ID=-1;function Ad(r){return r.name==="IndexedDbTransactionError"}function bd(r){return r===0&&1/r==-1/0}var Rd="remoteDocuments",cc="owner";var lc="mutationQueues";var hc="mutations";var dc="documentMutations",Pd="remoteDocumentsV14";var fc="remoteDocumentGlobal";var mc="targets";var pc="targetDocuments";var gc="targetGlobal",yc="collectionParents";var _c="clientMetadata";var wc="bundles";var Ec="namedQueries";var Cd="indexConfiguration";var Nd="indexState";var Dd="indexEntries";var Tc="documentOverlays";var kd="globals";var Vd=[lc,hc,dc,Rd,mc,cc,gc,pc,_c,fc,yc,wc,Ec],Fp=[...Vd,Tc],xd=[lc,hc,dc,Pd,mc,cc,gc,pc,_c,fc,yc,wc,Ec,Tc],Od=xd,Md=[...Od,Cd,Nd,Dd];var Lp=[...Md,kd];var Kt=class r{constructor(e,t){this.comparator=e,this.root=t||xe.EMPTY}insert(e,t){return new r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(e){return new r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){let i=this.comparator(e,s.key);if(i===0)return t+s.left.size;i<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){let e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qt(this.root,e,this.comparator,!1)}getReverseIterator(){return new qt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qt(this.root,e,this.comparator,!0)}},qt=class{constructor(e,t,s,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xe=class r{constructor(e,t,s,i,a){this.key=e,this.value=t,this.color=s??r.RED,this.left=i??r.EMPTY,this.right=a??r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,i,a){return new r(e??this.key,t??this.value,s??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this,a=s(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,s),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return r.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}};xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,s,i,a){return this}insert(e,t,s){return new xe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vr=class r{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){let s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){let i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xr(this.data.getIterator())}getIteratorFrom(e){return new xr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,a=s.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new r(this.comparator);return t.data=e,t}},xr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var hi=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var at=class r{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hi("Invalid base64 string: "+a):a}})(e);return new r(t)}static fromUint8Array(e){let t=(function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a})(e);return new r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var Fd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ld(r){if(_t(!!r,39018),typeof r=="string"){let e=0,t=Fd.exec(r);if(_t(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_n(r.seconds),nanos:_n(r.nanos)}}function _n(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ud(r){return typeof r=="string"?at.fromBase64String(r):at.fromUint8Array(r)}var di="(default)",fi=class r{constructor(e,t){this.projectId=e,this.database=t||di}static empty(){return new r("","")}get isDefaultDatabase(){return this.database===di}isEqual(e){return e instanceof r&&e.projectId===this.projectId&&e.database===this.database}};var vc="__type__",qd="__max__";var Ic="__vector__",Sc="value";function Bd(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vc])===null||t===void 0?void 0:t.stringValue)===Ic}function jd(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qd}var qp={mapValue:{fields:{[vc]:{stringValue:Ic},[Sc]:{arrayValue:{}}}}};var mi=class{constructor(e,t=null,s=[],i=[],a=null,c="F",l=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=i,this.limit=a,this.limitType=c,this.startAt=l,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function $d(r){return new mi(r)}var Bp=new Kt(Ke.comparator);var jp=new Kt(Ke.comparator);var $p=new Kt(Ke.comparator),zp=new Vr(Ke.comparator);var Kp=new Vr(Ie);var Zu,q;(q=Zu||(Zu={}))[q.OK=0]="OK",q[q.CANCELLED=1]="CANCELLED",q[q.UNKNOWN=2]="UNKNOWN",q[q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",q[q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",q[q.NOT_FOUND=5]="NOT_FOUND",q[q.ALREADY_EXISTS=6]="ALREADY_EXISTS",q[q.PERMISSION_DENIED=7]="PERMISSION_DENIED",q[q.UNAUTHENTICATED=16]="UNAUTHENTICATED",q[q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",q[q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",q[q.ABORTED=10]="ABORTED",q[q.OUT_OF_RANGE=11]="OUT_OF_RANGE",q[q.UNIMPLEMENTED=12]="UNIMPLEMENTED",q[q.INTERNAL=13]="INTERNAL",q[q.UNAVAILABLE=14]="UNAVAILABLE",q[q.DATA_LOSS=15]="DATA_LOSS";var Gp=new Pr([4294967295,4294967295],0);var Or=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(_n(e.integerValue));else if("doubleValue"in e){let s=_n(e.doubleValue);isNaN(s)?this.Ct(t,13):(this.Ct(t,15),bd(s)?t.Ft(0):t.Ft(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ct(t,20),typeof s=="string"&&(s=Ld(s)),t.Mt(`${s.seconds||""}`),t.Ft(s.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ud(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let s=e.geoPointValue;this.Ct(t,45),t.Ft(s.latitude||0),t.Ft(s.longitude||0)}else"mapValue"in e?jd(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Bd(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):me(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let s=e.fields||{};this.Ct(t,55);for(let i of Object.keys(s))this.xt(i,t),this.Dt(s[i],t)}Lt(e,t){var s,i;let a=e.fields||{};this.Ct(t,53);let c=Sc,l=((i=(s=a[c].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(_n(l)),this.xt(c,t),this.Dt(a[c],t)}qt(e,t){let s=e.values||[];this.Ct(t,50);for(let i of s)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Ke.fromName(e).path.forEach(s=>{this.Ct(t,60),this.$t(s,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Or.Ut=new Or;var Qp=new Uint8Array(0);var Ac=41943040,Ve=class r{static withCacheSize(e){return new r(e,r.DEFAULT_COLLECTION_PERCENTILE,r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}};Ve.DEFAULT_COLLECTION_PERCENTILE=10,Ve.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ve.DEFAULT=new Ve(Ac,Ve.DEFAULT_COLLECTION_PERCENTILE,Ve.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ve.DISABLED=new Ve(-1,0,0);var zd=1048576;function ti(){return typeof document<"u"?document:null}var pi=class{constructor(e,t,s=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-s);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var gi=class r{constructor(e,t,s,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=i,this.removalCallback=a,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,i,a){let c=Date.now()+s,l=new r(e,t,c,i,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var ec,tc;(tc=ec||(ec={})).Fa="default",tc.Cache="cache";function Kd(r){let e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}var nc=new Map;var bc="firestore.googleapis.com",rc=!0,Mr=class{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new L(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bc,this.ssl=rc}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rc;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ac;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zd)throw new L(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Td("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kd((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new L(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new L(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new L(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Fr=class{constructor(e,t,s,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mr({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mr(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ni;switch(s.type){case"firstParty":return new oi(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new L(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return x(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let s=nc.get(t);s&&(Pe("ComponentProvider","Removing Datastore"),nc.delete(t),s.terminate())})(this),Promise.resolve()}};function Rc(r,e,t,s={}){var i;r=Sd(r,Fr);let a=Hn(e),c=r._getSettings(),l=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;a&&(Xn(`https://${d}`),Jn("Firestore",!0)),c.host!==bc&&c.host!==d&&pd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let y=Object.assign(Object.assign({},c),{host:d,ssl:a,emulatorOptions:s});if(!er(y,l)&&(r._setSettings(y),s.mockUserToken)){let S,I;if(typeof s.mockUserToken=="string")S=s.mockUserToken,I=se.MOCK_USER;else{S=Yn(s.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);let b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new L(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new se(b)}r._authCredentials=new ri(new Nr(S,I))}}var yi=class r{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new r(this.firestore,e,this._query)}},Et=class r{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new r(this.firestore,e,this._key)}toJSON(){return{type:r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Sn(t,r._jsonSchema))return new r(e,s||null,new Ke(ze.fromString(t.referencePath)))}};Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:te("string",Et._jsonSchemaVersion),referencePath:te("string")};var _i=class r extends yi{constructor(e,t,s){super(e,t,$d(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new Ke(e))}withConverter(e){return new r(this.firestore,e,this._path)}};var sc="AsyncQueue",Lr=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new pi(this,"async_queue_retry"),this.oc=()=>{let s=ti();s&&Pe(sc,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;let t=ti();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=ti();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new wt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return x(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ad(e))throw e;Pe(sc,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,ac("INTERNAL UNHANDLED ERROR: ",ic(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=gi.createAndSchedule(this,e,t,s,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&me(47125,{hc:ic(this.tc)})}verifyOperationInProgress(){}Pc(){return x(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function ic(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}var wi=class extends Fr{constructor(e,t,s,i){super(e,t,s,i),this.type="firestore",this._queue=new Lr,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return x(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lr(e),this._firestoreClient=void 0,yield e}})}};function Pc(r,e){let t=typeof r=="object"?r:ft(),s=typeof r=="string"?r:e||di,i=De(t,"firestore").getImmediate({identifier:s});if(!i._initialized){let a=Wn("firestore");a&&Rc(i,...a)}return i}var wn=class r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new r(at.fromBase64String(e))}catch(t){throw new L(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new r(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sn(e,r._jsonSchema))return r.fromBase64String(e.bytes)}};wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:te("string",wn._jsonSchemaVersion),bytes:te("string")};var Ur=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var En=class r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:r._jsonSchemaVersion}}static fromJSON(e){if(Sn(e,r._jsonSchema))return new r(e.latitude,e.longitude)}};En._jsonSchemaVersion="firestore/geoPoint/1.0",En._jsonSchema={type:te("string",En._jsonSchemaVersion),latitude:te("number"),longitude:te("number")};var Tn=class r{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(s,i){if(s.length!==i.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sn(e,r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new r(e.vectorValues);throw new L(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Tn._jsonSchemaVersion="firestore/vectorValue/1.0",Tn._jsonSchema={type:te("string",Tn._jsonSchemaVersion),vectorValues:te("object")};var Gd=new RegExp("[~\\*/\\[\\]]");function Qd(r,e,t){if(e.search(Gd)>=0)throw oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ur(...e.split("."))._internalPath}catch{throw oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function oc(r,e,t,s,i){let a=s&&!s.isEmpty(),c=i!==void 0,l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(a||c)&&(d+=" (found",a&&(d+=` in field ${s}`),c&&(d+=` in document ${i}`),d+=")"),new L(B.INVALID_ARGUMENT,l+r+d)}var qr=class{constructor(e,t,s,i,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ei(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Cc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Ei=class extends qr{data(){return super.data()}};function Cc(r,e){return typeof e=="string"?Qd(r,e):e instanceof Ur?e._internalPath:e._delegate._internalPath}var Bt=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jt=class r extends qr{constructor(e,t,s,i,a,c){super(e,t,s,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new $t(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let s=this._document.data.field(Cc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=r._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};jt._jsonSchemaVersion="firestore/documentSnapshot/1.0",jt._jsonSchema={type:te("string",jt._jsonSchemaVersion),bundleSource:te("string","DocumentSnapshot"),bundleName:te("string"),bundle:te("string")};var $t=class extends jt{data(e={}){return super.data(e)}},vn=class r{constructor(e,t,s,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bt(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new $t(this._firestore,this._userDataWriter,s.key,s,new Bt(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(l=>{let d=new $t(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bt(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{let d=new $t(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bt(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),y=-1,S=-1;return l.type!==0&&(y=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),l.type!==1&&(c=c.add(l.doc),S=c.indexOf(l.doc.key)),{type:Wd(l.type),doc:d,oldIndex:y,newIndex:S}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=r._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ui.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],s=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Wd(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:r})}}vn._jsonSchemaVersion="firestore/querySnapshot/1.0",vn._jsonSchema={type:te("string",vn._jsonSchemaVersion),bundleSource:te("string","QuerySnapshot"),bundleName:te("string"),bundle:te("string")};(function(e,t=!0){(function(i){In=i})(sr),Ne(new Ce("firestore",(s,{instanceIdentifier:i,options:a})=>{let c=s.getProvider("app").getImmediate(),l=new wi(new si(s.getProvider("auth-internal")),new ai(c,s.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new L(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fi(y.options.projectId,S)})(c,i),c);return a=Object.assign({useFetchStreams:t},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),ne(Qu,Wu,e),ne(Qu,Wu,"esm2017")})();var An=class{constructor(e){return e}},Nc="firestore",vi=class{constructor(){return Dt(Nc)}};var Ii=new Te("angularfire2.firestore-instances");function Hd(r,e){let t=Nt(Nc,r,e);return t&&new An(t)}function Xd(r){return(e,t)=>{let s=e.runOutsideAngular(()=>r(t));return new An(s)}}var Yd={provide:vi,deps:[[new ye,Ii]]},Jd={provide:An,useFactory:Hd,deps:[[new ye,Ii],xt]};function Dc(r,...e){return ne("angularfire",Ct.full,"fst"),nt([Jd,Yd,{provide:Ii,useFactory:Xd(r),multi:!0,deps:[st,rt,kt,Ot,[new ye,or],[new ye,ir],...e]}])}var kc=Vt(Pc,!0);var Lc="firebasestorage.googleapis.com",Zd="storageBucket",ef=120*1e3,tf=600*1e3;var Oe=class r extends it{constructor(e,t,s=0){super(Si(e),`Firebase Storage: ${t} (${Si(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Si(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Qe=(function(r){return r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment",r})(Qe||{});function Si(r){return"storage/"+r}function nf(){let r="An unknown error occurred, please check the error payload for server response.";return new Oe(Qe.UNKNOWN,r)}function rf(){return new Oe(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sf(){return new Oe(Qe.CANCELED,"User canceled the upload/download.")}function of(r){return new Oe(Qe.INVALID_URL,"Invalid URL '"+r+"'.")}function af(r){return new Oe(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Vc(r){return new Oe(Qe.INVALID_ARGUMENT,r)}function Uc(){return new Oe(Qe.APP_DELETED,"The Firebase app was deleted.")}function uf(r){return new Oe(Qe.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ge=class r{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=r.makeFromUrl(e,t)}catch{return new r(e,"")}if(s.path==="")return s;throw af(e)}static makeFromUrl(e,t){let s=null,i="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}let c="(/(.*))?$",l=new RegExp("^gs://"+i+c,"i"),d={bucket:1,path:3};function y(O){O.path_=decodeURIComponent(O.path)}let S="v[A-Za-z0-9_]+",I=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",C=new RegExp(`^https?://${I}/${S}/b/${i}/o${b}`,"i"),A={bucket:1,path:3},R=t===Lc?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",j=new RegExp(`^https?://${R}/${i}/${D}`,"i"),U=[{regex:l,indices:d,postModify:a},{regex:C,indices:A,postModify:y},{regex:j,indices:{bucket:1,path:2},postModify:y}];for(let O=0;O<U.length;O++){let ie=U[O],Q=ie.regex.exec(e);if(Q){let _=Q[ie.indices.bucket],f=Q[ie.indices.path];f||(f=""),s=new r(_,f),ie.postModify(s);break}}if(s==null)throw of(e);return s}},Ai=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function cf(r,e,t){let s=1,i=null,a=null,c=!1,l=0;function d(){return l===2}let y=!1;function S(...D){y||(y=!0,e.apply(null,D))}function I(D){i=setTimeout(()=>{i=null,r(C,d())},D)}function b(){a&&clearTimeout(a)}function C(D,...j){if(y){b();return}if(D){b(),S.call(null,D,...j);return}if(d()||c){b(),S.call(null,D,...j);return}s<64&&(s*=2);let U;l===1?(l=2,U=0):U=(s+Math.random())*1e3,I(U)}let A=!1;function R(D){A||(A=!0,b(),!y&&(i!==null?(D||(l=2),clearTimeout(i),I(0)):D||(l=1)))}return I(0),a=setTimeout(()=>{c=!0,R(!0)},t),R}function lf(r){r(!1)}function hf(r){return r!==void 0}function xc(r,e,t,s){if(s<e)throw Vc(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Vc(`Invalid value for '${r}'. Expected ${t} or less.`)}function df(r){let e=encodeURIComponent,t="?";for(let s in r)if(r.hasOwnProperty(s)){let i=e(s)+"="+e(r[s]);t=t+i+"&"}return t=t.slice(0,-1),t}var bi=(function(r){return r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",r})(bi||{});function ff(r,e){let t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}var Ri=class{constructor(e,t,s,i,a,c,l,d,y,S,I,b=!0,C=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=l,this.errorCallback_=d,this.timeout_=y,this.progressCallback_=S,this.connectionFactory_=I,this.retry=b,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,R)=>{this.resolve_=A,this.reject_=R,this.start_()})}start_(){let e=(s,i)=>{if(i){s(!1,new Gt(!1,null,!0));return}let a=this.connectionFactory_();this.pendingConnection_=a;let c=l=>{let d=l.loaded,y=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;let l=a.getErrorCode()===bi.NO_ERROR,d=a.getStatus();if(!l||ff(d,this.additionalRetryCodes_)&&this.retry){let S=a.getErrorCode()===bi.ABORT;s(!1,new Gt(!1,null,S));return}let y=this.successCodes_.indexOf(d)!==-1;s(!0,new Gt(y,a))})},t=(s,i)=>{let a=this.resolve_,c=this.reject_,l=i.connection;if(i.wasSuccessCode)try{let d=this.callback_(l,l.getResponse());hf(d)?a(d):a()}catch(d){c(d)}else if(l!==null){let d=nf();d.serverResponse=l.getErrorText(),this.errorCallback_?c(this.errorCallback_(l,d)):c(d)}else if(i.canceled){let d=this.appDelete_?Uc():sf();c(d)}else{let d=rf();c(d)}};this.canceled_?t(!1,new Gt(!1,null,!0)):this.backoffId_=cf(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lf(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Gt=class{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}};function mf(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function pf(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gf(r,e){e&&(r["X-Firebase-GMPID"]=e)}function yf(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function _f(r,e,t,s,i,a,c=!0,l=!1){let d=df(r.urlParams),y=r.url+d,S=Object.assign({},r.headers);return gf(S,e),mf(S,t),pf(S,a),yf(S,s),new Ri(y,r.method,S,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,c,l)}function wf(r){if(r.length===0)return null;let e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Ef(r){let e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}var fy=256*1024;var Pi=class r{constructor(e,t){this._service=e,t instanceof Ge?this._location=t:this._location=Ge.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new r(e,t)}get root(){let e=new Ge(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ef(this._location.path)}get storage(){return this._service}get parent(){let e=wf(this._location.path);if(e===null)return null;let t=new Ge(this._location.bucket,e);return new r(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw uf(e)}};function Oc(r,e){let t=e?.[Zd];return t==null?null:Ge.makeFromBucketSpec(t,r)}function Tf(r,e,t,s={}){r.host=`${e}:${t}`;let i=Hn(e);i&&(Xn(`https://${r.host}/b`),Jn("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";let{mockUserToken:a}=s;a&&(r._overrideAuthToken=typeof a=="string"?a:Yn(a,r.app.options.projectId))}var Ci=class{constructor(e,t,s,i,a,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=Lc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ef,this._maxUploadRetryTime=tf,this._requests=new Set,i!=null?this._bucket=Ge.makeFromBucketSpec(i,this._host):this._bucket=Oc(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ge.makeFromBucketSpec(this._url,e):this._bucket=Oc(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return x(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return x(this,null,function*(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pi(this,e)}_makeRequest(e,t,s,i,a=!0){if(this._deleted)return new Ai(Uc());{let c=_f(e,this._appId,s,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){return x(this,null,function*(){let[s,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,i).getPromise()})}},Mc="@firebase/storage",Fc="0.13.14";var qc="storage";function Bc(r=ft(),e){r=Pt(r);let s=De(r,qc).getImmediate({identifier:e}),i=Wn("storage");return i&&jc(s,...i),s}function jc(r,e,t,s={}){Tf(r,e,t,s)}function vf(r,{instanceIdentifier:e}){let t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new Ci(t,s,i,e,sr)}function If(){Ne(new Ce(qc,vf,"PUBLIC").setMultipleInstances(!0)),ne(Mc,Fc,""),ne(Mc,Fc,"esm2017")}If();var bn=class{constructor(e){return e}},$c="storage",Ni=class{constructor(){return Dt($c)}};var Di=new Te("angularfire2.storage-instances");function Sf(r,e){let t=Nt($c,r,e);return t&&new bn(t)}function Af(r){return(e,t)=>{let s=e.runOutsideAngular(()=>r(t));return new bn(s)}}var bf={provide:Ni,deps:[[new ye,Di]]},Rf={provide:bn,useFactory:Sf,deps:[[new ye,Di],xt]};function zc(r,...e){return ne("angularfire",Ct.full,"gcs"),nt([Rf,bf,{provide:Di,useFactory:Af(r),multi:!0,deps:[st,rt,kt,Ot,[new ye,or],[new ye,ir],...e]}])}var Kc=Vt(Bc,!0);var Wc="@firebase/installations",Oi="0.6.18";var Hc=1e4,Xc=`w:${Oi}`,Yc="FIS_v2",Pf="https://firebaseinstallations.googleapis.com/v1",Cf=3600*1e3,Nf="installations",Df="Installations";var kf={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vt=new Zn(Nf,Df,kf);function Jc(r){return r instanceof it&&r.code.includes("request-failed")}function Zc({projectId:r}){return`${Pf}/projects/${r}/installations`}function el(r){return{token:r.token,requestStatus:2,expiresIn:xf(r.expiresIn),creationTime:Date.now()}}function tl(r,e){return x(this,null,function*(){let s=(yield e.json()).error;return vt.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})})}function nl({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Vf(r,{refreshToken:e}){let t=nl(r);return t.append("Authorization",Of(e)),t}function rl(r){return x(this,null,function*(){let e=yield r();return e.status>=500&&e.status<600?r():e})}function xf(r){return Number(r.replace("s","000"))}function Of(r){return`${Yc} ${r}`}function Mf(s,i){return x(this,arguments,function*({appConfig:r,heartbeatServiceProvider:e},{fid:t}){let a=Zc(r),c=nl(r),l=e.getImmediate({optional:!0});if(l){let I=yield l.getHeartbeatsHeader();I&&c.append("x-firebase-client",I)}let d={fid:t,authVersion:Yc,appId:r.appId,sdkVersion:Xc},y={method:"POST",headers:c,body:JSON.stringify(d)},S=yield rl(()=>fetch(a,y));if(S.ok){let I=yield S.json();return{fid:I.fid||t,registrationStatus:2,refreshToken:I.refreshToken,authToken:el(I.authToken)}}else throw yield tl("Create Installation",S)})}function sl(r){return new Promise(e=>{setTimeout(e,r)})}function Ff(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}var Lf=/^[cdef][\w-]{21}$/,xi="";function Uf(){try{let r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;let t=qf(r);return Lf.test(t)?t:xi}catch{return xi}}function qf(r){return Ff(r).substr(0,22)}function jr(r){return`${r.appName}!${r.appId}`}var il=new Map;function ol(r,e){let t=jr(r);al(t,e),Bf(t,e)}function al(r,e){let t=il.get(r);if(t)for(let s of t)s(e)}function Bf(r,e){let t=jf();t&&t.postMessage({key:r,fid:e}),$f()}var Tt=null;function jf(){return!Tt&&"BroadcastChannel"in self&&(Tt=new BroadcastChannel("[Firebase] FID Change"),Tt.onmessage=r=>{al(r.data.key,r.data.fid)}),Tt}function $f(){il.size===0&&Tt&&(Tt.close(),Tt=null)}var zf="firebase-installations-database",Kf=1,It="firebase-installations-store",ki=null;function Mi(){return ki||(ki=pa(zf,Kf,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(It)}}})),ki}function Br(r,e){return x(this,null,function*(){let t=jr(r),i=(yield Mi()).transaction(It,"readwrite"),a=i.objectStore(It),c=yield a.get(t);return yield a.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&ol(r,e.fid),e})}function ul(r){return x(this,null,function*(){let e=jr(r),s=(yield Mi()).transaction(It,"readwrite");yield s.objectStore(It).delete(e),yield s.done})}function $r(r,e){return x(this,null,function*(){let t=jr(r),i=(yield Mi()).transaction(It,"readwrite"),a=i.objectStore(It),c=yield a.get(t),l=e(c);return l===void 0?yield a.delete(t):yield a.put(l,t),yield i.done,l&&(!c||c.fid!==l.fid)&&ol(r,l.fid),l})}function Fi(r){return x(this,null,function*(){let e,t=yield $r(r.appConfig,s=>{let i=Gf(s),a=Qf(r,i);return e=a.registrationPromise,a.installationEntry});return t.fid===xi?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function Gf(r){let e=r||{fid:Uf(),registrationStatus:0};return cl(e)}function Qf(r,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(vt.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Wf(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Hf(r)}:{installationEntry:e}}function Wf(r,e){return x(this,null,function*(){try{let t=yield Mf(r,e);return Br(r.appConfig,t)}catch(t){throw Jc(t)&&t.customData.serverCode===409?yield ul(r.appConfig):yield Br(r.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function Hf(r){return x(this,null,function*(){let e=yield Gc(r.appConfig);for(;e.registrationStatus===1;)yield sl(100),e=yield Gc(r.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:s}=yield Fi(r);return s||t}return e})}function Gc(r){return $r(r,e=>{if(!e)throw vt.create("installation-not-found");return cl(e)})}function cl(r){return Xf(r)?{fid:r.fid,registrationStatus:0}:r}function Xf(r){return r.registrationStatus===1&&r.registrationTime+Hc<Date.now()}function Yf(s,i){return x(this,arguments,function*({appConfig:r,heartbeatServiceProvider:e},t){let a=Jf(r,t),c=Vf(r,t),l=e.getImmediate({optional:!0});if(l){let I=yield l.getHeartbeatsHeader();I&&c.append("x-firebase-client",I)}let d={installation:{sdkVersion:Xc,appId:r.appId}},y={method:"POST",headers:c,body:JSON.stringify(d)},S=yield rl(()=>fetch(a,y));if(S.ok){let I=yield S.json();return el(I)}else throw yield tl("Generate Auth Token",S)})}function Jf(r,{fid:e}){return`${Zc(r)}/${e}/authTokens:generate`}function Li(r,e=!1){return x(this,null,function*(){let t,s=yield $r(r.appConfig,a=>{if(!ll(a))throw vt.create("not-registered");let c=a.authToken;if(!e&&tm(c))return a;if(c.requestStatus===1)return t=Zf(r,e),a;{if(!navigator.onLine)throw vt.create("app-offline");let l=rm(a);return t=em(r,l),l}});return t?yield t:s.authToken})}function Zf(r,e){return x(this,null,function*(){let t=yield Qc(r.appConfig);for(;t.authToken.requestStatus===1;)yield sl(100),t=yield Qc(r.appConfig);let s=t.authToken;return s.requestStatus===0?Li(r,e):s})}function Qc(r){return $r(r,e=>{if(!ll(e))throw vt.create("not-registered");let t=e.authToken;return sm(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function em(r,e){return x(this,null,function*(){try{let t=yield Yf(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return yield Br(r.appConfig,s),t}catch(t){if(Jc(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield ul(r.appConfig);else{let s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Br(r.appConfig,s)}throw t}})}function ll(r){return r!==void 0&&r.registrationStatus===2}function tm(r){return r.requestStatus===2&&!nm(r)}function nm(r){let e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+Cf}function rm(r){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function sm(r){return r.requestStatus===1&&r.requestTime+Hc<Date.now()}function im(r){return x(this,null,function*(){let e=r,{installationEntry:t,registrationPromise:s}=yield Fi(e);return s?s.catch(console.error):Li(e).catch(console.error),t.fid})}function om(r,e=!1){return x(this,null,function*(){let t=r;return yield am(t),(yield Li(t,e)).token})}function am(r){return x(this,null,function*(){let{registrationPromise:e}=yield Fi(r);e&&(yield e)})}function um(r){if(!r||!r.options)throw Vi("App Configuration");if(!r.name)throw Vi("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!r.options[t])throw Vi(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Vi(r){return vt.create("missing-app-config-values",{valueName:r})}var hl="installations",cm="installations-internal",lm=r=>{let e=r.getProvider("app").getImmediate(),t=um(e),s=De(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},hm=r=>{let e=r.getProvider("app").getImmediate(),t=De(e,hl).getImmediate();return{getId:()=>im(t),getToken:i=>om(t,i)}};function dm(){Ne(new Ce(hl,lm,"PUBLIC")),Ne(new Ce(cm,hm,"PRIVATE"))}dm();ne(Wc,Oi);ne(Wc,Oi,"esm2017");var zr="analytics",fm="firebase_id",mm="origin",pm=60*1e3,gm="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ki="https://www.googletagmanager.com/gtag/js";var pe=new nr("@firebase/analytics");var ym={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_e=new Zn("analytics","Analytics",ym);function _m(r){if(!r.startsWith(Ki)){let e=_e.create("invalid-gtag-resource",{gtagURL:r});return pe.warn(e.message),""}return r}function _l(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function wm(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function Em(r,e){let t=wm("firebase-js-sdk-policy",{createScriptURL:_m}),s=document.createElement("script"),i=`${Ki}?l=${r}&id=${e}`;s.src=t?t?.createScriptURL(i):i,s.async=!0,document.head.appendChild(s)}function Tm(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}function vm(r,e,t,s,i,a){return x(this,null,function*(){let c=s[i];try{if(c)yield e[c];else{let d=(yield _l(t)).find(y=>y.measurementId===i);d&&(yield e[d.appId])}}catch(l){pe.error(l)}r("config",i,a)})}function Im(r,e,t,s,i){return x(this,null,function*(){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);let l=yield _l(t);for(let d of c){let y=l.find(I=>I.measurementId===d),S=y&&e[y.appId];if(S)a.push(S);else{a=[];break}}}a.length===0&&(a=Object.values(e)),yield Promise.all(a),r("event",s,i||{})}catch(a){pe.error(a)}})}function Sm(r,e,t,s){function i(a,...c){return x(this,null,function*(){try{if(a==="event"){let[l,d]=c;yield Im(r,e,t,l,d)}else if(a==="config"){let[l,d]=c;yield vm(r,e,t,s,l,d)}else if(a==="consent"){let[l,d]=c;r("consent",l,d)}else if(a==="get"){let[l,d,y]=c;r("get",l,d,y)}else if(a==="set"){let[l]=c;r("set",l)}else r(a,...c)}catch(l){pe.error(l)}})}return i}function Am(r,e,t,s,i){let a=function(...c){window[s].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Sm(a,r,e,t),{gtagCore:a,wrappedGtag:window[i]}}function bm(r){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(Ki)&&t.src.includes(r))return t;return null}var Rm=30,Pm=1e3,qi=class{constructor(e={},t=Pm){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},wl=new qi;function Cm(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}function Nm(r){return x(this,null,function*(){var e;let{appId:t,apiKey:s}=r,i={method:"GET",headers:Cm(s)},a=gm.replace("{app-id}",t),c=yield fetch(a,i);if(c.status!==200&&c.status!==304){let l="";try{let d=yield c.json();!((e=d.error)===null||e===void 0)&&e.message&&(l=d.error.message)}catch{}throw _e.create("config-fetch-failed",{httpStatus:c.status,responseMessage:l})}return c.json()})}function Dm(s){return x(this,arguments,function*(r,e=wl,t){let{appId:i,apiKey:a,measurementId:c}=r.options;if(!i)throw _e.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:i};throw _e.create("no-api-key")}let l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Bi;return setTimeout(()=>x(null,null,function*(){d.abort()}),t!==void 0?t:pm),El({appId:i,apiKey:a,measurementId:c},l,d,e)})}function El(a,c,l){return x(this,arguments,function*(r,{throttleEndTimeMillis:e,backoffCount:t},s,i=wl){var d;let{appId:y,measurementId:S}=r;try{yield km(s,e)}catch(I){if(S)return pe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${I?.message}]`),{appId:y,measurementId:S};throw I}try{let I=yield Nm(r);return i.deleteThrottleMetadata(y),I}catch(I){let b=I;if(!Vm(b)){if(i.deleteThrottleMetadata(y),S)return pe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:y,measurementId:S};throw I}let C=Number((d=b?.customData)===null||d===void 0?void 0:d.httpStatus)===503?Is(t,i.intervalMillis,Rm):Is(t,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(y,A),pe.debug(`Calling attemptFetch again in ${C} millis`),El(r,A,s,i)}})}function km(r,e){return new Promise((t,s)=>{let i=Math.max(e-Date.now(),0),a=setTimeout(t,i);r.addEventListener(()=>{clearTimeout(a),s(_e.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Vm(r){if(!(r instanceof it)||!r.customData)return!1;let e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}var Bi=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var ji;function xm(r,e,t,s,i){return x(this,null,function*(){if(i&&i.global){r("event",t,s);return}else{let a=yield e,c=Object.assign(Object.assign({},s),{send_to:a});r("event",t,c)}})}var $i;function Om(r){$i=r}function Mm(r){ji=r}function Fm(){return x(this,null,function*(){if(vs())try{yield fa()}catch(r){return pe.warn(_e.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return pe.warn(_e.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Lm(r,e,t,s,i,a,c){return x(this,null,function*(){var l;let d=Dm(r);d.then(C=>{t[C.measurementId]=C.appId,r.options.measurementId&&C.measurementId!==r.options.measurementId&&pe.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>pe.error(C)),e.push(d);let y=Fm().then(C=>{if(C)return s.getId()}),[S,I]=yield Promise.all([d,y]);bm(a)||Em(a,S.measurementId),$i&&(i("consent","default",$i),Om(void 0)),i("js",new Date);let b=(l=c?.config)!==null&&l!==void 0?l:{};return b[mm]="firebase",b.update=!0,I!=null&&(b[fm]=I),i("config",S.measurementId,b),ji&&(i("set",ji),Mm(void 0)),S.measurementId})}var zi=class{constructor(e){this.app=e}_delete(){return delete Rn[this.app.options.appId],Promise.resolve()}},Rn={},dl=[],fl={},Ui="dataLayer",Um="gtag",ml,Tl,pl=!1;function qm(){let r=[];if(da()&&r.push("This is a browser extension environment."),ma()||r.push("Cookies are not available."),r.length>0){let e=r.map((s,i)=>`(${i+1}) ${s}`).join(" "),t=_e.create("invalid-analytics-context",{errorInfo:e});pe.warn(t.message)}}function Bm(r,e,t){qm();let s=r.options.appId;if(!s)throw _e.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)pe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _e.create("no-api-key");if(Rn[s]!=null)throw _e.create("already-exists",{id:s});if(!pl){Tm(Ui);let{wrappedGtag:a,gtagCore:c}=Am(Rn,dl,fl,Ui,Um);Tl=a,ml=c,pl=!0}return Rn[s]=Lm(r,dl,fl,e,ml,Ui,t),new zi(r)}function vl(r=ft()){r=Pt(r);let e=De(r,zr);return e.isInitialized()?e.getImmediate():Il(r)}function Il(r,e={}){let t=De(r,zr);if(t.isInitialized()){let i=t.getImmediate();if(er(e,t.getOptions()))return i;throw _e.create("already-initialized")}return t.initialize({options:e})}function Sl(r,e,t,s){r=Pt(r),xm(Tl,Rn[r.app.options.appId],e,t,s).catch(i=>pe.error(i))}var gl="@firebase/analytics",yl="0.10.17";function jm(){Ne(new Ce(zr,(e,{options:t})=>{let s=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Bm(s,i,t)},"PUBLIC")),Ne(new Ce("analytics-internal",r,"PRIVATE")),ne(gl,yl),ne(gl,yl,"esm2017");function r(e){try{let t=e.getProvider(zr).getImmediate();return{logEvent:(s,i,a)=>Sl(t,s,i,a)}}catch(t){throw _e.create("interop-component-reg-failed",{reason:t})}}}jm();var Pn=class{constructor(e){return e}},Al="analytics",Gi=class{constructor(){return Dt(Al)}};var bl=Vt(vl,!0);var w_=Math.floor(Math.random()*(2**32-1))-2**31;var Qi=new Te("angularfire2.analytics-instances");function $m(r,e,t){if(!Es(t))return null;let s=Nt(Al,r,e);return s&&new Pn(s)}function zm(r){return(e,t,s)=>{if(!Es(s))return null;let i=e.runOutsideAngular(()=>r(t));return new Pn(i)}}var Km={provide:Gi,deps:[[new ye,Qi]]},Gm={provide:Pn,useFactory:$m,deps:[[new ye,Qi],xt,_s]};function Rl(r,...e){return ne("angularfire",Ct.full,"analytics"),nt([Gm,Km,{provide:Qi,useFactory:zm(r),multi:!0,deps:[st,rt,_s,kt,Ot,...e]}])}var Pl=(()=>{class r{http;prefix;suffix;constructor(t,s="/assets/i18n/",i=".json"){this.http=t,this.prefix=s,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}static \u0275fac=function(s){return new(s||r)(et(Gn),et(String),et(String))};static \u0275prov=Be({token:r,factory:r.\u0275fac})}return r})();var Wi="@@STATE",Cn=(function(r){return r[r.LocalStorage=0]="LocalStorage",r[r.SessionStorage=1]="SessionStorage",r})(Cn||{}),Kr=new Te(""),Cl=new Te("",{providedIn:"root",factory:()=>tt(Kr).keys==="*"}),Nn=new Te(""),Hi=new Te("");function Xi(r){return!!r?.engine}function Nl(r){return Xi(r)&&(r=r.key),cn(r,Ss)&&(r=r[Ss].name),r instanceof Sa?r.getName():r}function Qm(r){return ys(qe({storage:Cn.LocalStorage,serialize:JSON.stringify,deserialize:JSON.parse,beforeSerialize:e=>e,afterDeserialize:e=>e},r),{keys:r.keys==="*"?[Wi]:r.keys})}function Wm(r){return r.storage===Cn.LocalStorage?localStorage:r.storage===Cn.SessionStorage?sessionStorage:null}function Dl(r,e){return e?.namespace?`${e.namespace}:${r}`:r}var Hm=(()=>{class r{_keys=new Set;_injector=tt(rt);_keysWithEngines=[];constructor(){let{keys:t}=tt(Nn);this.addKeys(t)}getKeysWithEngines(){return[...this._keysWithEngines]}addKeys(t){for(let s of t){let i=Nl(s);if(this._keys.has(i))continue;this._keys.add(i);let a=Xi(s)?this._injector.get(s.engine):this._injector.get(Hi);this._keysWithEngines.push({key:i,engine:a})}}static \u0275fac=function(s){return new(s||r)};static \u0275prov=Be({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Xm=(()=>{class r{_keysManager=tt(Hm);_options=tt(Nn);_allStatesPersisted=tt(Cl);handle(t,s,i){let a=Ra(s),c=a(Aa),l=a(ba),d=c||l,y=!1;if(d){let S=l&&s.addedStates;for(let{key:I,engine:b}of this._keysManager.getKeysWithEngines()){if(!this._allStatesPersisted&&S){let R=I.indexOf(Ym),D=R>-1?I.slice(0,R):I;if(!cn(S,D))continue}let C=Dl(I,this._options),A=b.getItem(C);if(A!=="undefined"&&A!=null){try{let R=this._options.deserialize(A);A=this._options.afterDeserialize(R,I)}catch{A={}}this._options.migrations?.forEach(R=>{let D=R.version===As(A,R.versionKey||"version"),j=!R.key&&this._allStatesPersisted||R.key===I;D&&j&&(A=R.migrate(A),y=!0)}),this._allStatesPersisted?(A=this._hydrateSelectivelyOnUpdate(A,S),t=qe(qe({},t),A)):t=Pa(t,I,A)}}}return i(t,s).pipe(Zo(S=>{if(!(d&&!y))for(let{key:I,engine:b}of this._keysManager.getKeysWithEngines()){let C=S,A=Dl(I,this._options);I!==Wi&&(C=As(S,I));try{let R=this._options.beforeSerialize(C,I);b.setItem(A,this._options.serialize(R))}catch{}}}))}_hydrateSelectivelyOnUpdate(t,s){return!t||!s||Object.keys(s).length===0?t:Object.keys(s).reduce((i,a)=>(cn(t,a)&&(i[a]=t[a]),i),{})}static \u0275fac=function(s){return new(s||r)};static \u0275prov=Be({token:r,factory:r.\u0275fac})}return r})(),Ym=".";function kl(r){return nt([Na(Xm),{provide:Kr,useValue:r},{provide:Nn,useFactory:Qm,deps:[Kr]},{provide:Hi,useFactory:Wm,deps:[Nn]}])}var Vl={production:!0,firebase:{apiKey:"AIzaSyAOQ2p4Gwnd_7sZydjKTDpnxQFyO2SefCY",authDomain:"fed-catalogo-arquitetura.firebaseapp.com",projectId:"fed-catalogo-arquitetura",storageBucket:"fed-catalogo-arquitetura.firebasestorage.app",messagingSenderId:"561253150491",appId:"1:561253150491:web:1c0a1ed771cf5900c6adbe",measurementId:"G-D14BB7814F"}};var xl=[{path:"",loadChildren:()=>import("./chunk-P3EETM4P.js")},{path:"listing/grid-view",loadChildren:()=>import("./chunk-C7I5EIYH.js")},{path:"listing/list-view",loadChildren:()=>import("./chunk-TBOLUVOO.js")},{path:"listing/tab-layout",loadChildren:()=>import("./chunk-K4A7DEBS.js")},{path:"property",loadChildren:()=>import("./chunk-5JQQPGAO.js")},{path:"page",loadChildren:()=>import("./chunk-2ASMQIRD.js")},{path:"modules",loadChildren:()=>import("./chunk-Y2P6OC6V.js")},{path:"agent",loadChildren:()=>import("./chunk-E42SLJJ6.js")},{path:"contact",loadChildren:()=>import("./chunk-Z5JZ3DOH.js")}];var Ol=[{path:"",loadComponent:()=>import("./chunk-LQA4KBMA.js").then(r=>r.Layout),children:xl},{path:"**",redirectTo:"page/other-pages/404",pathMatch:"full"}];function Jm(r){return new Pl(r,"./assets/i18n/",".json")}var Ml={providers:[la(Ol),ua(),Ou(),Da(),ka(),ga(()=>ya(Vl.firebase)),_a(()=>wa()),Ea(()=>Ta()),Dc(()=>kc()),zc(()=>Kc()),Rl(()=>bl()),Ca([Fa,Va,Ma,xa,Oa],kl({keys:["wishlist","compare"]})),ea(Ia.forRoot({loader:{provide:va,useFactory:Jm,deps:[Gn]}}))]};aa(La,Ml).catch(r=>console.error(r));
