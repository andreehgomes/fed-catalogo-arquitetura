import{a as z,b as H}from"./chunk-7LTBQZNK.js";import{a as O,b as $}from"./chunk-4NUI66GA.js";import{a as q}from"./chunk-QE426XMF.js";import{i as E}from"./chunk-JLKYV42Y.js";import{a as R}from"./chunk-SBZSNFXF.js";import{m as j}from"./chunk-ACCN7XIB.js";import{Bb as _,Dc as N,Eb as g,Hb as p,Oc as A,Pa as o,Sb as D,Vb as m,Wb as V,Wc as M,Xb as k,Yb as T,Yc as I,ab as S,fc as B,ia as y,kc as G,lb as f,mb as v,mc as F,nb as P,oa as h,ob as b,pa as u,pb as C,qb as d,rb as l,sb as c,sc as x,tb as w,tc as s}from"./chunk-NXIMDZUX.js";var L=a=>({disabled:a}),U=a=>({"active disabled":a});function W(a,n){if(a&1){let t=_();l(0,"li",2)(1,"a",7),g("click",function(){let r=h(t).$implicit,i=p(3);return u(i.pageSet(r))}),m(2),c()()}if(a&2){let t,e=n.$implicit,r=p(3);d("ngClass",B(2,U,((t=r.paginate())==null?null:t.currentPage)===e)),o(2),V(e)}}function X(a,n){if(a&1){let t=_();l(0,"ul",1)(1,"li",2)(2,"a",3),g("click",function(){h(t);let r=p(2);return u(r.pageSet(r.paginate().currentPage-1))}),l(3,"span",4),m(4,"\xAB"),c(),l(5,"span",5),m(6,"Previous"),c()()(),b(7,W,3,4,"li",2,P),l(9,"li",2)(10,"a",6),g("click",function(){h(t);let r=p(2);return u(r.pageSet(r.paginate().currentPage+1))}),l(11,"span",4),m(12,"\xBB"),c(),l(13,"span",5),m(14,"Next"),c()()()()}if(a&2){let t,e,r,i=p(2);o(),d("ngClass",B(2,L,((t=i.paginate())==null?null:t.currentPage)===1)),o(6),C((e=i.paginate())==null?null:e.pages),o(2),d("ngClass",B(4,L,((r=i.paginate())==null?null:r.currentPage)===((r=i.paginate())==null?null:r.totalPages)))}}function Y(a,n){if(a&1&&(l(0,"nav",0),f(1,X,15,6,"ul",1),c()),a&2){let t,e=p();o(),v((t=e.paginate())!=null&&t.pages&&(!((t=e.paginate())==null||t.pages==null)&&t.pages.length)?1:-1)}}var J=(()=>{let n=class n{constructor(){this.products=s([]),this.paginate=s(),this.total=s(),this.currentPage=s(),this.pageSize=s(),this.setPage=x()}pageSet(e){this.setPage.emit(e)}};n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=S({type:n,selectors:[["app-pagination"]],inputs:{products:[1,"products"],paginate:[1,"paginate"],total:[1,"total"],currentPage:[1,"currentPage"],pageSize:[1,"pageSize"]},outputs:{setPage:"setPage"},decls:1,vars:1,consts:[[1,"theme-pagination"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0)","aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],[1,"sr-only"],["href","javascript:void(0)","aria-label","Next",1,"page-link",3,"click"],["href","javascript:void(0)",1,"page-link",3,"click"]],template:function(r,i){r&1&&f(0,Y,2,1,"nav",0),r&2&&v(i.products()&&i.products().length?0:-1)},dependencies:[A,N],encapsulation:2});let a=n;return a})();function Z(a,n){if(a&1){let t=_();l(0,"a",2),m(1),l(2,"app-feather-icons",6),g("click",function(){let r=h(t).$implicit,i=p();return u(i.removeTag(r))}),c()()}if(a&2){let t=n.$implicit;o(),k(" ",t," "),o(),d("icon","x")}}function ee(a,n){if(a&1){let t=_();l(0,"a",2),m(1),G(2,"currencySymbol"),G(3,"currencySymbol"),l(4,"app-feather-icons",6),g("click",function(){h(t);let r=p();return u(r.removePrice())}),c()()}if(a&2){let t=p();o(),T(" Price : ",F(2,3,t.price==null?null:t.price.minPrice,t.propertyService.Currency)," - ",F(3,6,t.price==null?null:t.price.maxPrice,t.propertyService.Currency)," "),o(3),d("icon","x")}}function te(a,n){if(a&1){let t=_();l(0,"a",2),m(1),l(2,"app-feather-icons",6),g("click",function(){h(t);let r=p();return u(r.removeArea())}),c()()}if(a&2){let t=p();o(),T(" Area : ",t.area==null?null:t.area.minArea," - ",t.area==null?null:t.area.maxArea," "),o(),d("icon","x")}}function ie(a,n){if(a&1&&(l(0,"div"),w(1,"app-property-box",7),c()),a&2){let t=n.$implicit,e=p();D("col-md-6",e.col_md_6)("col-lg-6",e.col_lg_6)("col-lg-4",e.col_lg_4)("col-xl-4",e.col_xl_4)("col-xxl-3",e.col_xxl_3)("col-xl-12",e.col_xl_12)("col-xl-6",e.col_xl_6),o(),d("latestForRentData",t)("type","basic")("tagClass","color-2")("thumbnail",e.thumbnail())("thumbnail_video",e.thumbnail_video())("gridImages",e.gridImages())}}var Pe=(()=>{let n=class n{constructor(){this.propertyService=y(j),this.propertyBoxGridService=y(O),this.route=y(M),this.router=y(I),this.store=y(E),this.type=s(),this.filter=s(),this.map=s(),this.thumbnail=s(!1),this.thumbnail_video=s(!1),this.pagination=s(!0),this.gridImages=s(!1),this.filterValue=s(),this.sidebarType=s(),this.totalProperty=x(),this.paginationData=x(),this.paramsTagData=x(),this.categoryData=x(),this.totalItems=0,this.isOpenFilter=!1,this.isOpen=!1,this.listView=!1,this.active=!1,this.listViewBox=!1,this.col_lg_6=!1,this.col_md_6=!1,this.col_lg_4=!1,this.col_xxl_3=!1,this.col_xl_6=!1,this.col_6=!1,this.col_xl_12=!1,this.col_xl_4=!1,this.pageNo=1,this.category=[],this.status=[],this.rooms=[],this.beds=[],this.bath=[],this.agency=[],this.tags=[],this.category$=this.store.select(H.category),this.route.queryParams.subscribe(e=>{this.category=e.category?e.category.split(","):[],this.status=e.status?e.status.split(","):[],this.rooms=e.room?e.room.split(","):[],this.beds=e.bed?e.bed.split(","):[],this.bath=e.bath?e.bath.split(","):[],this.agency=e.agency?e.agency.split(","):[],this.minPrice=e.minPrice?e.minPrice:[],this.maxPrice=e.maxPrice?e.maxPrice:[],this.minArea=e.minArea?e.minArea:[],this.maxArea=e.maxArea?e.maxArea:[],this.pageNo=e.page?e.page:this.pageNo,this.sortBy=e.sortBy?e.sortBy:[],this.price={minPrice:Number(this.minPrice),maxPrice:Number(this.maxPrice)},this.area={minArea:Number(this.minArea),maxArea:Number(this.maxArea)},this.paramsTag=[...this.category,...this.status,...this.rooms,...this.beds,...this.bath,...this.agency],this.paramsTagData.emit(this.paramsTag),this.store.dispatch(new z(this.paramsTag,this.price,this.area,this.category,this.sortBy)),this.category$.subscribe(r=>{this.latestForRentData=r,this.paginate=this.propertyService.getPager(this.latestForRentData?.length,+this.pageNo),this.paginationData.emit(this.paginate),this.latestForRentData=this.latestForRentData?.slice(this.paginate.startIndex,this.paginate.endIndex+1)})})}ngOnInit(){let e=this.type();e=="grid-2"&&(this.propertyBoxGridService.col_md_6=!0,this.propertyBoxGridService.col_xl_4=!1),e=="grid-3"&&(this.propertyBoxGridService.col_xl_4=!0,this.propertyBoxGridService.col_md_6=!0),e=="map"&&(this.propertyBoxGridService.col_md_6=!0,this.propertyBoxGridService.col_lg_6=!0),e=="list"&&(this.propertyBoxGridService.listView=!0,this.sidebarType()=="no_sidebar"?(this.propertyBoxGridService.col_xl_6=!0,this.propertyBoxGridService.col_md_6=!1):(this.propertyBoxGridService.col_xl_12=!0,this.propertyBoxGridService.col_md_6=!1))}openMenu(){this.isOpen=!this.isOpen}openFilter(){this.isOpenFilter=!this.isOpenFilter}setPage(e){this.router.navigate([],{relativeTo:this.route,queryParams:{page:e},queryParamsHandling:"merge",skipLocationChange:!1})}removePrice(){this.price=null;let e={minPrice:null,maxPrice:null};this.router.navigate([],{relativeTo:this.route,queryParams:e,queryParamsHandling:"merge",skipLocationChange:!1})}removeArea(){this.area=null;let e={minArea:null,maxArea:null};this.router.navigate([],{relativeTo:this.route,queryParams:e,queryParamsHandling:"merge",skipLocationChange:!1})}removeTag(e){this.category=this.category.filter(i=>i!=e),this.status=this.status.filter(i=>i!=e),this.rooms=this.rooms.filter(i=>i!=e),this.beds=this.beds.filter(i=>i!=e),this.bath=this.bath.filter(i=>i!=e),this.agency=this.agency.filter(i=>i!=e);let r={category:this.category.length?this.category.join(","):null,status:this.status.length?this.status.join(","):null,room:this.rooms.length?this.rooms.join(","):null,bed:this.beds.length?this.beds.join(","):null,bath:this.bath.length?this.bath.join(","):null,agency:this.agency.length?this.agency.join(","):null};this.router.navigate([],{relativeTo:this.route,queryParams:r,queryParamsHandling:"merge",skipLocationChange:!1})}ngDoCheck(){this.listView=this.propertyBoxGridService.listView,this.col_lg_6=this.propertyBoxGridService.col_lg_6,this.col_md_6=this.propertyBoxGridService.col_md_6,this.col_lg_4=this.propertyBoxGridService.col_lg_4,this.col_xl_4=this.propertyBoxGridService.col_xl_4,this.col_xxl_3=this.propertyBoxGridService.col_xxl_3,this.col_6=this.propertyBoxGridService.col_6,this.col_xl_12=this.propertyBoxGridService.col_xl_12,this.col_xl_6=this.propertyBoxGridService.col_xl_6}ngOnDestroy(){this.propertyBoxGridService.listView=!1,this.propertyBoxGridService.col_lg_6=!1,this.propertyBoxGridService.col_md_6=!1,this.propertyBoxGridService.col_lg_4=!1,this.propertyBoxGridService.col_xxl_3=!1,this.propertyBoxGridService.col_6=!1,this.propertyBoxGridService.col_xl_12=!1,this.propertyBoxGridService.col_xl_4=!1,this.propertyBoxGridService.col_xl_6=!1}};n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=S({type:n,selectors:[["app-common-filter-property-box"]],inputs:{type:[1,"type"],filter:[1,"filter"],map:[1,"map"],thumbnail:[1,"thumbnail"],thumbnail_video:[1,"thumbnail_video"],pagination:[1,"pagination"],gridImages:[1,"gridImages"],filterValue:[1,"filterValue"],sidebarType:[1,"sidebarType"]},outputs:{totalProperty:"totalProperty",paginationData:"paginationData",paramsTagData:"paramsTagData",categoryData:"categoryData"},decls:10,vars:6,consts:[[1,"product-filter-tags"],[1,"me-1"],["href","javascript:void(0)",1,"filter_tag"],[1,"property-2","row","column-sm","zoom-gallery","property-label","property-grid"],[3,"col-md-6","col-lg-6","col-lg-4","col-xl-4","col-xxl-3","col-xl-12","col-xl-6"],[3,"setPage","products","paginate"],[3,"click","icon"],[3,"latestForRentData","type","tagClass","thumbnail","thumbnail_video","gridImages"]],template:function(r,i){r&1&&(l(0,"ul",0)(1,"li",1),b(2,Z,3,2,"a",2,P),f(4,ee,5,9,"a",2),f(5,te,3,3,"a",2),c()(),l(6,"div",3),b(7,ie,2,20,"div",4,P),c(),l(9,"app-pagination",5),g("setPage",function(K){return i.setPage(K)}),c()),r&2&&(o(2),C(i.paramsTag),o(2),v(i.price!=null&&i.price.minPrice||i.price!=null&&i.price.maxPrice?4:-1),o(),v(i.area!=null&&i.area.minArea||i.area!=null&&i.area.maxArea?5:-1),o(),D("list-view",i.listView),o(),C(i.latestForRentData),o(2),d("products",i.latestForRentData)("paginate",i.paginate))},dependencies:[R,$,J,q],encapsulation:2});let a=n;return a})();export{J as a,Pe as b};
